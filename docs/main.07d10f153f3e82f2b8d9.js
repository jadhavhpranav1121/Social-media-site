(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"5x/H":function(t,e,n){"use strict";n.r(e);var r=n("zIRd"),i=n("mrSG"),o=n("qOnz"),s=n("q/0M"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:b).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function S(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.s=this.s,this.o=this.o}var T={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++y)}(this);delete T[t]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var I=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var A,R=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var D=f.navigator;if(D){var j=D.userAgent;if(j){A=j;break t}}A=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function F(t){var e={};for(var n in t)e[n]=t[n];return e}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}V[" "]=d;var B,q,H=N(A,"Opera"),z=N(A,"Trident")||N(A,"MSIE"),K=N(A,"Edge"),G=K||z,W=N(A,"Gecko")&&!(N(A.toLowerCase(),"webkit")&&!N(A,"Edge"))&&!(N(A,"Trident")||N(A,"MSIE"))&&!N(A,"Edge"),$=N(A.toLowerCase(),"webkit")&&!N(A,"Edge");function Q(){var t=f.document;return t?t.documentMode:void 0}t:{var X="",Y=(q=A,W?/rv:([^\);]+)(\)|;)/.exec(q):K?/Edge\/([\d\.]+)/.exec(q):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):$?/WebKit\/(\S+)/.exec(q):H?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Y&&(X=Y?Y[1]:""),z){var Z=Q();if(null!=Z&&Z>parseFloat(X)){B=String(Z);break t}}B=X}var J={};var tt=f.document&&z&&(Q()||parseInt(B,10))||void 0,et=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W){t:{try{V(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rt.Z.h.call(this)}}nt.prototype.h=function(){this.defaultPrevented=!0},S(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++st,this.ca=this.fa=!1}function ut(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ct(t){this.src=t,this.g={},this.h=0}function lt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=I(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=ht(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new at(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return gt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ot]?t.N(e,n,m(r)?!!r.capture:!!r,i):mt(t,e,n,!1,r,i)}function mt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=wt(t);if(a||(t[ft]=a=new ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=_t;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ot]?t.O(e,n,m(r)?!!r.capture:!!r,i):mt(t,e,n,!0,r,i)}function yt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=Et(n),t&&t[ot]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=ht(o=t.g[e],n,r,i))&&(ut(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=wt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ht(e,n,r,i)),(n=-1<t?e[t]:null)&&vt(n))}function vt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ot])lt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wt(e))?(lt(n,t),0==n.h&&(n.src=null,e[ft]=null)):ut(t)}}}function bt(t){return t in dt?dt[t]:dt[t]="on"+t}function _t(t,e){if(t.ca)t=!0;else{e=new rt(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&vt(t),t=n.call(r,e)}return t}function wt(t){return(t=t[ft])instanceof ct?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==typeof t?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function Tt(){E.call(this),this.i=new ct(this),this.P=this,this.I=null}function It(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new nt(e,t);else if(e instanceof nt)e.target=e.target||t;else{var i=e;U(e=new nt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ct(s,r,!0,e)&&i}if(i=Ct(s=e.g=t,r,!0,e)&&i,i=Ct(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ct(s=e.g=n[o],r,!1,e)&&i}function Ct(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&lt(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}S(Tt,E),Tt.prototype[ot]=!0,Tt.prototype.removeEventListener=function(t,e,n,r){yt(this,t,e,n,r)},Tt.prototype.M=function(){if(Tt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ut(n[r]);delete e.g[t],e.h--}}this.I=null},Tt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var kt=f.JSON.stringify;function Ot(){var t=Lt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var xt,At=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Rt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Nt},function(t){return t.reset()}),Nt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Pt(t){f.setTimeout(function(){throw t},0)}function Dt(t,e){xt||function(){var t=f.Promise.resolve(void 0);xt=function(){t.then(Ft)}}(),jt||(xt(),jt=!0),Lt.add(t,e)}var jt=!1,Lt=new At;function Ft(){for(var t;t=Ot();){try{t.h.call(t.g)}catch(n){Pt(n)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jt=!1}function Mt(t,e){Tt.call(this),this.h=t||1,this.g=e||f,this.j=_(this.kb,this),this.l=Date.now()}function Ut(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Vt(t,e,n){if("function"==typeof t)n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Bt(t){t.g=Vt(function(){t.g=null,t.i&&(t.i=!1,Bt(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}S(Mt,Tt),(c=Mt.prototype).da=!1,c.S=null,c.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),It(this,"tick"),this.da&&(Ut(this),this.start()))}},c.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},c.M=function(){Mt.Z.M.call(this),Ut(this),delete this.g};var qt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Bt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(E);function Ht(t){E.call(this),this.h=t,this.g={}}S(Ht,E);var zt=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Gt(t){L(t.g,function(t,e){this.g.hasOwnProperty(e)&&vt(t)},t),t.g={}}function Wt(){this.g=!0}function $t(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return kt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ht.prototype.M=function(){Ht.Z.M.call(this),Gt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.Aa=function(){this.g=!1},Wt.prototype.info=function(){};var Qt={},Xt=null;function Yt(){return Xt=Xt||new Tt}function Zt(t){nt.call(this,Qt.Ma,t)}function Jt(t){var e=Yt();It(e,new Zt(e,t))}function te(t,e){nt.call(this,Qt.STAT_EVENT,t),this.stat=e}function ee(t){var e=Yt();It(e,new te(e,t))}function ne(t,e){nt.call(this,Qt.Na,t),this.size=e}function re(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){t()},e)}Qt.Ma="serverreachability",S(Zt,nt),Qt.STAT_EVENT="statevent",S(te,nt),Qt.Na="timingevent",S(ne,nt);var ie={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function se(){}function ae(){}se.prototype.h=null;var ue,ce={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function le(){nt.call(this,"d")}function he(){nt.call(this,"c")}function fe(){}function de(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ht(this),this.P=me,this.W=new Mt(t=G?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}S(le,nt),S(he,nt),S(fe,se),fe.prototype.g=function(){return new XMLHttpRequest},fe.prototype.i=function(){return{}},ue=new fe;var me=45e3,ge={},ye={};function ve(t,e,n){t.K=1,t.v=Be(je(e)),t.s=n,t.U=!0,be(t,null)}function be(t,e){t.F=Date.now(),Ee(t),t.A=je(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),tn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new pe,t.g=nr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new qt(_(t.Ia,t,t.g),t.O)),Kt(t.V,t.g,"readystatechange",t.gb),e=t.H?F(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Jt(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function _e(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function we(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Se(t,n))==ye){4==e&&(t.o=4,ee(14),i=!1),$t(t.j,t.m,null,"[Incomplete Response]");break}if(r==ge){t.o=4,ee(15),$t(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}$t(t.j,t.m,r,null),Oe(t,r)}_e(t)&&r!=ye&&r!=ge&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ee(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$n(e),e.L=!0,ee(11))):($t(t.j,t.m,n,"[Invalid Chunked Response]"),ke(t),Ce(t))}function Se(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?ge:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.C=r+n,e))}function Ee(t){t.Y=Date.now()+t.P,Te(t,t.P)}function Te(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=re(_(t.eb,t),e)}function Ie(t){t.B&&(f.clearTimeout(t.B),t.B=null)}function Ce(t){0==t.l.G||t.I||Yn(t.l,t)}function ke(t){Ie(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ut(t.W),Gt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Oe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||un(n.i,t)))if(n.I=t.N,!t.J&&un(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Xn(n),Un(n)}Wn(n),ee(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=re(_(n.ab,n),6e3));if(1>=an(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Jn(n,11)}else if((t.J||n.g==t)&&Xn(n),!x(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(N(l,"spdy")||N(l,"quic")||N(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(cn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Ve(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=er(r,r.H?r.la:null,r.W),d.J){ln(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Ie(p),Ee(p)),r.g=d}else Gn(r);0<n.l.length&&qn(n)}else"stop"!=o[0]&&"close"!=o[0]||Jn(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Jn(n,7):Mn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Jt(4)}catch(o){}}function xe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)C(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Re(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ne(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ne(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=de.prototype).setTimeout=function(t){this.P=t},c.gb=function(t){t=t.target;var e=this.L;e&&3==Pn(t)?e.l():this.Ia(t)},c.Ia=function(t){try{if(t==this.g)t:{var e=Pn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||G||this.g&&(this.h.h||this.g.ga()||Dn(this.g)))){this.I||4!=e||7==n||Jt(8==n||0>=r?3:2),Ie(this);var i=this.g.ba();this.N=i;e:if(_e(this)){var o=Dn(this.g);t="";var s=o.length,a=4==Pn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ke(this),Ce(this);var u="";break e}this.h.i=new f.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ee(12),ke(this),Ce(this);break t}$t(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oe(this,i)}this.U?(we(this,e,u),G&&this.i&&3==e&&(Kt(this.V,this.W,"tick",this.fb),this.W.start())):($t(this.j,this.m,u,null),Oe(this,u)),4==e&&ke(this),this.i&&!this.I&&(4==e?Yn(this.l,this):(this.i=!1,Ee(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ee(12)):(this.o=0,ee(13)),ke(this),Ce(this)}}}catch(e){}},c.fb=function(){if(this.g){var t=Pn(this.g),e=this.g.ga();this.C<e.length&&(Ie(this),we(this,t,e),this.i&&4!=t&&Ee(this))}},c.cancel=function(){this.I=!0,ke(this)},c.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jt(3),ee(17)),ke(this),this.o=2,Ce(this)):Te(this,this.Y-t)},(c=Ae.prototype).R=function(){Re(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},c.T=function(){return Re(this),this.g.concat()},c.get=function(t,e){return Ne(this.h,t)?this.h[t]:e},c.set=function(t,e){Ne(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},c.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof De){this.g=void 0!==e?e:t.g,Le(this,t.j),this.s=t.s,Fe(this,t.i),Me(this,t.m),this.l=t.l,e=t.h;var n=new Xe;n.i=e.i,e.g&&(n.g=new Ae(e.g),n.h=e.h),Ue(this,n),this.o=t.o}else t&&(n=String(t).match(Pe))?(this.g=!!e,Le(this,n[1]||"",!0),this.s=qe(n[2]||""),Fe(this,n[3]||"",!0),Me(this,n[4]),this.l=qe(n[5]||"",!0),Ue(this,n[6]||"",!0),this.o=qe(n[7]||"")):(this.g=!!e,this.h=new Xe(null,this.g))}function je(t){return new De(t)}function Le(t,e,n){t.j=n?qe(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fe(t,e,n){t.i=n?qe(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ue(t,e,n){e instanceof Xe?(t.h=e,function(t,e){e&&!t.j&&(Ye(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),tn(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=He(e,$e)),t.h=new Xe(e,t.g))}function Ve(t,e,n){t.h.set(e,n)}function Be(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.j;e&&t.push(He(e,Ke,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(He(e,Ke,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?We:Ge,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",He(n,Qe)),t.join("")};var Ke=/[#\/\?@]/g,Ge=/[#\?:]/g,We=/[#\?]/g,$e=/[#\?@]/g,Qe=/#/g;function Xe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ye(t){t.g||(t.g=new Ae,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ze(t,e){Ye(t),e=en(t,e),Ne(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ne((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Re(t)))}function Je(t,e){return Ye(t),e=en(t,e),Ne(t.g.h,e)}function tn(t,e,n){Ze(t,e),0<n.length&&(t.i=null,t.g.set(en(t,e),O(n)),t.h+=n.length)}function en(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(c=Xe.prototype).add=function(t,e){Ye(this),this.i=null,t=en(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},c.forEach=function(t,e){Ye(this),this.g.forEach(function(n,r){C(n,function(n){t.call(e,n,r,this)},this)},this)},c.T=function(){Ye(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.R=function(t){Ye(this);var e=[];if("string"==typeof t)Je(this,t)&&(e=k(e,this.g.get(en(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},c.set=function(t,e){return Ye(this),this.i=null,Je(this,t=en(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},c.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var nn=function(){return function(t,e){this.h=t,this.g=e}}();function rn(t){this.l=t||on,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.g&&f.g.Ea&&f.g.Ea()&&f.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var on=10;function sn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function an(t){return t.h?1:t.g?t.g.size:0}function un(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function cn(t,e){t.g?t.g.add(e):t.h=e}function ln(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function hn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=u(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return O(t.i)}function fn(){}function dn(){this.g=new fn}function pn(t,e,n){var r=n||"";try{xe(t,function(t,n){var i=t;m(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Td){throw e.push(r+"type="+encodeURIComponent("_badmap")),Td}}function mn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function gn(t){this.l=t.$b||null,this.j=t.ib||!1}function yn(t,e){Tt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=vn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn.prototype.cancel=function(){var t,e;if(this.i=hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=u(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},fn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},fn.prototype.parse=function(t){return f.JSON.parse(t,void 0)},S(gn,se),gn.prototype.g=function(){return new yn(this.l,this.j)},gn.prototype.i=function(t){return function(){return t}}({}),S(yn,Tt);var vn=0;function bn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function _n(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wn(t)}function wn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(c=yn.prototype).open=function(t,e){if(this.readyState!=vn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wn(this)},c.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||f).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},c.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_n(this)),this.readyState=vn},c.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==f.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},c.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_n(this):wn(this),3==this.readyState&&bn(this)}},c.Ua=function(t){this.g&&(this.response=this.responseText=t,_n(this))},c.Ta=function(t){this.g&&(this.response=t,_n(this))},c.ha=function(){this.g&&_n(this)},c.setRequestHeader=function(t,e){this.v.append(t,e)},c.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Sn=f.JSON.parse;function En(t){Tt.call(this),this.headers=new Ae,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tn,this.K=this.L=!1}S(En,Tt);var Tn="",In=/^https?$/i,Cn=["POST","PUT"];function kn(t){return"content-type"==t.toLowerCase()}function On(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xn(t),Rn(t)}function xn(t){t.D||(t.D=!0,It(t,"complete"),It(t,"error"))}function An(t){if(t.h&&void 0!==h&&(!t.C[1]||4!=Pn(t)||2!=t.ba()))if(t.v&&4==Pn(t))Vt(t.Fa,0,t);else if(It(t,"readystatechange"),4==Pn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Pe)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!In.test(o?o.toLowerCase():"")}e=i}if(e)It(t,"complete"),It(t,"success");else{t.m=6;try{var a=2<Pn(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",xn(t)}}finally{Rn(t)}}}function Rn(t,e){if(t.g){Nn(t);var n=t.g,r=t.C[0]?d:null;t.g=null,t.C=null,e||It(t,"ready");try{n.onreadystatechange=r}catch(Td){}}}function Nn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(f.clearTimeout(t.A),t.A=null)}function Pn(t){return t.g?t.g.readyState:0}function Dn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Tn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function jn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return L(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function Ln(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fn(t){this.za=0,this.l=[],this.h=new Wt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ln("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ln("baseRetryDelayMs",5e3,t),this.$a=Ln("retryDelaySeedMs",1e4,t),this.Ya=Ln("forwardChannelMaxRetries",2,t),this.ra=Ln("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new rn(t&&t.concurrentRequestLimit),this.Ca=new dn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Mn(t){if(Vn(t),3==t.G){var e=t.V++,n=je(t.F);Ve(n,"SID",t.J),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),zn(t,n),(e=new de(t,t.h,e,void 0)).K=2,e.v=Be(je(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.v.toString(),"")),!n&&f.Image&&((new Image).src=e.v,n=!0),n||(e.g=nr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ee(e)}tr(t)}function Un(t){t.g&&($n(t),t.g.cancel(),t.g=null)}function Vn(t){Un(t),t.u&&(f.clearTimeout(t.u),t.u=null),Xn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&f.clearTimeout(t.m),t.m=null)}function Bn(t,e){t.l.push(new nn(t.Za++,e)),3==t.G&&qn(t)}function qn(t){sn(t.i)||t.m||(t.m=!0,Dt(t.Ha,t),t.C=0)}function Hn(t,e){var n;n=e?e.m:t.V++;var r=je(t.F);Ve(r,"SID",t.J),Ve(r,"RID",n),Ve(r,"AID",t.U),zn(t,r),t.o&&t.s&&jn(r,t.o,t.s),n=new de(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Kn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),cn(t.i,n),ve(n,r,e)}function zn(t,e){t.j&&xe({},function(t,n){Ve(e,n,t)})}function Kn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?_(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{pn(l,s,"req"+c+"_")}catch(Dr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Gn(t){t.g||t.u||(t.Y=1,Dt(t.Ga,t),t.A=0)}function Wn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=re(_(t.Ga,t),Zn(t,t.A)),t.A++,0))}function $n(t){null!=t.B&&(f.clearTimeout(t.B),t.B=null)}function Qn(t){t.g=new de(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=je(t.oa);Ve(e,"RID","rpc"),Ve(e,"SID",t.J),Ve(e,"CI",t.N?"0":"1"),Ve(e,"AID",t.U),zn(t,e),Ve(e,"TYPE","xmlhttp"),t.o&&t.s&&jn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Be(je(e)),n.s=null,n.U=!0,be(n,t)}function Xn(t){null!=t.v&&(f.clearTimeout(t.v),t.v=null)}function Yn(t,e){var n=null;if(t.g==e){Xn(t),$n(t),t.g=null;var r=2}else{if(!un(t.i,e))return;n=e.D,ln(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;It(r=Yt(),new ne(r,n,e,i)),qn(t)}else Gn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(an(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=re(_(t.Ha,t,e),Zn(t,t.C)),t.C++,0)))}(t,e)||2==r&&Wn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Jn(t,5);break;case 4:Jn(t,10);break;case 3:Jn(t,6);break;default:Jn(t,2)}}function Zn(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Jn(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=_(t.jb,t);n||(n=new De("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Le(n,"https"),Be(n)),function(t,e){var n=new Wt;if(f.Image){var r=new Image;r.onload=w(mn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(mn,n,r,"TestLoadImage: error",!1,e),r.onabort=w(mn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(mn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ee(2);t.G=0,t.j&&t.j.va(e),tr(t),Vn(t)}function tr(t){t.G=0,t.I=-1,t.j&&(0==hn(t.i).length&&0==t.l.length||(t.i.i.length=0,O(t.l),t.l.length=0),t.j.ua())}function er(t,e,n){var r=function(t){return t instanceof De?je(t):new De(t,void 0)}(n);if(""!=r.i)e&&Fe(r,e+"."+r.i),Me(r,r.m);else{var i=f.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&Le(i,t),e&&Fe(i,e),n&&Me(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&L(t.aa,function(t,e){Ve(r,e,t)}),n=t.sa,(e=t.D)&&n&&Ve(r,e,n),Ve(r,"VER",t.ma),zn(t,r),r}function nr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new En(n&&t.Ba&&!t.qa?new gn({ib:!0}):t.qa)).L=t.H,e}function rr(){}function ir(){if(z&&!(10<=Number(tt)))throw Error("Environmental error: no available transport.")}function or(t,e){Tt.call(this),this.g=new Fn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ur(this)}function sr(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ar(){he.call(this),this.status=1}function ur(t){this.g=t}(c=En.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ue.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:ue),this.g.onreadystatechange=_(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void On(this,o)}t=n||"";var i=new Ae(this.headers);r&&xe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=kn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=f.FormData&&t instanceof f.FormData,!(0<=I(Cn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nn(this),0<this.B&&((this.K=function(t){return z&&function(){return t=J,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=R(String(B)).split("."),n=R("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=P(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==o[2].length,0==s[2].length)||P(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.pa,this)):this.A=Vt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){On(this,o)}},c.pa=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))},c.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),Rn(this))},c.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rn(this,!0)),En.Z.M.call(this)},c.Fa=function(){this.s||(this.F||this.v||this.l?An(this):this.cb())},c.cb=function(){An(this)},c.ba=function(){try{return 2<Pn(this)?this.g.status:-1}catch(q){return-1}},c.ga=function(){try{return this.g?this.g.responseText:""}catch(q){return""}},c.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sn(e)}},c.Da=function(){return this.m},c.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(c=Fn.prototype).ma=8,c.G=1,c.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},c.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new de(this,this.h,t,void 0),n=this.s;if(this.P&&(n?U(n=F(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Kn(this,e,r),Ve(i=je(this.F),"RID",t),Ve(i,"CVER",22),this.D&&Ve(i,"X-HTTP-Session-Id",this.D),zn(this,i),this.o&&n&&jn(i,this.o,n),cn(this.i,e),this.Ra&&Ve(i,"TYPE","init"),this.ja?(Ve(i,"$req",r),Ve(i,"SID","null"),e.$=!0,ve(e,i,null)):ve(e,i,r),this.G=2}}else 3==this.G&&(t?Hn(this,t):0==this.l.length||sn(this.i)||Hn(this))},c.Ga=function(){if(this.u=null,Qn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=re(_(this.bb,this),t)}},c.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ee(10),Un(this),Qn(this))},c.ab=function(){null!=this.v&&(this.v=null,Un(this),Wn(this),ee(19))},c.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ee(2)):(this.h.info("Failed to ping google.com"),ee(1))},(c=rr.prototype).xa=function(){},c.wa=function(){},c.va=function(){},c.ua=function(){},c.Oa=function(){},ir.prototype.g=function(t,e){return new or(t,e)},S(or,Tt),or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Dt(_(t.hb,t,e))),ee(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=er(t,null,t.W),qn(t)},or.prototype.close=function(){Mn(this.g)},or.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Bn(this.g,e)}else this.v?((e={}).__data__=kt(t),Bn(this.g,e)):Bn(this.g,t)},or.prototype.M=function(){this.g.j=null,delete this.j,Mn(this.g),delete this.g,or.Z.M.call(this)},S(sr,le),S(ar,he),S(ur,rr),ur.prototype.xa=function(){It(this.g,"a")},ur.prototype.wa=function(t){It(this.g,new sr(t))},ur.prototype.va=function(t){It(this.g,new ar(t))},ur.prototype.ua=function(){It(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,oe.COMPLETE="complete",ae.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",Tt.prototype.listen=Tt.prototype.N,En.prototype.listenOnce=En.prototype.O,En.prototype.getLastError=En.prototype.La,En.prototype.getLastErrorCode=En.prototype.Da,En.prototype.getStatus=En.prototype.ba,En.prototype.getResponseJson=En.prototype.Qa,En.prototype.getResponseText=En.prototype.ga,En.prototype.send=En.prototype.ea;var cr=ie,lr=oe,hr=Qt,fr=gn,dr=ae,pr=En,mr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();mr.o=-1;var gr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(i.c)(e,t),e}(Error),vr=new s.b("@firebase/firestore");function br(){return vr.logLevel}function _r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=s.a.DEBUG){var r=e.map(Er);vr.debug.apply(vr,Object(i.f)(["Firestore (8.10.1): "+t],r))}}function wr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=s.a.ERROR){var r=e.map(Er);vr.error.apply(vr,Object(i.f)(["Firestore (8.10.1): "+t],r))}}function Sr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=s.a.WARN){var r=e.map(Er);vr.warn.apply(vr,Object(i.f)(["Firestore (8.10.1): "+t],r))}}function Er(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Td){return t}}function Tr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw wr(e),new Error(e)}function Ir(t,e){t||Tr()}function Cr(t,e){return t}function kr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Or=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=kr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function xr(t,e){return t<e?-1:t>e?1:0}function Ar(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Rr(t){return t+"\0"}var Nr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yr(gr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yr(gr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yr(gr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yr(gr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?xr(this.nanoseconds,t.nanoseconds):xr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Pr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Nr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Dr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Tr(),void 0===n?n=t.length-e:n>t.length-e&&Tr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new yr(gr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Fr),Ur=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ur.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yr(gr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new yr(gr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yr(gr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new yr(gr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Fr),Br=function(){function t(t){this.fields=t,t.sort(Vr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ar(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),qr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return xr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();qr.EMPTY_BYTE_STRING=new qr("");var Hr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Ir(!!t),"string"==typeof t){var e=0,n=Hr.exec(t);if(Ir(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kr(t.seconds),nanos:Kr(t.nanos)}}function Kr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gr(t){return"string"==typeof t?qr.fromBase64String(t):qr.fromUint8Array(t)}function Wr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $r(t){var e=t.mapValue.fields.__previous_value__;return Wr(e)?$r(e):e}function Qr(t){var e=zr(t.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}function Xr(t){return null==t}function Yr(t){return 0===t&&1/t==-1/0}function Zr(t){return"number"==typeof t&&Number.isInteger(t)&&!Yr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Jr=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Mr.fromString(e))},t.fromName=function(e){return new t(Mr.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Mr.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Mr.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Mr(e.slice()))},t}();function ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wr(t)?4:10:Tr()}function ei(t,e){var n=ti(t);if(n!==ti(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qr(t).isEqual(Qr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=zr(t.timestampValue),r=zr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Gr(t.bytesValue).isEqual(Gr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kr(t.geoPointValue.latitude)===Kr(e.geoPointValue.latitude)&&Kr(t.geoPointValue.longitude)===Kr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kr(t.integerValue)===Kr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kr(t.doubleValue),r=Kr(e.doubleValue);return n===r?Yr(n)===Yr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ar(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Dr(n)!==Dr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ei(n[i],r[i])))return!1;return!0}(t,e);default:return Tr()}}function ni(t,e){return void 0!==(t.values||[]).find(function(t){return ei(t,e)})}function ri(t,e){var n=ti(t),r=ti(e);if(n!==r)return xr(n,r);switch(n){case 0:return 0;case 1:return xr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Kr(t.integerValue||t.doubleValue),r=Kr(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ii(t.timestampValue,e.timestampValue);case 4:return ii(Qr(t),Qr(e));case 5:return xr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Gr(t),r=Gr(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xr(n[i],r[i]);if(0!==o)return o}return xr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=xr(Kr(t.latitude),Kr(e.latitude));return 0!==n?n:xr(Kr(t.longitude),Kr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ri(n[i],r[i]);if(o)return o}return xr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=xr(r[s],o[s]);if(0!==a)return a;var u=ri(n[r[s]],i[o[s]]);if(0!==u)return u}return xr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Tr()}}function ii(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xr(t,e);var n=zr(t),r=zr(e),i=xr(n.seconds,r.seconds);return 0!==i?i:xr(n.nanos,r.nanos)}function oi(t){return si(t)}function si(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=zr(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gr(t.bytesValue).toBase64():"referenceValue"in t?Jr.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=si(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+si(t.fields[o])}return e+"}"}(t.mapValue):Tr();var e}function ai(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ui(t){return!!t&&"integerValue"in t}function ci(t){return!!t&&"arrayValue"in t}function li(t){return!!t&&"nullValue"in t}function hi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fi(t){return!!t&&"mapValue"in t}function di(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return jr(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=di(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=di(t.arrayValue.values[r]);return n}return Object.assign({},t)}var pi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!fi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=di(e)},t.prototype.setAll=function(t){var e=this,n=Vr.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=di(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());fi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ei(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];fi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){jr(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(di(this.value))},t}();function mi(t){var e=[];return jr(t.fields,function(t,n){var r=new Vr([t]);if(fi(n)){var i=mi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Br(e)}var gi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Pr.min(),pi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,pi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,pi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=pi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=pi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),yi=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function vi(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new yi(t,e,n,r,i,o,s)}function bi(t){var e=Cr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+oi(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Xr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ni(e.startAt)),e.endAt&&(n+="|ub:",n+=Ni(e.endAt)),e.h=n}return e.h}function _i(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Di(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ei(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Li(t.startAt,e.startAt)&&Li(t.endAt,e.endAt)}function wi(t){return Jr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Si=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(i.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ei(t,n,r):"array-contains"===n?new ki(t,r):"in"===n?new Oi(t,r):"not-in"===n?new xi(t,r):"array-contains-any"===n?new Ai(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ti(t,n):new Ii(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ri(e,this.value)):null!==e&&ti(this.value)===ti(e)&&this.m(ri(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Tr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ei=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Jr.fromName(r.referenceValue),i}return Object(i.c)(e,t),e.prototype.matches=function(t){var e=Jr.comparator(t.key,this.key);return this.m(e)},e}(Si),Ti=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ci(0,n),r}return Object(i.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Si),Ii=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ci(0,n),r}return Object(i.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Si);function Ci(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Jr.fromName(t.referenceValue)})}var ki=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(i.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ci(e)&&ni(e.arrayValue,this.value)},e}(Si),Oi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(i.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ni(this.value.arrayValue,e)},e}(Si),xi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(i.c)(e,t),e.prototype.matches=function(t){if(ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ni(this.value.arrayValue,e)},e}(Si),Ai=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(i.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ci(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ni(e.value.arrayValue,t)})},e}(Si),Ri=function(t,e){this.position=t,this.before=e};function Ni(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return oi(t)}).join(",")}var Pi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Di(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ji(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Jr.comparator(Jr.fromName(s.referenceValue),n.key):ri(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Li(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}var Fi=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Mi(t,e,n,r,i,o,s,a){return new Fi(t,e,n,r,i,o,s,a)}function Ui(t){return new Fi(t)}function Vi(t){return!Xr(t.limit)&&"F"===t.limitType}function Bi(t){return!Xr(t.limit)&&"L"===t.limitType}function qi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function zi(t){return null!==t.collectionGroup}function Ki(t){var e=Cr(t);if(null===e.p){e.p=[];var n=Hi(e),r=qi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Pi(n)),e.p.push(new Pi(Vr.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Pi(Vr.keyField(),u))}}}return e.p}function Gi(t){var e=Cr(t);if(!e.T)if("F"===e.limitType)e.T=vi(e.path,e.collectionGroup,Ki(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ki(e);r<i.length;r++){var o=i[r];n.push(new Pi(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Ri(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ri(e.startAt.position,!e.startAt.before):null;e.T=vi(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Wi(t,e,n){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $i(t,e){return _i(Gi(t),Gi(e))&&t.limitType===e.limitType}function Qi(t){return bi(Gi(t))+"|lt:"+t.limitType}function Xi(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+oi(e.value);var e}).join(", ")+"]"),Xr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ni(t.startAt)),t.endAt&&(e+=", endAt: "+Ni(t.endAt)),"Target("+e+")"}(Gi(t))+"; limitType="+t.limitType+")"}function Yi(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Jr.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ji(t.startAt,Ki(t),e)||t.endAt&&ji(t.endAt,Ki(t),e))}(t,e)}function Zi(t){return function(e,n){for(var r=!1,i=0,o=Ki(t);i<o.length;i++){var s=o[i],a=Ji(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ji(t,e,n){var r=t.field.isKeyField()?Jr.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ri(r,i):Tr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Tr()}}function to(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yr(e)?"-0":e}}function eo(t){return{integerValue:""+t}}function no(t,e){return Zr(e)?eo(e):to(t,e)}var ro=function(){this._=void 0};function io(t,e,n){return t instanceof ao?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof uo?co(t,e):t instanceof lo?ho(t,e):function(t,e){var n=so(t,e),r=po(n)+po(t.A);return ui(n)&&ui(t.A)?eo(r):to(t.R,r)}(t,e)}function oo(t,e,n){return t instanceof uo?co(t,e):t instanceof lo?ho(t,e):n}function so(t,e){return t instanceof fo?ui(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e}(ro),uo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(i.c)(e,t),e}(ro);function co(t,e){for(var n=mo(e),r=function(t){n.some(function(e){return ei(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var lo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(i.c)(e,t),e}(ro);function ho(t,e){for(var n=mo(e),r=function(t){n=n.filter(function(e){return!ei(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(i.c)(e,t),e}(ro);function po(t){return Kr(t.integerValue||t.doubleValue)}function mo(t){return ci(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var go=function(t,e){this.field=t,this.transform=e},yo=function(t,e){this.version=t,this.transformResults=e},vo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function bo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var _o=function(){};function wo(t,e,n){t instanceof Co?function(t,e,n){var r=t.value.clone(),i=xo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(t,e,n){if(bo(t.precondition,e)){var r=xo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Oo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function So(t,e,n){t instanceof Co?function(t,e,n){if(bo(t.precondition,e)){var r=t.value.clone(),i=Ao(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Io(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ko?function(t,e,n){if(bo(t.precondition,e)){var r=Ao(t.fieldTransforms,n,e),i=e.data;i.setAll(Oo(t)),i.setAll(r),e.convertToFoundDocument(Io(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){bo(t.precondition,e)&&e.convertToNoDocument(Pr.min())}(t,e)}function Eo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=so(o.transform,s||null);null!=a&&(null==n&&(n=pi.empty()),n.set(o.field,a))}return n||null}function To(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ar(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof uo&&e instanceof uo||t instanceof lo&&e instanceof lo?Ar(t.elements,e.elements,ei):t instanceof fo&&e instanceof fo?ei(t.A,e.A):t instanceof ao&&e instanceof ao}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Io(t){return t.isFoundDocument()?t.version:Pr.min()}var Co=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(i.c)(e,t),e}(_o),ko=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(i.c)(e,t),e}(_o);function Oo(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function xo(t,e,n){var r=new Map;Ir(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,oo(s,a,n[i]))}return r}function Ao(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,io(a,u,e))}return r}var Ro,No,Po=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(i.c)(e,t),e}(_o),Do=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(i.c)(e,t),e}(_o),jo=function(t){this.count=t};function Lo(t){switch(t){case gr.OK:return Tr();case gr.CANCELLED:case gr.UNKNOWN:case gr.DEADLINE_EXCEEDED:case gr.RESOURCE_EXHAUSTED:case gr.INTERNAL:case gr.UNAVAILABLE:case gr.UNAUTHENTICATED:return!1;case gr.INVALID_ARGUMENT:case gr.NOT_FOUND:case gr.ALREADY_EXISTS:case gr.PERMISSION_DENIED:case gr.FAILED_PRECONDITION:case gr.ABORTED:case gr.OUT_OF_RANGE:case gr.UNIMPLEMENTED:case gr.DATA_LOSS:return!0;default:return Tr()}}function Fo(t){if(void 0===t)return wr("GRPC error has no .code"),gr.UNKNOWN;switch(t){case Ro.OK:return gr.OK;case Ro.CANCELLED:return gr.CANCELLED;case Ro.UNKNOWN:return gr.UNKNOWN;case Ro.DEADLINE_EXCEEDED:return gr.DEADLINE_EXCEEDED;case Ro.RESOURCE_EXHAUSTED:return gr.RESOURCE_EXHAUSTED;case Ro.INTERNAL:return gr.INTERNAL;case Ro.UNAVAILABLE:return gr.UNAVAILABLE;case Ro.UNAUTHENTICATED:return gr.UNAUTHENTICATED;case Ro.INVALID_ARGUMENT:return gr.INVALID_ARGUMENT;case Ro.NOT_FOUND:return gr.NOT_FOUND;case Ro.ALREADY_EXISTS:return gr.ALREADY_EXISTS;case Ro.PERMISSION_DENIED:return gr.PERMISSION_DENIED;case Ro.FAILED_PRECONDITION:return gr.FAILED_PRECONDITION;case Ro.ABORTED:return gr.ABORTED;case Ro.OUT_OF_RANGE:return gr.OUT_OF_RANGE;case Ro.UNIMPLEMENTED:return gr.UNIMPLEMENTED;case Ro.DATA_LOSS:return gr.DATA_LOSS;default:return Tr()}}(No=Ro||(Ro={}))[No.OK=0]="OK",No[No.CANCELLED=1]="CANCELLED",No[No.UNKNOWN=2]="UNKNOWN",No[No.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",No[No.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",No[No.NOT_FOUND=5]="NOT_FOUND",No[No.ALREADY_EXISTS=6]="ALREADY_EXISTS",No[No.PERMISSION_DENIED=7]="PERMISSION_DENIED",No[No.UNAUTHENTICATED=16]="UNAUTHENTICATED",No[No.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",No[No.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",No[No.ABORTED=10]="ABORTED",No[No.OUT_OF_RANGE=11]="OUT_OF_RANGE",No[No.UNIMPLEMENTED=12]="UNIMPLEMENTED",No[No.INTERNAL=13]="INTERNAL",No[No.UNAVAILABLE=14]="UNAVAILABLE",No[No.DATA_LOSS=15]="DATA_LOSS";var Mo=function(){function t(t,e){this.comparator=t,this.root=e||Vo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Uo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Uo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Uo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Uo(this.root,t,this.comparator,!0)},t}(),Uo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Vo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Tr();if(this.right.isRed())throw Tr();var t=this.left.check();if(t!==this.right.check())throw Tr();return t+(this.isRed()?0:1)},t}();Vo.EMPTY=null,Vo.RED=!0,Vo.BLACK=!1,Vo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Tr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Vo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Bo=function(){function t(t){this.comparator=t,this.data=new Mo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new qo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new qo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),qo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ho=new Mo(Jr.comparator);function zo(){return Ho}var Ko=new Mo(Jr.comparator);function Go(){return Ko}var Wo=new Mo(Jr.comparator);function $o(){return Wo}var Qo=new Bo(Jr.comparator);function Xo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Qo,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Yo=new Bo(xr);function Zo(){return Yo}var Jo=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ts.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Pr.min(),r,Zo(),zo(),Xo())},t}(),ts=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(qr.EMPTY_BYTE_STRING,n,Xo(),Xo(),Xo())},t}(),es=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ns=function(t,e){this.targetId=t,this.V=e},rs=function(t,e,n,r){void 0===n&&(n=qr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},is=function(){function t(){this.S=0,this.D=as(),this.C=qr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Xo(),e=Xo(),n=Xo();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Tr()}}),new ts(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=as()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),os=function(){function t(t){this.W=t,this.G=new Map,this.H=zo(),this.J=ss(),this.Y=new Bo(xr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Tr()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(wi(i))if(0===n){var o=new Jr(i.path);this.tt(e,o,gi.newNoDocument(o,Pr.min()))}else Ir(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&wi(o.target)){var s=new Jr(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,gi.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Xo();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Jo(t,n,this.Y,this.H,r);return this.H=zo(),this.J=ss(),this.Y=new Bo(xr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new is,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Bo(xr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||_r("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new is),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ss(){return new Mo(Jr.comparator)}function as(){return new Mo(Jr.comparator)}var us={asc:"ASCENDING",desc:"DESCENDING"},cs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ls=function(t,e){this.databaseId=t,this.I=e};function hs(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fs(t,e){return t.I?e.toBase64():e.toUint8Array()}function ds(t,e){return hs(t,e.toTimestamp())}function ps(t){return Ir(!!t),Pr.fromTimestamp(function(t){var e=zr(t);return new Nr(e.seconds,e.nanos)}(t))}function ms(t,e){return function(t){return new Mr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function gs(t){var e=Mr.fromString(t);return Ir(Vs(e)),e}function ys(t,e){return ms(t.databaseId,e.path)}function vs(t,e){var n=gs(e);if(n.get(1)!==t.databaseId.projectId)throw new yr(gr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yr(gr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Jr(Ss(n))}function bs(t,e){return ms(t.databaseId,e)}function _s(t){var e=gs(t);return 4===e.length?Mr.emptyPath():Ss(e)}function ws(t){return new Mr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ss(t){return Ir(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Es(t,e,n){return{name:ys(t,e),fields:n.value.mapValue.fields}}function Ts(t,e,n){var r=vs(t,e.name),i=ps(e.updateTime),o=new pi({mapValue:{fields:e.fields}}),s=gi.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Is(t,e){var n;if(e instanceof Co)n={update:Es(t,e.key,e.value)};else if(e instanceof Po)n={delete:ys(t,e.key)};else if(e instanceof ko)n={update:Es(t,e.key,e.data),updateMask:Us(e.fieldMask)};else{if(!(e instanceof Do))return Tr();n={verify:ys(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ao)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof uo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Tr()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ds(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Tr()}(t,e.precondition)),n}function Cs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?vo.updateTime(ps(t.updateTime)):void 0!==t.exists?vo.exists(t.exists):vo.none()}(e.currentDocument):vo.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ir("REQUEST_TIME"===e.setToServerValue),n=new ao):"appendMissingElements"in e?n=new uo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new lo(e.removeAllFromArray.values||[]):"increment"in e?n=new fo(t,e.increment):Tr();var r=Vr.fromServerFormat(e.fieldPath);return new go(r,n)}(t,e)}):[];if(e.update){var i=vs(t,e.update.name),o=new pi({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Br((t.fieldPaths||[]).map(function(t){return Vr.fromServerFormat(t)}))}(e.updateMask);return new ko(i,o,s,n,r)}return new Co(i,o,n,r)}if(e.delete){var a=vs(t,e.delete);return new Po(a,n)}if(e.verify){var u=vs(t,e.verify);return new Do(u,n)}return Tr()}function ks(t,e){return{documents:[bs(t,e.path)]}}function Os(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=bs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(hi(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NAN"}};if(li(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hi(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NOT_NAN"}};if(li(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(t.field),op:Ds(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:js(t.field),direction:Ps(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Xr(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Rs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Rs(e.endAt)),n}function xs(t){var e=_s(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ir(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=As(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Pi(Ls(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Xr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ns(n.startAt));var l=null;return n.endAt&&(l=Ns(n.endAt)),Mi(e,i,a,s,u,"F",c,l)}function As(t){return t?void 0!==t.unaryFilter?[Ms(t)]:void 0!==t.fieldFilter?[Fs(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return As(t)}).reduce(function(t,e){return t.concat(e)}):Tr():[]}function Rs(t){return{before:t.before,values:t.position}}function Ns(t){return new Ri(t.values||[],!!t.before)}function Ps(t){return us[t]}function Ds(t){return cs[t]}function js(t){return{fieldPath:t.canonicalString()}}function Ls(t){return Vr.fromServerFormat(t.fieldPath)}function Fs(t){return Si.create(Ls(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Tr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ms(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ls(t.unaryFilter.field);return Si.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ls(t.unaryFilter.field);return Si.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ls(t.unaryFilter.field);return Si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ls(t.unaryFilter.field);return Si.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Tr()}}function Us(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Vs(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Bs(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hs(e)),e=qs(t.get(n),e);return Hs(e)}function qs(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Hs(t){return t+"\x01\x01"}function zs(t){var e=t.length;if(Ir(e>=2),2===e)return Ir("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Mr.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Tr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Tr()}o=s+2}return new Mr(r)}var Ks=function(t,e){this.seconds=t,this.nanoseconds=e},Gs=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gs.store="owner",Gs.key="owner";var Ws=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ws.store="mutationQueues",Ws.keyPath="userId";var $s=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$s.store="mutations",$s.keyPath="batchId",$s.userMutationsIndex="userMutationsIndex",$s.userMutationsKeyPath=["userId","batchId"];var Qs=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Bs(e)]},t.key=function(t,e,n){return[t,Bs(e),n]},t}();Qs.store="documentMutations",Qs.PLACEHOLDER=new Qs;var Xs=function(t,e){this.path=t,this.readTime=e},Ys=function(t,e){this.path=t,this.version=e},Zs=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Zs.store="remoteDocuments",Zs.readTimeIndex="readTimeIndex",Zs.readTimeIndexPath="readTime",Zs.collectionReadTimeIndex="collectionReadTimeIndex",Zs.collectionReadTimeIndexPath=["parentPath","readTime"];var Js=function(t){this.byteSize=t};Js.store="remoteDocumentGlobal",Js.key="remoteDocumentGlobalKey";var ta=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ta.store="targets",ta.keyPath="targetId",ta.queryTargetsIndexName="queryTargetsIndex",ta.queryTargetsKeyPath=["canonicalId","targetId"];var ea=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ea.store="targetDocuments",ea.keyPath=["targetId","path"],ea.documentTargetsIndex="documentTargetsIndex",ea.documentTargetsKeyPath=["path","targetId"];var na=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};na.key="targetGlobalKey",na.store="targetGlobal";var ra=function(t,e){this.collectionId=t,this.parent=e};ra.store="collectionParents",ra.keyPath=["collectionId","parent"];var ia=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ia.store="clientMetadata",ia.keyPath="clientId";var oa=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};oa.store="bundles",oa.keyPath="bundleId";var sa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sa.store="namedQueries",sa.keyPath="name";var aa=Object(i.f)(Object(i.f)([],Object(i.f)(Object(i.f)([],Object(i.f)(Object(i.f)([],Object(i.f)(Object(i.f)([],[Ws.store,$s.store,Qs.store,Zs.store,ta.store,Gs.store,na.store,ea.store]),[ia.store])),[Js.store])),[ra.store])),[oa.store,sa.store]),ua="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ca=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),la=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ha=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Tr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),fa=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new la,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ma(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=_a(e.target.error);n.ft.reject(new ma(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ma(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(_r("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ya(e)},t}(),da=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(o.j)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return _r("SimpleDb","Removing database:",t),va(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(o.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(i.b)(this,void 0,void 0,function(){var e,n=this;return Object(i.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(_r("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ma(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new yr(gr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ma(t,n))},i.onupgradeneeded=function(t){_r("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){_r("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o,s,a,u,c;return Object(i.d)(this,function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return Object(i.d)(this,function(i){switch(i.label){case 0:++s,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=i.sent(),e=fa.open(u.db,t,o?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),ha.reject(t)}).toPromise(),c={},a.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(i.sent(),a),c)];case 4:return _r("SimpleDb","Transaction failed with error:",(l=i.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),pa=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return va(this.Pt.delete())},t}(),ma=function(t){function e(e,n){var r=this;return(r=t.call(this,gr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(i.c)(e,t),e}(yr);function ga(t){return"IndexedDbTransactionError"===t.name}var ya=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(_r("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(_r("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),va(n)},t.prototype.add=function(t){return _r("SimpleDb","ADD",this.store.name,t,t),va(this.store.add(t))},t.prototype.get=function(t){var e=this;return va(this.store.get(t)).next(function(n){return void 0===n&&(n=null),_r("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return _r("SimpleDb","DELETE",this.store.name,t),va(this.store.delete(t))},t.prototype.count=function(){return _r("SimpleDb","COUNT",this.store.name),va(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){_r("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new ha(function(n,r){e.onerror=function(t){var e=_a(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new ha(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new pa(i),s=e(i.primaryKey,i.value,o);if(s instanceof ha){var a=s.catch(function(t){return o.done(),ha.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return ha.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function va(t){return new ha(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_a(t.target.error);n(e)}})}var ba=!1;function _a(t){var e=da._t(Object(o.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new yr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ba||(ba=!0,setTimeout(function(){throw r},0)),r}}return t}var wa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(i.c)(e,t),e}(ca);function Sa(t,e){var n=Cr(t);return da.It(n.Mt,e)}var Ea=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&wo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&So(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&So(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pr.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Xo())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ar(this.mutations,t.mutations,function(t,e){return To(t,e)})&&Ar(this.baseMutations,t.baseMutations,function(t,e){return To(t,e)})},t}(),Ta=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Ir(e.mutations.length===r.length);for(var i=$o(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ia=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Pr.min()),void 0===o&&(o=Pr.min()),void 0===s&&(s=qr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ca=function(t){this.Lt=t};function ka(t,e){if(e.document)return Ts(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Jr.fromSegments(e.noDocument.path),r=Na(e.noDocument.readTime),i=gi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Jr.fromSegments(e.unknownDocument.path);return r=Na(e.unknownDocument.version),gi.newUnknownDocument(o,r)}return Tr()}function Oa(t,e,n){var r=xa(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ys(t,e.key),fields:e.data.value.mapValue.fields,updateTime:hs(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Zs(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Ra(e.version);return s=e.hasCommittedMutations,new Zs(null,new Xs(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Ra(e.version);return new Zs(new Ys(c,l),null,null,!0,r,i)}return Tr()}function xa(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Aa(t){var e=new Nr(t[0],t[1]);return Pr.fromTimestamp(e)}function Ra(t){var e=t.toTimestamp();return new Ks(e.seconds,e.nanoseconds)}function Na(t){var e=new Nr(t.seconds,t.nanoseconds);return Pr.fromTimestamp(e)}function Pa(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Cs(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Cs(t.Lt,e)}),o=Nr.fromMillis(e.localWriteTimeMs);return new Ea(e.batchId,o,n,i)}function Da(t){var e,n,r=Na(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Na(t.lastLimboFreeSnapshotVersion):Pr.min();return void 0!==t.query.documents?(Ir(1===(n=t.query).documents.length),e=Gi(Ui(_s(n.documents[0])))):e=function(t){return Gi(xs(t))}(t.query),new Ia(e,t.targetId,0,t.lastListenSequenceNumber,r,i,qr.fromBase64String(t.resumeToken))}function ja(t,e){var n,r=Ra(e.snapshotVersion),i=Ra(e.lastLimboFreeSnapshotVersion);n=wi(e.target)?ks(t.Lt,e.target):Os(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ta(e.targetId,bi(e.target),r,o,e.sequenceNumber,i,n)}function La(t){var e=xs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Wi(e,e.limit,"L"):e}var Fa=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ma(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Na(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Ma(t).put({bundleId:(n=e).id,createTime:Ra(ps(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ua(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:La(e.bundledQuery),readTime:Na(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Ua(t).put(function(t){return{name:t.name,readTime:Ra(ps(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ma(t){return Sa(t,oa.store)}function Ua(t){return Sa(t,sa.store)}var Va=function(){function t(){this.Bt=new Ba}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ha.resolve()},t.prototype.getCollectionParents=function(t,e){return ha.resolve(this.Bt.getEntries(e))},t}(),Ba=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Bo(Mr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Bo(Mr.comparator)).toArray()},t}(),qa=function(){function t(){this.qt=new Ba}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Bs(i)};return Ha(t).put(o)}return ha.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Rr(e),""],!1,!0);return Ha(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(zs(o.parent))}return n})},t}();function Ha(t){return Sa(t,ra.store)}var za={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ka=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Ga(t,e,n){var r=t.store($s.store),i=t.store(Qs.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Ir(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Qs.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ha.waitFor(o).next(function(){return c})}function Wa(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Tr();e=t.noDocument}return JSON.stringify(e).length}Ka.DEFAULT_COLLECTION_PERCENTILE=10,Ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ka.DEFAULT=new Ka(41943040,Ka.DEFAULT_COLLECTION_PERCENTILE,Ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ka.DISABLED=new Ka(-1,0,0);var $a=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Ir(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xa(t).$t({index:$s.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Ya(t),s=Xa(t);return s.add({}).next(function(a){Ir("number"==typeof a);for(var u=new Ea(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Is(t.Lt,e)}),i=n.mutations.map(function(e){return Is(t.Lt,e)});return new $s(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Bo(function(t,e){return xr(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],m=Qs.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,Qs.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),ha.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Xa(t).get(e).next(function(t){return t?(Ir(t.userId===n.userId),Pa(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?ha.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Xa(t).$t({index:$s.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ir(e.batchId>=r),o=Pa(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xa(t).$t({index:$s.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xa(t).Nt($s.userMutationsIndex,n).next(function(t){return t.map(function(t){return Pa(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Qs.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ya(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=zs(r[1]);if(a===n.userId&&e.path.isEqual(c))return Xa(t).get(u).next(function(t){if(!t)throw Tr();Ir(t.userId===n.userId),o.push(Pa(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Bo(xr),i=[];return e.forEach(function(e){var o=Qs.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ya(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=zs(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),ha.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Qs.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Bo(xr);return Ya(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=zs(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Xa(t).get(e).next(function(t){if(null===t)throw Tr();Ir(t.userId===n.userId),r.push(Pa(n.R,t))}))}),ha.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ga(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),ha.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return ha.resolve();var r=IDBKeyRange.lowerBound(Qs.prefixForUser(e.userId)),i=[];return Ya(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=zs(t[1]);i.push(o)}else r.done()}).next(function(){Ir(0===i.length)})})},t.prototype.containsKey=function(t,e){return Qa(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Za(t).get(this.userId).next(function(t){return t||new Ws(e.userId,-1,"")})},t}();function Qa(t,e,n){var r=Qs.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ya(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Xa(t){return Sa(t,$s.store)}function Ya(t){return Sa(t,Qs.store)}function Za(t){return Sa(t,Ws.store)}var Ja=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),tu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Ja(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Pr.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return eu(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Ir(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return eu(t).$t(function(s,a){var u=Da(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return ha.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return eu(t).$t(function(t,n){var r=Da(n);e(r)})},t.prototype.Xt=function(t){return nu(t).get(na.key).next(function(t){return Ir(null!==t),t})},t.prototype.Zt=function(t,e){return nu(t).put(na.key,e)},t.prototype.te=function(t,e){return eu(t).put(ja(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=bi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return eu(t).$t({range:r,index:ta.queryTargetsIndexName},function(t,n,r){var o=Da(n);_i(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ru(t);return e.forEach(function(e){var s=Bs(e.path);i.push(o.put(new ea(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),ha.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ru(t);return ha.forEach(e,function(e){var o=Bs(e.path);return ha.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ru(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ru(t),i=Xo();return r.$t({range:n,Ft:!0},function(t,e,n){var r=zs(t[1]),o=new Jr(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Bs(e.path),r=IDBKeyRange.bound([n],[Rr(n)],!1,!0),i=0;return ru(t).$t({index:ea.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return eu(t).get(e).next(function(t){return t?Da(t):null})},t}();function eu(t){return Sa(t,ta.store)}function nu(t){return Sa(t,na.store)}function ru(t){return Sa(t,ea.store)}function iu(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(e){if(t.code!==gr.FAILED_PRECONDITION||t.message!==ua)throw t;return _r("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ou(t,e){var n=t[1],r=e[1],i=xr(t[0],e[0]);return 0===i?xr(n,r):i}var su=function(){function t(t){this.ne=t,this.buffer=new Bo(ou),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ou(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),au=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;_r("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(i.b)(e,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ga(e=n.sent())?(_r("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,iu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),uu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ha.resolve(mr.o);var r=new su(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_r("LruGarbageCollector","Garbage collection skipped; disabled"),ha.resolve(za)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(_r("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),za):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(_r("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),br()<=s.a.DEBUG&&_r("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),ha.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),cu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new uu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return lu(t,n)},t.prototype.removeReference=function(t,e,n){return lu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return lu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Za(t).Ot(function(r){return Qa(t,r,e).next(function(t){return t&&(n=!0),ha.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),ru(t).delete([0,Bs(s.path)])})});i.push(u)}}).next(function(){return ha.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return lu(t,e)},t.prototype.we=function(t,e){var n,r=ru(t),i=mr.o;return r.$t({index:ea.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==mr.o&&e(new Jr(zs(n)),i),i=s,n=o):i=mr.o}).next(function(){i!==mr.o&&e(new Jr(zs(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function lu(t,e){return ru(t).put(function(t,e){return new ea(0,Bs(t.path),e)}(e,t.currentSequenceNumber))}var hu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){jr(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Lr(this.inner)},t}(),fu=function(){function t(){this.changes=new hu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Pr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:gi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ha.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),du=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return gu(t).put(yu(e),n)},t.prototype.removeEntry=function(t,e){var n=gu(t),r=yu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return gu(t).get(yu(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return gu(t).get(yu(e)).next(function(t){return{document:n.ye(e,t),size:Wa(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=zo();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=zo(),i=new Mo(Jr.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Wa(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ha.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return gu(t).$t({range:r},function(t,e,r){for(var s=Jr.fromSegments(t);o&&Jr.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=zo(),o=e.path.length+1,s={};if(n.isEqual(Pr.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=xa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Zs.collectionReadTimeIndex}return gu(t).$t(s,function(t,n,s){if(t.length===o){var a=ka(r.R,n);e.path.isPrefixOf(a.key.path)?Yi(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new pu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return mu(t).get(Js.key).next(function(t){return Ir(!!t),t})},t.prototype.me=function(t,e){return mu(t).put(Js.key,e)},t.prototype.ye=function(t,e){if(e){var n=ka(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Pr.min()))return n}return gi.newInvalidDocument(t)},t}(),pu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new hu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(i.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Bo(function(t,e){return xr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Oa(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Wa(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Oa(e.Ie.R,gi.newNoDocument(o,Pr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),ha.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(fu);function mu(t){return Sa(t,Js.store)}function gu(t){return Sa(t,Zs.store)}function yu(t){return t.path.toArray()}var vu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Ir(n<r&&n>=0&&r<=11);var o=new fa("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Gs.store)}(t),function(t){t.createObjectStore(Ws.store,{keyPath:Ws.keyPath}),t.createObjectStore($s.store,{keyPath:$s.keyPath,autoIncrement:!0}).createIndex($s.userMutationsIndex,$s.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Qs.store)}(t),bu(t),function(t){t.createObjectStore(Zs.store)}(t));var s=ha.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ea.store),t.deleteObjectStore(ta.store),t.deleteObjectStore(na.store)}(t),bu(t)),s=s.next(function(){return function(t){var e=t.store(na.store),n=new na(0,0,Pr.min().toTimestamp(),0);return e.put(na.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store($s.store).Nt().next(function(n){t.deleteObjectStore($s.store),t.createObjectStore($s.store,{keyPath:$s.keyPath,autoIncrement:!0}).createIndex($s.userMutationsIndex,$s.userMutationsKeyPath,{unique:!0});var r=e.store($s.store),i=n.map(function(t){return r.put(t)});return ha.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ia.store,{keyPath:ia.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Js.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zs.store);e.createIndex(Zs.readTimeIndex,Zs.readTimeIndexPath,{unique:!1}),e.createIndex(Zs.collectionReadTimeIndex,Zs.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(oa.store,{keyPath:oa.keyPath})}(t),function(t){t.createObjectStore(sa.store,{keyPath:sa.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Zs.store).$t(function(t,n){e+=Wa(n)}).next(function(){var n=new Js(e);return t.store(Js.store).put(Js.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Ws.store),r=t.store($s.store);return n.Nt().next(function(n){return ha.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt($s.userMutationsIndex,i).next(function(r){return ha.forEach(r,function(r){Ir(r.userId===n.userId);var i=Pa(e.R,r);return Ga(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(ea.store),n=t.store(Zs.store);return t.store(na.store).get(na.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Mr(n),s=function(t){return[0,Bs(t)]}(o);r.push(e.get(s).next(function(n){return n?ha.resolve():function(n){return e.put(new ea(0,Bs(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return ha.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(ra.store,{keyPath:ra.keyPath});var n=e.store(ra.store),r=new Ba,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Bs(i)})}};return e.store(Zs.store).$t({Ft:!0},function(t,e){var n=new Mr(t);return i(n.popLast())}).next(function(){return e.store(Qs.store).$t({Ft:!0},function(t,e){var n=zs(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(ta.store);return n.$t(function(t,r){var i=Da(r),o=ja(e.R,i);return n.put(o)})},t}();function bu(t){t.createObjectStore(ea.store,{keyPath:ea.keyPath}).createIndex(ea.documentTargetsIndex,ea.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ta.store,{keyPath:ta.keyPath}).createIndex(ta.queryTargetsIndexName,ta.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(na.store)}var _u="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new yr(gr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cu(this,i),this.Le=n+"main",this.R=new Ca(u),this.Be=new da(this.Le,11,new vu(this.R)),this.qe=new tu(this.referenceDelegate,this.R),this.Ut=new qa,this.Ue=function(t,e){return new du(t,e)}(this.R,this.Ut),this.Ke=new Fa,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new yr(gr.FAILED_PRECONDITION,_u);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new mr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(i.b)(e,void 0,void 0,function(){return Object(i.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(i.b)(e,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(i.b)(e,void 0,void 0,function(){return Object(i.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Eu(e).put(new ia(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(ga(e))return _r("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return _r("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Su(t).get(Gs.key).next(function(t){return ha.resolve(e.tn(t))})},t.prototype.en=function(t){return Eu(t).delete(this.clientId)},t.prototype.nn=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(i.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Sa(t,ia.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return ha.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ha.resolve(!0):Su(t).get(Gs.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new yr(gr.FAILED_PRECONDITION,_u);return!1}}return!(!e.networkEnabled||!e.inForeground)||Eu(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&_r("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(i.b)(this,void 0,void 0,function(){var t=this;return Object(i.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gs.store,ia.store],function(e){var n=new wa(e,mr.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Eu(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return $a.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return _r("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",aa,function(o){return r=new wa(o,i.Ne?i.Ne.next():mr.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw wr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new yr(gr.FAILED_PRECONDITION,ua);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Su(t).get(Gs.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new yr(gr.FAILED_PRECONDITION,_u)})},t.prototype.Ze=function(t){var e=new Gs(this.clientId,this.allowTabSynchronization,Date.now());return Su(t).put(Gs.key,e)},t.yt=function(){return da.yt()},t.prototype.Xe=function(t){var e=this,n=Su(t);return n.get(Gs.key).next(function(t){return e.tn(t)?(_r("IndexedDbPersistence","Releasing primary lease."),n.delete(Gs.key)):ha.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(wr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(o.r)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return _r("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return wr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){wr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Su(t){return Sa(t,Gs.store)}function Eu(t){return Sa(t,ia.store)}function Tu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Iu=function(t,e){this.progress=t,this.wn=e},Cu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Jr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):zi(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Jr(e)).next(function(t){var e=Go();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Go();return this.Ut.getCollectionParents(t,i).next(function(s){return ha.forEach(s,function(s){var a=function(t,e){return new Fi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=gi.newInvalidDocument(c),r=r.insert(c,l)),So(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Yi(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Xo(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ko&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),ku=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Xo(),i=Xo(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ou=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Pr.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(Vi(e)||Bi(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(br()<=s.a.DEBUG&&_r("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xi(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Bo(Zi(t));return e.forEach(function(e,r){Yi(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return br()<=s.a.DEBUG&&_r("QueryEngine","Using full collection scan to execute query:",Xi(e)),this.Sn.getDocumentsMatchingQuery(t,e,Pr.min())},t}(),xu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Mo(xr),this.Fn=new hu(function(t){return bi(t)},_i),this.$n=Pr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Cu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function Au(t,e,n,r){return new xu(t,e,n,r)}function Ru(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s;return Object(i.d)(this,function(i){switch(i.label){case 0:return n=Cr(t),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var i;return n._n.getAllMutationBatches(t).next(function(s){return i=s,r=n.persistence.getMutationQueue(e),o=new Cu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Xo(),a=0,u=i;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return o.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=i.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Nu(t,e){var n=Cr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ha.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Ir(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Pu(t){var e=Cr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Du(t,e){var n=Cr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Ir(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=zo();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(ju(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Pr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return ha.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function ju(t,e,n,r,i){var o=Xo();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=zo();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Pr.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):_r("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Lu(t,e){var n=Cr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Fu(t,e){var n=Cr(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?ha.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Ia(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function Mu(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o,s,a;return Object(i.d)(this,function(i){switch(i.label){case 0:r=Cr(t),o=r.kn.get(e),s=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,o)})];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!ga(a=i.sent()))throw a;return _r("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(o.target),[2]}})})}function Uu(t,e,n){var r=Cr(t),i=Pr.min(),o=Xo();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Cr(t),i=r.Fn.get(n);return void 0!==i?ha.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Gi(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Pr.min(),n?o:Xo())}).next(function(t){return{documents:t,Bn:o}})})}function Vu(t,e){var n=Cr(t),r=Cr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Bu(t){var e=Cr(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Cr(t),i=zo(),o=xa(n),s=gu(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Zs.readTimeIndex,range:a},function(t,e){var n=ka(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Aa(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function qu(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){return[2,(e=Cr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=gu(t),n=Pr.min();return e.$t({index:Zs.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Aa(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Hu(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o,s,a,u,c,l,h,f,d,p;return Object(i.d)(this,function(i){switch(i.label){case 0:for(o=Cr(t),s=Xo(),a=zo(),u=$o(),c=0,l=n;c<l.length;c++)f=e.qn((h=l[c]).metadata.name),h.document&&(s=s.add(f)),a=a.insert(f,e.Un(h)),u=u.insert(f,e.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Fu(o,function(t){return Gi(Ui(Mr.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=i.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return ju(t,d,a,Pr.min(),u).next(function(e){return d.apply(t),e}).next(function(e){return o.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return o.qe.addMatchingKeys(t,s,p.targetId)}).next(function(){return o.Mn.En(t,e)}).next(function(){return e})})})]}})})}function zu(t,e,n){return void 0===n&&(n=Xo()),Object(i.b)(this,void 0,void 0,function(){var r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:return[4,Fu(t,Gi(La(e.bundledQuery)))];case 1:return r=i.sent(),[2,(o=Cr(t)).persistence.runTransaction("Save named query","readwrite",function(t){var i=ps(e.readTime);if(r.snapshotVersion.compareTo(i)>=0)return o.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(qr.EMPTY_BYTE_STRING,i);return o.kn=o.kn.insert(s.targetId,s),o.qe.updateTargetData(t,s).next(function(){return o.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return o.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return o.Ke.saveNamedQuery(t,e)})})]}})})}var Ku=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ha.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:ps(n.createTime)}),ha.resolve()},t.prototype.getNamedQuery=function(t,e){return ha.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:La(t.bundledQuery),readTime:ps(t.readTime)}}(e)),ha.resolve()},t}(),Gu=function(){function t(){this.Wn=new Bo(Wu.Gn),this.zn=new Bo(Wu.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wu(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Wu(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Jr(new Mr([])),r=new Wu(n,t),i=new Wu(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Jr(new Mr([])),n=new Wu(e,t),r=new Wu(e,t+1),i=Xo();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Wu(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wu=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Jr.comparator(t.key,e.key)||xr(t.ns,e.ns)},t.Hn=function(t,e){return xr(t.ns,e.ns)||Jr.comparator(t.key,e.key)},t}(),$u=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Bo(Wu.Gn)}return t.prototype.checkEmpty=function(t){return ha.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Ea(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Wu(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return ha.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return ha.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return ha.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ha.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ha.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wu(e,0),i=new Wu(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),ha.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Bo(xr);return e.forEach(function(t){var e=new Wu(t,0),i=new Wu(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),ha.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Jr.isDocumentKey(i)||(i=i.child(""));var o=new Wu(new Jr(i),0),s=new Bo(xr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),ha.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Ir(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return ha.forEach(e.mutations,function(i){var o=new Wu(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Wu(e,0),r=this.rs.firstAfterOrEqual(n);return ha.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return ha.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Qu=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Mo(Jr.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ha.resolve(n?n.document.clone():gi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=zo();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():gi.newInvalidDocument(t))}),ha.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=zo(),i=new Jr(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Yi(e,u)&&(r=r.insert(u.key,u.clone()))}return ha.resolve(r)},t.prototype.fs=function(t,e){return ha.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Xu(this)},t.prototype.getSize=function(t){return ha.resolve(this.size)},t}(),Xu=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(i.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),ha.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(fu),Yu=function(){function t(t){this.persistence=t,this.ds=new hu(function(t){return bi(t)},_i),this.lastRemoteSnapshotVersion=Pr.min(),this.highestTargetId=0,this.ws=0,this._s=new Gu,this.targetCount=0,this.ys=Ja.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),ha.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ha.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ha.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ha.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ha.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Ja(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ha.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ha.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ha.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),ha.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return ha.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ha.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ha.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),ha.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ha.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ha.resolve(n)},t.prototype.containsKey=function(t,e){return ha.resolve(this._s.containsKey(e))},t}(),Zu=function(){function t(t,e){var n=this;this.gs={},this.Ne=new mr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Yu(this),this.Ut=new Va,this.Ue=function(t,e){return new Qu(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Ca(e),this.Ke=new Ku(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new $u(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;_r("MemoryPersistence","Starting transaction:",t);var i=new Ju(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return ha.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Ju=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(i.c)(e,t),e}(ca),tc=function(){function t(t){this.persistence=t,this.As=new Gu,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Tr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ha.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ha.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ha.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ha.forEach(this.vs,function(r){var i=Jr.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ha.or([function(){return ha.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ec=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function nc(t,e){return"firestore_clients_"+t+"_"+e}function rc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function ic(t,e){return"firestore_targets_"+t+"_"+e}ec.UNAUTHENTICATED=new ec(null),ec.GOOGLE_CREDENTIALS=new ec("google-credentials-uid"),ec.FIRST_PARTY=new ec("first-party-uid"),ec.MOCK_USER=new ec("mock-user");var oc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new yr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(wr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yr(i.error.code,i.error.message)),o?new t(e,i.state,r):(wr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ac=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zo(),s=0;i&&s<r.activeTargetIds.length;++s)i=Zr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(wr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),uc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(wr("SharedClientState","Failed to parse online state: "+e),null)},t}(),cc=function(){function t(){this.activeTargetIds=Zo()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),lc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Mo(xr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=nc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new cc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e,n,r,o,s,a,u,c,l,h=this;return Object(i.d)(this,function(i){switch(i.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(o=this.getItem(nc(this.persistenceKey,r)))&&(s=ac.Vs(r,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)this.ks(l[c]);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(ic(this.persistenceKey,t));if(n){var r=sc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(ic(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return _r("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){_r("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){_r("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(_r("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(i.b)(e,void 0,void 0,function(){var t,e,r,o,s,a;return Object(i.d)(this,function(i){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(a=function(t){var e=mr.o;if(null!=t)try{var n=JSON.parse(t);Ir("number"==typeof n),e=n}catch(t){wr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==mr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new oc(this.currentUser,t,e,n),i=rc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=rc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=ic(this.persistenceKey,t),i=new sc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ac.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return oc.Vs(new ec(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return sc.Vs(r,e)},t.prototype.js=function(t){return uc.Vs(t)},t.prototype.ii=function(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(_r("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zo();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),hc=function(){function t(){this.li=new cc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new cc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),fc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),dc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){_r("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){_r("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),pc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),gc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(i.c)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new pr;s.listenOnce(lr.COMPLETE,function(){try{switch(s.getLastErrorCode()){case cr.NO_ERROR:var e=s.getResponseJson();_r("Connection","XHR received:",JSON.stringify(e)),i(e);break;case cr.TIMEOUT:_r("Connection",'RPC "'+t+'" timed out'),o(new yr(gr.DEADLINE_EXCEEDED,"Request time out"));break;case cr.HTTP_ERROR:var n=s.getStatus();if(_r("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(gr).indexOf(e)>=0?e:gr.UNKNOWN}(r.status);o(new yr(a,r.message))}else o(new yr(gr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new yr(gr.UNAVAILABLE,"Connection failed."));break;default:Tr()}}finally{_r("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ir,i=Yt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new fr({})),this.ki(s.initMessageHeaders,e),Object(o.o)()||Object(o.q)()||Object(o.m)()||Object(o.n)()||Object(o.s)()||Object(o.l)()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");_r("Connection","Creating WebChannel: "+a,s);var u=r.createWebChannel(a,s),c=!1,l=!1,h=new mc({Ei:function(t){l?_r("Connection","Not sending because WebChannel is closed:",t):(c||(_r("Connection","Opening WebChannel transport."),u.open(),c=!0),_r("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,dr.EventType.OPEN,function(){l||_r("Connection","WebChannel transport opened.")}),f(u,dr.EventType.CLOSE,function(){l||(l=!0,_r("Connection","WebChannel transport closed"),h.Vi())}),f(u,dr.EventType.ERROR,function(t){l||(l=!0,Sr("Connection","WebChannel transport errored:",t),h.Vi(new yr(gr.UNAVAILABLE,"The operation could not be completed")))}),f(u,dr.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];Ir(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){_r("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ro[t];if(void 0!==e)return Fo(e)}(i),s=r.message;void 0===o&&(o=gr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,h.Vi(new yr(o,s)),u.close()}else _r("Connection","WebChannel received:",n),h.Si(n)}}),f(i,hr.STAT_EVENT,function(t){10===t.stat?_r("Connection","Detected buffering proxy"):11===t.stat&&_r("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);_r("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return _r("RestConnection","Received: ",t),t},function(e){throw Sr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+pc[t]},t}());function yc(){return"undefined"!=typeof window?window:null}function vc(){return"undefined"!=typeof document?document:null}function bc(t){return new ls(t,!0)}var _c=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&_r("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),wc=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _c(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===gr.RESOURCE_EXHAUSTED?(wr(e.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===gr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new yr(gr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(i.b)(t,void 0,void 0,function(){return Object(i.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return _r("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(_r("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Sc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(i.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Tr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Ir(void 0===e||"string"==typeof e),qr.fromBase64String(e||"")):(Ir(void 0===e||e instanceof Uint8Array),qr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?gr.UNKNOWN:Fo(t.code);return new yr(e,t.message||"")}(a);n=new rs(r,i,o,s||null)}else if("documentChange"in e){i=vs(t,(r=e.documentChange).document.name),o=ps(r.document.updateTime);var a=new pi({mapValue:{fields:r.document.fields}}),u=(s=gi.newFoundDocument(i,o,a),r.targetIds||[]);n=new es(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=vs(t,(r=e.documentDelete).document),o=r.readTime?ps(r.readTime):Pr.min(),a=gi.newNoDocument(i,o),n=new es([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=vs(t,(r=e.documentRemove).document),n=new es([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Tr();var c=e.filter;i=new jo(r=c.count||0),n=new ns(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Pr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Pr.min():e.readTime?ps(e.readTime):Pr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ws(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=wi(r)?{documents:ks(t,r)}:{query:Os(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=fs(t,e.resumeToken):e.snapshotVersion.compareTo(Pr.min())>0&&(n.readTime=hs(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ws(this.R),e.removeTarget=t,this.cr(e)},e}(wc),Ec=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(i.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Ir(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Ir(void 0!==e),t.map(function(t){return function(t,e){var n=ps(t.updateTime?t.updateTime:e);return n.isEqual(Pr.min())&&(n=ps(e)),new yo(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=ps(t.commitTime);return this.listener.Tr(n,e)}return Ir(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ws(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Is(e.R,t)})};this.cr(n)},e}(wc),Tc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(i.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new yr(gr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===gr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yr(gr.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===gr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new yr(gr.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Ic=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(wr(e),this.Vr=!1):_r("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Cc=function(t,e,n,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(i.b)(s,void 0,void 0,function(){return Object(i.d)(this,function(t){switch(t.label){case 0:return jc(this)?(_r("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return(e=Cr(t)).Or.add(4),[4,Oc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,kc(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Ic(n,r)};function kc(t){return Object(i.b)(this,void 0,void 0,function(){var e,n;return Object(i.d)(this,function(r){switch(r.label){case 0:if(!jc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Oc(t){return Object(i.b)(this,void 0,void 0,function(){var e,n;return Object(i.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xc(t,e){var n=Cr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Dc(n)?Pc(n):Xc(n).er()&&Rc(n,e))}function Ac(t,e){var n=Cr(t),r=Xc(n);n.$r.delete(e),r.er()&&Nc(n,e),0===n.$r.size&&(r.er()?r.ir():jc(n)&&n.Br.set("Unknown"))}function Rc(t,e){t.qr.U(e.targetId),Xc(t).mr(e)}function Nc(t,e){t.qr.U(e),Xc(t).yr(e)}function Pc(t){t.qr=new os({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Xc(t).start(),t.Br.Sr()}function Dc(t){return jc(t)&&!Xc(t).tr()&&t.$r.size>0}function jc(t){return 0===Cr(t).Or.size}function Lc(t){t.qr=void 0}function Fc(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(e){return t.$r.forEach(function(e,n){Rc(t,e)}),[2]})})}function Mc(t,e){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(n){return Lc(t),Dc(t)?(t.Br.Nr(e),Pc(t)):t.Br.set("Unknown"),[2]})})}function Uc(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o,s;return Object(i.d)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof rs&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s;return Object(i.d)(this,function(i){switch(i.label){case 0:n=e.cause,r=0,o=e.targetIds,i.label=1;case 1:return r<o.length?t.$r.has(s=o[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:i.sent(),t.$r.delete(s),t.qr.removeTarget(s),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),_r("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Vc(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof es?t.qr.X(e):e instanceof ns?t.qr.rt(e):t.qr.et(e),n.isEqual(Pr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Pu(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(qr.EMPTY_BYTE_STRING,n.snapshotVersion)),Nc(t,e);var r=new Ia(n.target,e,1,n.sequenceNumber);Rc(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return _r("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Vc(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Vc(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r=this;return Object(i.d)(this,function(o){switch(o.label){case 0:if(!ga(e))throw e;return t.Or.add(1),[4,Oc(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Pu(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(i.b)(r,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return _r("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,kc(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Bc(t,e){return e().catch(function(n){return Vc(t,n,e)})}function qc(t){return Object(i.b)(this,void 0,void 0,function(){var e,n,r,o,s;return Object(i.d)(this,function(i){switch(i.label){case 0:e=Cr(t),n=Yc(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,i.label=1;case 1:if(!function(t){return jc(t)&&t.Fr.length<10}(e))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,Lu(e.localStore,r)];case 3:return null===(o=i.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=o.batchId,function(t,e){t.Fr.push(e);var n=Yc(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return s=i.sent(),[4,Vc(e,s)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return Hc(e)&&zc(e),[2]}})})}function Hc(t){return jc(t)&&!Yc(t).tr()&&t.Fr.length>0}function zc(t){Yc(t).start()}function Kc(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(e){return Yc(t).Ar(),[2]})})}function Gc(t){return Object(i.b)(this,void 0,void 0,function(){var e,n,r;return Object(i.d)(this,function(i){for(e=Yc(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Wc(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:return r=t.Fr.shift(),o=Ta.from(r,e,n),[4,Bc(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return i.sent(),[4,qc(t)];case 2:return i.sent(),[2]}})})}function $c(t,e){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(n){switch(n.label){case 0:return e&&Yc(t).pr?[4,function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r;return Object(i.d)(this,function(i){switch(i.label){case 0:return Lo(r=e.code)&&r!==gr.ABORTED?(n=t.Fr.shift(),Yc(t).sr(),[4,Bc(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,qc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Hc(t)&&zc(t),[2]}})})}function Qc(t,e){return Object(i.b)(this,void 0,void 0,function(){var n;return Object(i.d)(this,function(r){switch(r.label){case 0:return n=Cr(t),e?(n.Or.delete(2),[4,kc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Oc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Xc(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Cr(t);return r.br(),new Sc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Fc.bind(null,t),Ri:Mc.bind(null,t),_r:Uc.bind(null,t)}),t.Mr.push(function(n){return Object(i.b)(e,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Dc(t)?Pc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Lc(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Yc(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Cr(t);return r.br(),new Ec(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Kc.bind(null,t),Ri:$c.bind(null,t),Ir:Gc.bind(null,t),Tr:Wc.bind(null,t)}),t.Mr.push(function(n){return Object(i.b)(e,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,qc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(_r("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Zc=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yr(gr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Jc(t,e){if(wr("AsyncQueue",e+": "+t),ga(t))return new yr(gr.UNAVAILABLE,e+": "+t);throw t}var tl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Jr.comparator(e.key,n.key)}:function(t,e){return Jr.comparator(t.key,e.key)},this.keyedMap=Go(),this.sortedSet=new Mo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),el=function(){function t(){this.Qr=new Mo(Jr.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Tr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),nl=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,tl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$i(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),rl=function(){this.Wr=void 0,this.listeners=[]},il=function(){this.queries=new hu(function(t){return Qi(t)},$i),this.onlineState="Unknown",this.Gr=new Set};function ol(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a,u,c;return Object(i.d)(this,function(i){switch(i.label){case 0:if(n=Cr(t),o=!1,(s=n.queries.get(r=e.query))||(o=!0,s=new rl),!o)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=i.sent(),[3,4];case 3:return u=i.sent(),c=Jc(u,"Initialization of query '"+Xi(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&cl(n),[2]}})})}function sl(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a;return Object(i.d)(this,function(i){return n=Cr(t),o=!1,(s=n.queries.get(r=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function al(t,e){for(var n=Cr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&cl(n)}function ul(t,e,n){var r=Cr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function cl(t){t.Gr.forEach(function(t){t.next()})}var ll=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new nl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),hl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),fl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return vs(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ts(this.R,t.document,!1):gi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return ps(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new fl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Xo()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e,n,r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:return[4,Hu(this.localStore,new fl(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?[4,zu(this.localStore,o=r[n],e.get(o.name))]:[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Iu(Object.assign({},this.progress),t))]}})})}}();var dl=function(t){this.key=t},pl=function(t){this.key=t},ml=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Xo(),this.mutatedKeys=Xo(),this.lo=Zi(t),this.fo=new tl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new el,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Vi(this.query)&&i.size===this.query.limit?i.last():null,c=Bi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Yi(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Vi(this.query)||Bi(this.query))for(;s.size>this.query.limit;){var l=Vi(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new nl(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new el,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Xo(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new pl(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new dl(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Xo();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return nl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),gl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yl=function(t){this.key=t,this.bo=!1},vl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new hu(function(t){return Qi(t)},$i),this.Vo=new Map,this.So=new Set,this.Do=new Mo(Jr.comparator),this.Co=new Map,this.No=new Gu,this.xo={},this.ko=new Map,this.Fo=Ja.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function bl(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a;return Object(i.d)(this,function(i){switch(i.label){case 0:return n=$l(t),(o=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Fu(n.localStore,Gi(e))];case 2:return s=i.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,_l(n,e,s.targetId,"current"===a)];case 3:r=i.sent(),n.isPrimaryClient&&xc(n.remoteStore,s),i.label=4;case 4:return[2,r]}})})}function _l(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o,s,a,u,c,l;return Object(i.d)(this,function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o,s,a;return Object(i.d)(this,function(i){switch(i.label){case 0:return(o=e.view._o(n)).Nn?[4,Uu(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,o)})]:[3,2];case 1:o=i.sent(),i.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(o,t.isPrimaryClient,s),[2,(Pl(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,Uu(t.localStore,e,!0)];case 1:return o=h.sent(),s=new ml(e,o.Bn),a=s._o(o.documents),u=ts.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(a,t.isPrimaryClient,u),Pl(t,n,c.To),l=new gl(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function wl(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:return n=Cr(t),r=n.Po.get(e),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(t){return!$i(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Mu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ac(n.remoteStore,r.targetId),Rl(n,r.targetId)}).catch(iu)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return Rl(n,r.targetId),[4,Mu(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})}function Sl(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o,s,a;return Object(i.d)(this,function(i){switch(i.label){case 0:r=Ql(t),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,r=Cr(t),i=Nr.now(),o=e.reduce(function(t,e){return t.add(e.key)},Xo());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Eo(c,n.get(c.key));null!=l&&s.push(new ko(c.key,l,mi(l.value.mapValue),vo.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return o=i.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Mo(xr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,o.batchId,n),[4,Ll(r,o.changes)];case 3:return i.sent(),[4,qc(r.remoteStore)];case 4:return i.sent(),[3,6];case 5:return s=i.sent(),a=Jc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function El(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r;return Object(i.d)(this,function(i){switch(i.label){case 0:n=Cr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Du(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Ir(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Ir(r.bo):t.removedDocuments.size>0&&(Ir(r.bo),r.bo=!1))}),[4,Ll(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,iu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Tl(t,e,n){var r=Cr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Cr(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&cl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Il(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o,s,a,u,c;return Object(i.d)(this,function(i){switch(i.label){case 0:return(r=Cr(t)).sharedClientState.updateQueryState(e,"rejected",n),o=r.Co.get(e),(s=o&&o.key)?(a=(a=new Mo(Jr.comparator)).insert(s,gi.newNoDocument(s,Pr.min())),u=Xo().add(s),c=new Jo(Pr.min(),new Map,new Bo(xr),a,u),[4,El(r,c)]):[3,2];case 1:return i.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),jl(r),[3,4];case 2:return[4,Mu(r.localStore,e,!1).then(function(){return Rl(r,e,n)}).catch(iu)];case 3:i.sent(),i.label=4;case 4:return[2]}})})}function Cl(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:n=Cr(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Nu(n.localStore,e)];case 2:return o=i.sent(),Al(n,r,null),xl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ll(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,iu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function kl(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:r=Cr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=Cr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Ir(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return o=i.sent(),Al(r,e,n),xl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ll(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,iu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ol(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a;return Object(i.d)(this,function(i){switch(i.label){case 0:jc((n=Cr(t)).remoteStore)||_r("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=Cr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=i.sent())?[2,void e.resolve()]:((o=n.ko.get(r)||[]).push(e),n.ko.set(r,o),[3,4]);case 3:return s=i.sent(),a=Jc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function xl(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Al(t,e,n){var r=Cr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Rl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Nl(t,e)})}function Nl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ac(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),jl(t))}function Pl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof dl?(t.No.addReference(o.key,e),Dl(t,o)):o instanceof pl?(_r("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Nl(t,o.key)):Tr()}}function Dl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(_r("SyncEngine","New document in limbo: "+n),t.So.add(r),jl(t))}function jl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Jr(Mr.fromString(e)),r=t.Fo.next();t.Co.set(r,new yl(n)),t.Do=t.Do.insert(n,r),xc(t.remoteStore,new Ia(Gi(Ui(n.path)),r,2,mr.o))}}function Ll(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o,s,a;return Object(i.d)(this,function(u){switch(u.label){case 0:return r=Cr(t),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,i){a.push(r.Oo(i,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ku.Pn(i.targetId,t);s.push(e)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(o),[4,function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a,u,c,l;return Object(i.d)(this,function(i){switch(i.label){case 0:n=Cr(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ha.forEach(e,function(e){return ha.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return ha.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return i.sent(),[3,4];case 3:if(!ga(r=i.sent()))throw r;return _r("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.kn.get(u),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.kn=n.kn.insert(u,l));return[2]}})})}(r.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Fl(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r;return Object(i.d)(this,function(i){switch(i.label){case 0:return(n=Cr(t)).currentUser.isEqual(e)?[3,3]:(_r("SyncEngine","User change. New user:",e.toKey()),[4,Ru(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new yr(gr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ll(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ml(t,e){var n=Cr(t),r=n.Co.get(e);if(r&&r.bo)return Xo().add(r.key);var i=Xo(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Ul(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:return[4,Uu((n=Cr(t)).localStore,e.query,!0)];case 1:return r=i.sent(),o=e.view.Ao(r),[2,(n.isPrimaryClient&&Pl(n,e.targetId,o.To),o)]}})})}function Vl(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){return[2,Bu((e=Cr(t)).localStore).then(function(t){return Ll(e,t)})]})})}function Bl(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o,s;return Object(i.d)(this,function(i){switch(i.label){case 0:return[4,function(t,e){var n=Cr(t),r=Cr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):ha.resolve(null)})})}((o=Cr(t)).localStore,e)];case 1:return null===(s=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,qc(o.remoteStore)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Al(o,e,r||null),xl(o,e),function(t,e){Cr(Cr(t)._n).Gt(e)}(o.localStore,e)):Tr(),i.label=4;case 4:return[4,Ll(o,s)];case 5:return i.sent(),[3,7];case 6:_r("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}})})}function ql(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a,u,c;return Object(i.d)(this,function(i){switch(i.label){case 0:return $l(n=Cr(t)),Ql(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Hl(n,r.toArray())]);case 1:return o=i.sent(),n.$o=!0,[4,Qc(n.remoteStore,!0)];case 2:for(i.sent(),s=0,a=o;s<a.length;s++)xc(n.remoteStore,a[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return Rl(n,e),Mu(n.localStore,e,!0)}),Ac(n.remoteStore,e)}),[4,c]);case 4:return i.sent(),[4,Hl(n,u)];case 5:return i.sent(),function(t){var e=Cr(t);e.Co.forEach(function(t,n){Ac(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Mo(Jr.comparator)}(n),n.$o=!1,[4,Qc(n.remoteStore,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}})})}function Hl(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a,u,c,l,h,f,d,p,m;return Object(i.d)(this,function(i){switch(i.label){case 0:n=Cr(t),r=[],o=[],s=0,a=e,i.label=1;case 1:return s<a.length?(c=void 0,(l=n.Vo.get(u=a[s]))&&0!==l.length?[4,Fu(n.localStore,Gi(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),h=0,f=l,i.label=3;case 3:return h<f.length?(d=n.Po.get(f[h]),[4,Ul(n,d)]):[3,6];case 4:(p=i.sent()).snapshot&&o.push(p.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Vu(n.localStore,u)];case 8:return m=i.sent(),[4,Fu(n.localStore,m)];case 9:return c=i.sent(),[4,_l(n,zl(m),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(o),r)]}})})}function zl(t){return Mi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Kl(t){var e=Cr(t);return Cr(Cr(e.localStore).persistence).fn()}function Gl(t,e,n,r){return Object(i.b)(this,void 0,void 0,function(){var o,s,a;return Object(i.d)(this,function(i){switch(i.label){case 0:return(o=Cr(t)).$o?(_r("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Bu(o.localStore)];case 3:return s=i.sent(),a=Jo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ll(o,s,a)];case 4:return i.sent(),[3,8];case 5:return[4,Mu(o.localStore,e,!0)];case 6:return i.sent(),Rl(o,e,r),[3,8];case 7:Tr(),i.label=8;case 8:return[2]}})})}function Wl(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o,s,a,u,c,l,h,f;return Object(i.d)(this,function(d){switch(d.label){case 0:if(!(r=$l(t)).$o)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?r.Vo.has(a=s[o])?(_r("SyncEngine","Adding an already active target "+a),[3,5]):[4,Vu(r.localStore,a)]:[3,6];case 2:return u=d.sent(),[4,Fu(r.localStore,u)];case 3:return c=d.sent(),[4,_l(r,zl(u),c.targetId,!1)];case 4:d.sent(),xc(r.remoteStore,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(i.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Mu(r.localStore,t,!1).then(function(){Ac(r.remoteStore,t),Rl(r,t)}).catch(iu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function $l(t){var e=Cr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=El.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ml.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Il.bind(null,e),e.vo._r=al.bind(null,e.eventManager),e.vo.Mo=ul.bind(null,e.eventManager),e}function Ql(t){var e=Cr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kl.bind(null,e),e}var Xl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return this.R=bc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Au(this.persistence,new Ou,t.initialUser,this.R)},t.prototype.qo=function(t){return new Zu(tc.bs,this.R)},t.prototype.Bo=function(t){return new hc},t.prototype.terminate=function(){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Yl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(i.c)(e,t),e.prototype.initialize=function(e){return Object(i.b)(this,void 0,void 0,function(){var n=this;return Object(i.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,qu(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Ql(this.Qo.syncEngine)];case 4:return r.sent(),[4,qc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return Au(this.persistence,new Ou,t.initialUser,this.R)},e.prototype.Uo=function(t){return new au(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Tu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ka.withCacheSize(this.cacheSizeBytes):Ka.DEFAULT;return new wu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,yc(),vc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new hc},e}(Xl),Zl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(i.c)(e,t),e.prototype.initialize=function(e){return Object(i.b)(this,void 0,void 0,function(){var n,r=this;return Object(i.d)(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof lc?(this.sharedClientState.syncEngine={ui:Bl.bind(null,n),ai:Gl.bind(null,n),hi:Wl.bind(null,n),fn:Kl.bind(null,n),ci:Vl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(t){return Object(i.b)(r,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return[4,ql(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(t){var e=yc();if(!lc.yt(e))throw new yr(gr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Tu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new lc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Yl),Jl=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n=this;return Object(i.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Tl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Fl.bind(null,this.syncEngine),[4,Qc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new il},t.prototype.createDatastore=function(t){var e=bc(t.databaseInfo.databaseId),n=new gc(t.databaseInfo);return function(t,e,n){return new Tc(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Tl(s.syncEngine,t,0)},o=dc.yt()?new dc:new fc,new Cc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new vl(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return e=Cr(t),_r("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Oc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),th=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),eh=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new la,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(i.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new hl(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e;return Object(i.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e;return Object(i.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(i.b)(this,void 0,void 0,function(){var e,n=this;return Object(i.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yr(gr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o,s,a,u;return Object(i.d)(this,function(i){switch(i.label){case 0:return n=Cr(t),r=ws(n.R)+"/documents",o={documents:e.map(function(t){return ys(n.R,t)})},[4,n.$i("BatchGetDocuments",r,o)];case 1:return s=i.sent(),a=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ir(!!e.found);var n=vs(t,e.found.name),r=ps(e.found.updateTime),i=new pi({mapValue:{fields:e.found.fields}});return gi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Ir(!!e.missing),Ir(!!e.readTime);var n=vs(t,e.missing),r=ps(e.readTime);return gi.newNoDocument(n,r)}(t,e):Tr()}(n.R,t);a.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=a.get(t.toString());Ir(!!e),u.push(e)}),u)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Po(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e=this;return Object(i.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Jr.fromPath(n);e.mutations.push(new Do(r,e.precondition(r)))}),[4,function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:return n=Cr(t),r=ws(n.R)+"/documents",o={writes:e.map(function(t){return Is(n.R,t)})},[4,n.Ni("Commit",r,o)];case 1:return i.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Tr();e=Pr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new yr(gr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?vo.updateTime(e):vo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Pr.min()))throw new yr(gr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vo.updateTime(e)}return vo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),nh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new _c(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(i.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(i.d)(this,function(r){return t=new eh(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Xr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Lo(e)}return!1},t}(),rh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ec.UNAUTHENTICATED,this.clientId=Or.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(i.b)(r,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return _r("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new yr(gr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(i.b)(t,void 0,void 0,function(){var t,n;return Object(i.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Jc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ih(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r,o=this;return Object(i.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),_r("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(i.b)(o,void 0,void 0,function(){return Object(i.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Ru(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function oh(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r;return Object(i.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,sh(t)];case 1:return n=o.sent(),_r("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=o.sent(),[4,e.initialize(n,r)];case 3:return o.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r;return Object(i.d)(this,function(i){switch(i.label){case 0:return(n=Cr(t)).asyncQueue.verifyOperationInProgress(),_r("RemoteStore","RemoteStore received new credentials"),r=jc(n),n.Or.add(3),[4,Oc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,kc(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function sh(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(_r("FirestoreClient","Using default OfflineComponentProvider"),[4,ih(t,new Xl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function ah(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(_r("FirestoreClient","Using default OnlineComponentProvider"),[4,oh(t,new Jl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function uh(t){return sh(t).then(function(t){return t.persistence})}function ch(t){return sh(t).then(function(t){return t.localStore})}function lh(t){return ah(t).then(function(t){return t.remoteStore})}function hh(t){return ah(t).then(function(t){return t.syncEngine})}function fh(t){return Object(i.b)(this,void 0,void 0,function(){var e,n;return Object(i.d)(this,function(r){switch(r.label){case 0:return[4,ah(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=bl.bind(null,e.syncEngine),n.onUnlisten=wl.bind(null,e.syncEngine),n)]}})})}function dh(t,e,n){var r=this;void 0===n&&(n={});var o=new la;return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(r,void 0,void 0,function(){var r;return Object(i.d)(this,function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new th({next:function(o){e.enqueueAndForget(function(){return sl(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new yr(gr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new yr(gr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ll(Ui(n.path),o,{includeMetadataChanges:!0,so:!0});return ol(t,s)},[4,fh(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function ph(t,e,n){var r=this;void 0===n&&(n={});var o=new la;return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(r,void 0,void 0,function(){var r;return Object(i.d)(this,function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new th({next:function(n){e.enqueueAndForget(function(){return sl(t,s)}),n.fromCache&&"server"===r.source?i.reject(new yr(gr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ll(n,o,{includeMetadataChanges:!0,so:!0});return ol(t,s)},[4,fh(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var mh=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},gh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),yh=new Map,vh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},bh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(ec.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_h=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wh=function(){function t(t){var e=this;this.currentUser=ec.UNAUTHENTICATED,this.oc=new la,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){_r("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(_r("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(_r("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ir("string"==typeof n.accessToken),new vh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(i.b)(n,void 0,void 0,function(){return Object(i.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ir(null===t||"string"==typeof t),new ec(t)},t}(),Sh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=ec.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Eh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Sh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(ec.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Th(t,e,n){if(!n)throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ih(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yr(gr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ch(t,e,n,r){if(!0===e&&!0===r)throw new yr(gr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function kh(t){if(!Jr.isDocumentKey(t))throw new yr(gr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Oh(t){if(Jr.isDocumentKey(t))throw new yr(gr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Tr()}function Ah(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yr(gr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xh(t);throw new yr(gr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Rh(t,e){if(e<=0)throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Nh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yr(gr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yr(gr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ch("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Ph=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1,t instanceof gh?(this._databaseId=t,this._credentials=new bh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yr(gr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(t.options.projectId)}(t),this._credentials=new wh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new yr(gr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new yr(gr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new bh;switch(t.type){case"gapi":var e=t.client;return Ir(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Eh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new yr(gr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=yh.get(this))&&(_r("ComponentProvider","Removing Datastore"),yh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Dh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),jh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ui(r))||this)._path=r,i.type="collection",i}return Object(i.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Dh(this.firestore,null,new Jr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(jh);function Fh(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=Object(o.i)(t),Th("collection","path",e),t instanceof Ph)return Oh(n=Mr.fromString.apply(Mr,Object(i.f)([e],r))),new Lh(t,null,n);if(!(t instanceof Dh||t instanceof Lh))throw new yr(gr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Oh(n=Mr.fromString.apply(Mr,Object(i.f)([t.path],r)).child(Mr.fromString(e))),new Lh(t.firestore,null,n)}function Mh(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=Object(o.i)(t),1===arguments.length&&(e=Or.u()),Th("doc","path",e),t instanceof Ph)return kh(n=Mr.fromString.apply(Mr,Object(i.f)([e],r))),new Dh(t,null,new Jr(n));if(!(t instanceof Dh||t instanceof Lh))throw new yr(gr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kh(n=t._path.child(Mr.fromString.apply(Mr,Object(i.f)([e],r)))),new Dh(t.firestore,t instanceof Lh?t.converter:null,new Jr(n))}function Uh(t,e){return t=Object(o.i)(t),e=Object(o.i)(e),(t instanceof Dh||t instanceof Lh)&&(e instanceof Dh||e instanceof Lh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Vh(t,e){return t=Object(o.i)(t),e=Object(o.i)(e),t instanceof jh&&e instanceof jh&&t.firestore===e.firestore&&$i(t._query,e._query)&&t.converter===e.converter}var Bh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new _c(this,"async_queue_retry"),this.Ic=function(){var e=vc();e&&_r("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=vc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=vc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new la;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e=this;return Object(i.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ga(t=n.sent()))throw t;return _r("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,wr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Zc.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Tr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function qh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new la,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Bh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(i.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Kh(this),this._firestoreClient.terminate()},e}(Ph);function zh(t){return t._firestoreClient||Kh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Kh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new mh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new rh(t._credentials,t._queue,r)}function Gh(t,e,n){var r=this,o=new la;return t.asyncQueue.enqueue(function(){return Object(i.b)(r,void 0,void 0,function(){var r;return Object(i.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,ih(t,n)];case 1:return i.sent(),[4,oh(t,e)];case 2:return i.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===gr.FAILED_PRECONDITION||t.code===gr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function Wh(t){if(t._initialized||t._terminated)throw new yr(gr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $h=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new yr(gr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Qh=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(qr.fromBase64String(e))}catch(e){throw new yr(gr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(qr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Xh=function(t){this._methodName=t},Yh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new yr(gr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yr(gr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return xr(this._lat,t._lat)||xr(this._long,t._long)},t}(),Zh=/^__.*__$/,Jh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ko(t,this.data,this.fieldMask,e,this.fieldTransforms):new Co(t,this.data,e,this.fieldTransforms)},t}(),tf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ko(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ef(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tr()}}var nf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Ef(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(ef(this.Nc)&&Zh.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),rf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||bc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new nf({Nc:t,methodName:e,qc:n,path:Vr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function of(t){var e=t._freezeSettings(),n=bc(t._databaseId);return new rf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sf(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);bf("Data must be an object, but it was:",s,r);var a,u,c=yf(r,s);if(o.merge)a=new Br(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=_f(e,f[h],n);if(!s.contains(d))throw new yr(gr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Tf(l,d)||l.push(d)}a=new Br(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Jh(new pi(c),a,u)}var af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Xh);function uf(t,e,n){return new nf({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype._toFieldTransform=function(t){return new go(t.path,new ao)},e.prototype.isEqual=function(t){return t instanceof e},e}(Xh),lf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(i.c)(e,t),e.prototype._toFieldTransform=function(t){var e=uf(this,t,!0),n=this.Kc.map(function(t){return gf(t,e)}),r=new uo(n);return new go(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Xh),hf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(i.c)(e,t),e.prototype._toFieldTransform=function(t){var e=uf(this,t,!0),n=this.Kc.map(function(t){return gf(t,e)}),r=new lo(n);return new go(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Xh),ff=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(i.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new fo(t.R,no(t.R,this.Qc));return new go(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Xh);function df(t,e,n,r){var i=t.Uc(1,e,n);bf("Data must be an object, but it was:",i,r);var s=[],a=pi.empty();jr(r,function(t,r){var u=Sf(e,t,n);r=Object(o.i)(r);var c=i.Oc(u);if(r instanceof af)s.push(u);else{var l=gf(r,c);null!=l&&(s.push(u),a.set(u,l))}});var u=new Br(s);return new tf(a,u,i.fieldTransforms)}function pf(t,e,n,r,i,s){var a=t.Uc(1,e,n),u=[_f(e,r,n)],c=[i];if(s.length%2!=0)throw new yr(gr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)u.push(_f(e,s[l])),c.push(s[l+1]);for(var h=[],f=pi.empty(),d=u.length-1;d>=0;--d)if(!Tf(h,u[d])){var p=u[d],m=c[d];m=Object(o.i)(m);var g=a.Oc(p);if(m instanceof af)h.push(p);else{var y=gf(m,g);null!=y&&(h.push(p),f.set(p,y))}}var v=new Br(h);return new tf(f,v,a.fieldTransforms)}function mf(t,e,n,r){return void 0===r&&(r=!1),gf(n,t.Uc(r?4:3,e))}function gf(t,e){if(vf(t=Object(o.i)(t)))return bf("Unsupported field value:",e,t),yf(t,e);if(t instanceof Xh)return function(t,e){if(!ef(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=gf(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(o.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return no(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Nr.fromDate(t);return{timestampValue:hs(e.R,n)}}if(t instanceof Nr)return n=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:hs(e.R,n)};if(t instanceof Yh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qh)return{bytesValue:fs(e.R,t._byteString)};if(t instanceof Dh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ms(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+xh(t))}(t,e)}function yf(t,e){var n={};return Lr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(t,function(t,r){var i=gf(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function vf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Nr||t instanceof Yh||t instanceof Qh||t instanceof Dh||t instanceof Xh)}function bf(t,e,n){if(!vf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=xh(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function _f(t,e,n){if((e=Object(o.i)(e))instanceof $h)return e._internalPath;if("string"==typeof e)return Sf(t,e);throw Ef("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var wf=new RegExp("[~\\*/\\[\\]]");function Sf(t,e,n){if(e.search(wf)>=0)throw Ef("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new($h.bind.apply($h,Object(i.f)([void 0],e.split(".")))))._internalPath}catch(Td){throw Ef("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ef(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new yr(gr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Tf(t,e){return t.some(function(t){return t.isEqual(e)})}var If=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Dh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Cf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(kf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(If);function kf(t,e){return"string"==typeof e?Sf(t,e):e instanceof $h?e._internalPath:e._delegate._internalPath}var Of=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xf=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(i.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(kf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(If),Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(xf),Rf=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Of(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Af(n._firestore,n._userDataWriter,r.key,r,new Of(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yr(gr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Af(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Of(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Af(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Of(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Nf(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Nf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tr()}}function Pf(t,e){return t instanceof xf&&e instanceof xf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Rf&&e instanceof Rf&&t._firestore===e._firestore&&Vh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Df(t){if(Bi(t)&&0===t.explicitOrderBy.length)throw new yr(gr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jf=function(){};function Lf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ff=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(i.c)(e,t),e.prototype._apply=function(t){var e=of(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new yr(gr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){zf(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Hf(r,t,l[c]));a={arrayValue:{values:u}}}else a=Hf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zf(s,o),a=mf(n,"where",s,"in"===o||"not-in"===o);var h=Si.create(i,o,a);return function(t,e){if(e.g()){var n=Hi(t);if(null!==n&&!n.isEqual(e.field))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=qi(t);null!==r&&Kf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new yr(gr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new jh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(jf),Mf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(i.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Pi(e,n);return function(t,e){if(null===qi(t)){var n=Hi(t);null!==n&&Kf(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new jh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Fi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(jf),Uf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(i.c)(e,t),e.prototype._apply=function(t){return new jh(t.firestore,t.converter,Wi(t._query,this.Hc,this.Jc))},e}(jf),Vf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(i.c)(e,t),e.prototype._apply=function(t){var e=qf(t,this.type,this.Yc,this.Xc);return new jh(t.firestore,t.converter,function(t,e){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(jf),Bf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(i.c)(e,t),e.prototype._apply=function(t){var e=qf(t,this.type,this.Yc,this.Xc);return new jh(t.firestore,t.converter,function(t,e){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(jf);function qf(t,e,n,r){if(n[0]=Object(o.i)(n[0]),n[0]instanceof If)return function(t,e,n,r,i){if(!r)throw new yr(gr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ki(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(ai(e,r.key));else{var c=r.data.field(u.field);if(Wr(c))throw new yr(gr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new yr(gr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ri(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=of(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new yr(gr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!zi(t)&&-1!==c.indexOf("/"))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Mr.fromString(c));if(!Jr.isDocumentKey(l))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Jr(l);a.push(ai(e,h))}else{var f=mf(n,r,c);a.push(f)}}return new Ri(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Hf(t,e,n){if("string"==typeof(n=Object(o.i)(n))){if(""===n)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zi(e)&&-1!==n.indexOf("/"))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Mr.fromString(n));if(!Jr.isDocumentKey(r))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ai(t,new Jr(r))}if(n instanceof Dh)return ai(t,n._key);throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xh(n)+".")}function zf(t,e){if(!Array.isArray(t)||0===t.length)throw new yr(gr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new yr(gr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Kf(t,e,n){if(!n.isEqual(e))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Gf=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ti(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Tr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return jr(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Yh(Kr(t.latitude),Kr(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=$r(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Qr(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=zr(t);return new Nr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Mr.fromString(t);Ir(Vs(n));var r=new gh(n.get(1),n.get(3)),i=new Jr(n.popFirst(5));return r.isEqual(e)||wr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Wf(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var $f=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(i.c)(e,t),e.prototype.convertBytes=function(t){return new Qh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dh(this.firestore,null,e)},e}(Gf),Qf=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=of(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Xf(t,this._firestore),i=Wf(r.converter,e,n),o=sf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,vo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,a=Xf(t,this._firestore);return s="string"==typeof(e=Object(o.i)(e))||e instanceof $h?pf(this._dataReader,"WriteBatch.update",a._key,e,n,r):df(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(s.toMutation(a._key,vo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Xf(t,this._firestore);return this._mutations=this._mutations.concat(new Po(e._key,vo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new yr(gr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Xf(t,e){if((t=Object(o.i)(t)).firestore!==e)throw new yr(gr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Yf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(i.c)(e,t),e.prototype.convertBytes=function(t){return new Qh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dh(this.firestore,null,e)},e}(Gf);function Zf(t,e,n){t=Ah(t,Dh);var r=Ah(t.firestore,Hh),i=Wf(t.converter,e,n);return ed(r,[sf(of(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,vo.none())])}function Jf(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ah(t,Dh);var s=Ah(t.firestore,Hh),a=of(s);return ed(s,[("string"==typeof(e=Object(o.i)(e))||e instanceof $h?pf(a,"updateDoc",t._key,e,n,r):df(a,"updateDoc",t._key,e)).toMutation(t._key,vo.exists(!0))])}function td(t){for(var e,n,r,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];t=Object(o.i)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof s[c]||qh(s[c])||(u=s[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(qh(s[c])){var p=s[c];s[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),s[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),s[c+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof Dh)h=Ah(t.firestore,Hh),f=Ui(t._key.path),l={next:function(e){s[c]&&s[c](nd(h,t,e))},error:s[c+1],complete:s[c+2]};else{var m=Ah(t,jh);h=Ah(m.firestore,Hh),f=m._query;var g=new Yf(h);l={next:function(t){s[c]&&s[c](new Rf(h,g,m,t))},error:s[c+1],complete:s[c+2]},Df(t._query)}return function(t,e,n,r){var o=this,s=new th(r),a=new ll(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(o,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return e=ol,[4,fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(o,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return e=sl,[4,fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(zh(h),f,d,l)}function ed(t,e){return function(t,e){var n=this,r=new la;return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(n,void 0,void 0,function(){var n;return Object(i.d)(this,function(i){switch(i.label){case 0:return n=Sl,[4,hh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(zh(t),e)}function nd(t,e,n){var r=n.docs.get(e._key),i=new Yf(t);return new xf(t,i,e._key,r,new Of(n.hasPendingWrites,n.fromCache),e.converter)}var rd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(i.c)(e,t),e.prototype.get=function(e){var n=this,r=Xf(e,this._firestore),i=new Yf(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new xf(n._firestore,i,r._key,t._document,new Of(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=of(t)}return t.prototype.get=function(t){var e=this,n=Xf(t,this._firestore),r=new $f(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Tr();var i=t[0];if(i.isFoundDocument())return new If(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new If(e._firestore,r,n._key,null,n.converter);throw Tr()})},t.prototype.set=function(t,e,n){var r=Xf(t,this._firestore),i=Wf(r.converter,e,n),o=sf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,a=Xf(t,this._firestore);return s="string"==typeof(e=Object(o.i)(e))||e instanceof $h?pf(this._dataReader,"Transaction.update",a._key,e,n,r):df(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,s),this},t.prototype.delete=function(t){var e=Xf(t,this._firestore);return this._transaction.delete(e._key),this},t}());function id(){if("undefined"==typeof Uint8Array)throw new yr(gr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function od(){if("undefined"==typeof atob)throw new yr(gr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var sd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return od(),new t(Qh.fromBase64String(e))},t.fromUint8Array=function(e){return id(),new t(Qh.fromUint8Array(e))},t.prototype.toBase64=function(){return od(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return id(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ad=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Wh(t=Ah(t,Hh));var n=zh(t),r=t._freezeSettings(),i=new Jl;return Gh(n,i,new Yl(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Wh(t=Ah(t,Hh));var e=zh(t),n=t._freezeSettings(),r=new Jl;return Gh(e,r,new Zl(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new yr(gr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new la;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(i.b)(e,void 0,void 0,function(){var e;return Object(i.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.d)(this,function(e){switch(e.label){case 0:return da.yt()?[4,da.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Tu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),ud=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof gh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Sr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var s=(t=Ah(t,Ph))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Sr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=ec.MOCK_USER;else{a=Object(o.e)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new yr(gr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ec(c)}t._credentials=new _h(new vh(a,u))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(i.b)(e,void 0,void 0,function(){var e,n;return Object(i.d)(this,function(r){switch(r.label){case 0:return[4,uh(t)];case 1:return e=r.sent(),[4,lh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Cr(t);return e.Or.delete(0),kc(e)}(n))]}})})})}(zh(Ah(this._delegate,Hh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(i.b)(e,void 0,void 0,function(){var e,n;return Object(i.d)(this,function(r){switch(r.label){case 0:return[4,uh(t)];case 1:return e=r.sent(),[4,lh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return(e=Cr(t)).Or.add(0),[4,Oc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(zh(Ah(this._delegate,Hh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ch("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new la;return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(e,void 0,void 0,function(){var e;return Object(i.d)(this,function(r){switch(r.label){case 0:return e=Ol,[4,hh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(zh(Ah(this._delegate,Hh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new th(e);return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(n,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Cr(t).Gr.add(e),e.next()},[4,fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(n,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Cr(t).Gr.delete(e)},[4,fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(zh(t=Ah(t,Hh)),qh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new yr(gr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Sd(this,Fh(this._delegate,t))}catch(t){throw pd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new dd(this,Mh(this._delegate,t))}catch(t){throw pd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new bd(this,function(t,e){if(t=Ah(t,Ph),Th("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yr(gr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jh(t,null,function(t){return new Fi(Mr.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw pd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new la;return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(n,void 0,void 0,function(){var n;return Object(i.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ah(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new nh(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(zh(t),function(n){return e(new rd(t,n))})}(this._delegate,function(n){return t(new ld(e,n))})},t.prototype.batch=function(){var t=this;return zh(this._delegate),new hd(new Qf(this._delegate,function(e){return ed(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new yr(gr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new yr(gr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),cd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(i.c)(e,t),e.prototype.convertBytes=function(t){return new sd(new Qh(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return dd.eu(e,this.firestore,null)},e}(Gf),ld=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new cd(t)}return t.prototype.get=function(t){var e=this,n=Ed(t);return this._delegate.get(n).then(function(t){return new yd(e._firestore,new xf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Ed(t);return n?(Ih("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Ed(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(i.f)([a,e,n],o)),this},t.prototype.delete=function(t){var e=Ed(t);return this._delegate.delete(e),this},t}(),hd=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Ed(t);return n?(Ih("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Ed(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(i.f)([a,e,n],o)),this},t.prototype.delete=function(t){var e=Ed(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),fd=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Af(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new vd(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new cd(e),n),i.set(n,o)),o},t}();fd.su=new WeakMap;var dd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cd(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new yr(gr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Dh(n._delegate,r,new Jr(e)))},t.eu=function(e,n,r){return new t(n,new Dh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Sd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Sd(this.firestore,Fh(this._delegate,t))}catch(t){throw pd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(o.i)(t))instanceof Dh&&Uh(this._delegate,t)},t.prototype.set=function(t,e){e=Ih("DocumentReference.set",e);try{return e?Zf(this._delegate,t,e):Zf(this._delegate,t)}catch(t){throw pd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Jf(this._delegate,t):Jf.apply(void 0,Object(i.f)([this._delegate,t,e],n))}catch(t){throw pd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return ed(Ah((t=this._delegate).firestore,Hh),[new Po(t._key,vo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=md(e),i=gd(e,function(e){return new yd(t.firestore,new xf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return td(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ah(t,Dh);var e=Ah(t.firestore,Hh),n=zh(e),r=new Yf(e);return function(t,e){var n=this,r=new la;return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(n,void 0,void 0,function(){var n;return Object(i.d)(this,function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o;return Object(i.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=Cr(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(o=i.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new yr(gr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Jc(r,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,ch(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new xf(e,r,t._key,n,new Of(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ah(t,Dh);var e=Ah(t.firestore,Hh);return dh(zh(e),t._key,{source:"server"}).then(function(n){return nd(e,t,n)})}(this._delegate):function(t){t=Ah(t,Dh);var e=Ah(t.firestore,Hh);return dh(zh(e),t._key).then(function(n){return nd(e,t,n)})}(this._delegate)).then(function(t){return new yd(e.firestore,new xf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?fd.nu(this.firestore,e):null))},t}();function pd(t,e,n){return t.message=t.message.replace(e,n),t}function md(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!qh(r))return r}return{}}function gd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=qh(t[0])?t[0]:qh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new dd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Pf(this._delegate,t._delegate)},t}(),vd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(yd),bd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Lf(this._delegate,function(t,e,n){var r=e,i=kf("where",t);return new Ff(i,r,n)}(e,n,r)))}catch(e){throw pd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Lf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=kf("orderBy",t);return new Mf(r,n)}(e,n)))}catch(e){throw pd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Lf(this._delegate,function(t){return Rh("limit",t),new Uf("limit",t,"F")}(e)))}catch(e){throw pd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Lf(this._delegate,function(t){return Rh("limitToLast",t),new Uf("limitToLast",t,"L")}(e)))}catch(e){throw pd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vf("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw pd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vf("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw pd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bf("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw pd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bf("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw pd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Vh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ah(t,jh);var e=Ah(t.firestore,Hh),n=zh(e),r=new Yf(e);return function(t,e){var n=this,r=new la;return t.asyncQueue.enqueueAndForget(function(){return Object(i.b)(n,void 0,void 0,function(){var n;return Object(i.d)(this,function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o,s,a,u;return Object(i.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Uu(t,e,!0)];case 1:return u=i.sent(),r=new ml(e,u.Bn),o=r._o(u.documents),s=r.applyChanges(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=i.sent(),u=Jc(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,ch(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Rf(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ah(t,jh);var e=Ah(t.firestore,Hh),n=zh(e),r=new Yf(e);return ph(n,t._query,{source:"server"}).then(function(n){return new Rf(e,r,t,n)})}(this._delegate):function(t){t=Ah(t,jh);var e=Ah(t.firestore,Hh),n=zh(e),r=new Yf(e);return Df(t._query),ph(n,t._query).then(function(n){return new Rf(e,r,t,n)})}(this._delegate)).then(function(t){return new wd(e.firestore,new Rf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=md(e),i=gd(e,function(e){return new wd(t.firestore,new Rf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return td(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?fd.nu(this.firestore,e):null))},t}(),_d=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new vd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),wd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new bd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new vd(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new _d(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new vd(n._firestore,r))})},t.prototype.isEqual=function(t){return Pf(this._delegate,t._delegate)},t}(),Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(i.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new dd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new dd(this.firestore,void 0===t?Mh(this._delegate):Mh(this._delegate,t))}catch(t){throw pd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ah(t.firestore,Hh),r=Mh(t),i=Wf(t.converter,e);return ed(n,[sf(of(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,vo.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new dd(e.firestore,t)})},e.prototype.isEqual=function(t){return Uh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?fd.nu(this.firestore,t):null))},e}(bd);function Ed(t){return Ah(t,Dh)}var Td,Id=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new($h.bind.apply($h,Object(i.f)([void 0],t)))}return t.documentId=function(){return new t(Vr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(o.i)(t))instanceof $h&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Cd=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new cf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new af("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hf("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new ff("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),kd=n("/6Yf"),Od={Firestore:ud,GeoPoint:Yh,Timestamp:Nr,Blob:sd,Transaction:ld,WriteBatch:hd,DocumentReference:dd,DocumentSnapshot:yd,Query:bd,QueryDocumentSnapshot:vd,QuerySnapshot:wd,CollectionReference:Sd,FieldPath:Id,FieldValue:Cd,setLogLevel:function(t){vr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new kd.a("firestore",function(t){return function(t,e){return new ud(t,new Hh(t,e),new ad)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Od)))})(Td=r.a),Td.registerVersion("@firebase/firestore","2.4.1")},"6nsN":function(t,e,n){"use strict";n.r(e);var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Ra(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Ra(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++v)}var y="closure_uid_"+(1e9*Math.random()>>>0),v=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function C(t,e,n){this.code=x+t,this.message=e||A[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new C(e.substring(x.length),t.message,t.serverResponse):null}T(C,Error),C.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.w()};var O,x="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function j(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new j("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}O=N("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(j,D),j.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new F(function(){return new q},function(t){t.reset()});function B(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=H(t,e)}function Q(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Y(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){J=ht;break t}}J=""}function ft(t){return ut(J,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Et&&e||"",this.b=St}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===St?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.ta=!0,bt.prototype.sa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,St={},Et={};function Tt(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function It(t,e){this.a=e===At?t:""}function Ct(t){return t instanceof It&&t.constructor===It?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=_t(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Tt();return new It(t=e?e.createScriptURL(t):t,At)}(t=n.replace(Ot,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?_t(t):encodeURIComponent(String(t))}))}It.prototype.ta=!0,It.prototype.sa=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ot=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Rt(t,e){this.a=e===Mt?t:""}function Nt(t){return t instanceof Rt&&t.constructor===Rt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Rt.prototype.ta=!0,Rt.prototype.sa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,jt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),jt.test(t))t=new Rt(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Pt.test(e[1])?new Rt(t,Mt):null}return t}function Ft(t){return t instanceof Rt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),jt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,Mt))}var Mt={},Ut=new Rt("about:invalid#zClosurez",Mt);function Vt(t,e,n){this.a=n===Bt?t:""}Vt.prototype.ta=!0,Vt.prototype.sa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function qt(t,e,n,r){return t=t instanceof Rt?t:Ft(t),e=e||a,n=n instanceof bt?_t(n):n||"",e.open(Nt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var Gt,Wt,$t=ft("Opera"),Qt=ft("Trident")||ft("MSIE"),Xt=ft("Edge"),Yt=Xt||Qt,Zt=ft("Gecko")&&!(ut(J.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Jt=ut(J.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=J,Zt?/rv:([^\);]+)(\)|;)/.exec(Wt):Xt?/Edge\/([\d\.]+)/.exec(Wt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Jt?/WebKit\/(\S+)/.exec(Wt):$t?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Qt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ae=!Qt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||m(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}z(s?Z(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){a.setTimeout(function(){throw t},0)}function ge(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ft("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ye||(he(),ye=!0),ve.add(t,e)}var ye=!1,ve=new U;function be(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){me(e)}M(V,t)}ye=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){De(n,Se,t)},function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,Ee,t)})}catch(r){De(this,Ee,r)}}var we=0,Se=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ie=new F(function(){return new Te},function(t){t.reset()});function Ce(t,e,n){var r=Ie.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof _e)return t;var e=new _e(h);return De(e,Se,t),e}function Oe(t){return new _e(function(e,n){n(t)})}function xe(t,e,n){je(t,e,n,null)||ge(S(e,t))}function Ae(t){return new _e(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],S(i,o,!0),S(i,o,!1));else e(r)})}function Re(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Fe(n),Me(n,i,Ee,e)))}t.c=null}else De(t,Ee,e)}function Ne(t,e){t.b||t.a!=Se&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ce(null,null,null);return i.a=new _e(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Ne(t,i),i.a}function De(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof Be||function(t,e){t.g=!0,ge(function(){t.g&&Ve.call(null,e)})}(t,n)))}function je(t,e,n,r){if(t instanceof _e)return Ne(t,Ce(e||h,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ge(t.gc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Ve.call(null,i)}M(Ie,e)}function Ue(t,e,n){e==Se?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Ce(t,t,e)).c=!0,Ne(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Be(t);ge(function(){Re(this,e)},this)}},t.$c=function(t){this.a=we,De(this,Se,t)},t.ad=function(t){this.a=we,De(this,Ee,t)},t.gc=function(){for(var t;t=Fe(this);)Me(this,t,this.a,this.i);this.h=!1};var Ve=me;function Be(t){D.call(this,t)}function qe(){0!=He&&(ze[g(this)]=this),this.ya=this.ya,this.pa=this.pa}T(Be,D),Be.prototype.name="cancel";var He=0,ze={};function Ke(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=He)){var e=g(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}qe.prototype.ya=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},We=!Qt||9<=Number(se),$e=Qt&&!oe("9"),Qe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Xe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xe.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Ye,Xe);var Ze=Ge({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new en(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=_n(n),t&&t[Je]?Sn(t,e,n,m(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=vn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=yn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=_n(n),t&&t[Je]?En(t,e,n,m(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=_n(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Je])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&dn(t),n.call(r,e)}function yn(t,e){if(t.wa)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Ye(e,this))}function vn(t){return(t=t[an])instanceof rn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return p(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function wn(){qe.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function Sn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&on(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Cn(t){var e=null;return new _e(function(n,r){-1==(e=In(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function kn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function On(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(wn,qe),wn.prototype[Je]=!0,wn.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Xe(t,n);else if(t instanceof Xe)t.target=t.target||n;else{var i=t;yt(t=new Xe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Tn(s,r,!0,t)&&i}if(i=Tn(s=t.b=n,r,!0,t)&&i,i=Tn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tn(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=xn.prototype).X=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Ln(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),jn(this,n[4]),this.f=Bn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function Dn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Wn)),t.b=new Qn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Un(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Vn(t,e,n,r){var i=new Pn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&jn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Gn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,$n)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Kn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,$n=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yn(t){var e=On(t);if(void 0===e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=kn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(t,e){Xn(t),e=nr(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Jn(t,e){return Xn(t),e=nr(t,e),Rn(t.a.b,e)}function tr(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),Z(n)),t.b+=n.length)}function er(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Qn.prototype).add=function(t,e){Xn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Xn(this),this.a.forEach(function(n,r){z(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Xn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Xn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=Y(e,this.a.get(nr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Xn(this),this.c=null,Jn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function cr(){var t=xr();return Qt&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Nt(Lt(t)||Ut)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Cr(xr())==Tr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:Lt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:Ft(e),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Nt(e),s&&(Yt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Vt(t=(r=Tt())?r.createHTML(t):t,null,Bt),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new _e(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function br(t){return t=t||xr(),!("file:"!==Dr()&&"ionic:"!==Dr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Sr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=Sr();return"ReactNative"===t||"Node"===t}var Tr="Firefox",Ir="Chrome";function Cr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Tr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var kr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Sr())?r=Cr(i=xr()):"Worker"===r&&(r=Cr(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return a.navigator&&a.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=a.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!a.indexedDB}catch(n){return wr()&&!!a.indexedDB}return!1}function Nr(){return(Pr()||"chrome-extension:"===Dr()||br())&&!Er()&&Rr()&&!wr()}function Pr(){return"http:"===Dr()||"https:"===Dr()}function Dr(){return a.location&&a.location.protocol||null}function jr(t){return!dr(t=t||xr())&&Cr(t)!=Tr}function Lr(t){return void 0===t?null:rr(t)}function Fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Cr(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=Sr(),this.b=dr(t)||"ReactNative"===e}function Hr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Kr(){return!(!Ar("fireauth.oauthhelper",a)&&!Ar("fireauth.iframe",a))}qr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==Dr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Wr={};function $r(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Qr.abcd}catch(Wt){Gr=!1}function Xr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Xr(t,n,e[n])}function Zr(t){var e={};return Yr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Xr(e,n,Jr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Xr(this,"uid",t[ii]),Xr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Xr(this,"enrollmentTime",n),Xr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Xr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[di],i=t[pi];if(t=ei(t[fi]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[gi]=n||null,e[vi]=n||null,e[mi]=r):(e[gi]=r||null,e[vi]=r||null,e[mi]=n||null),e[yi]=t||null,Xr(this,_i,i),Xr(this,bi,Jr(e))}T(si,ti),si.prototype.w=function(){var t=si.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",fi="mfaInfo",di="newEmail",pi="requestType",mi="email",gi="fromEmail",yi="multiFactorInfo",vi="previousEmail",bi="data",_i="operation";function wi(t){var e=Mn(t=Un(t),Si)||null,n=Mn(t,Ei)||null,r=Mn(t,Ci)||null;if(r=r&&Oi[r]||null,!e||!n||!r)throw new C("argument-error",Si+", "+Ei+"and "+Ci+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ti)||null,languageCode:Mn(t,Ii)||null,tenantId:Mn(t,ki)||null})}var Si="apiKey",Ei="oobCode",Ti="continueUrl",Ii="languageCode",Ci="mode",ki="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function xi(t){try{return new wi(t)}catch(e){return null}}function Ai(t){var e=t[ji];if(void 0===e)throw new C("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[Mi];var r=n[Li];if(n=n[Fi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new C("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Di])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new C("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new C("argument-error",Di+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new C("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ni])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new C("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Ni="dynamicLinkDomain",Pi="handleCodeInApp",Di="iOS",ji="url",Li="installApp",Fi="minimumVersion",Mi="packageName",Ui="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Bi=null;function qi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hi(t){try{return new qi(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Bi){Bi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Wi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Ki},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $i(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function Qi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Xi])return new Zi(t)}catch(r){}return null}var Xi="idToken",Yi="providerId";function Zi(t){var e=t[Yi];if(!e&&t[Xi]){var n=Hi(t[Xi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Xr(this,"providerId",e),Xr(this,"isNewUser",n)}function Ji(t){Zi.call(this,t),Xr(this,"profile",Jr((t=Mr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",t.screenName||null)}function io(t){var e=Un(t),n=Mn(e,"link"),r=Mn(Un(n),"link");return e=Mn(e,"deep_link_id"),Mn(Un(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}T(Ji,Zi),T(to,Ji),T(eo,Ji),T(no,Ji),T(ro,Ji);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Xs]){var n=Hi(t[Xs]);if(!n||e!=n.i)throw new C("user-mismatch");return t}throw new C("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==x+"user-not-found"?new C("user-mismatch"):t})}function lo(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Xr(this,"providerId",t),Xr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Xr(this,"idToken",e.idToken),e.accessToken&&Xr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Xr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Xr(this,"accessToken",e.oauthToken),Xr(this,"secret",e.oauthTokenSecret)}Xr(this,"providerId",t),Xr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function yo(t,e){this.Qc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=($i(t)||{}).Ja||null,this.pb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function bo(t){yo.call(this,t,Gi),this.a=[]}function _o(){bo.call(this,"facebook.com")}function wo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function So(){bo.call(this,"github.com")}function Eo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function To(){bo.call(this,"google.com"),this.Ca("profile")}function Io(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function Co(){yo.call(this,"twitter.com",Ki)}function ko(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Oo(t,e,n){this.a=t,this.f=e,Xr(this,"providerId","password"),Xr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new Oo(t.email,t.password,t.signInMethod):null}function Ao(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=No(e)))throw new C("argument-error","Invalid email link!");return new Oo(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=xi(t=io(t)))&&t.operation===ci?t:null}function Po(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new C("internal-error");this.a=t,Xr(this,"providerId","phone"),this.fa="phone",Xr(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Po(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Lo(t){try{this.a=t||r.a.auth()}catch(e){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Po({fb:t,eb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Io(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return ke(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return ya(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,va(t,n)},lo.prototype.c=function(t,e){return co(ba(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return ya(t,mo(this))},po.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,va(t,n)},po.prototype.c=function(t,e){return co(ba(t,mo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Jb=mt(t),this},T(vo,yo),T(bo,yo),bo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},bo.prototype.Rb=function(){return Z(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},T(_o,bo),Xr(_o,"PROVIDER_ID","facebook.com"),Xr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(So,bo),Xr(So,"PROVIDER_ID","github.com"),Xr(So,"GITHUB_SIGN_IN_METHOD","github.com"),T(To,bo),Xr(To,"PROVIDER_ID","google.com"),Xr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),T(Co,yo),Xr(Co,"PROVIDER_ID","twitter.com"),Xr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?tu(t,ka,{email:this.a,oobCode:this.f}):tu(t,Qa,{email:this.a,password:this.f})},Oo.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Oa,{idToken:e,email:this.a,oobCode:this.f}):tu(t,Ba,{idToken:e,email:this.a,password:this.f})},Oo.prototype.c=function(t,e){return co(this.ka(t),e)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Ao,{PROVIDER_ID:"password"}),Yr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.gb(jo(this))},Po.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,tu(t,Ya,n)},Po.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",co(t=tu(t,Za,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.gb=function(t,e){var n=this.a.a;return ke(e.verify()).then(function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tu(t,Ha,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tu(t,za,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tu(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yr(Lo,{PROVIDER_ID:"phone"}),Yr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,zo=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Go(t,e,n){C.call(this,t,n),(t=e||{}).Kb&&Xr(this,"email",t.Kb),t.ea&&Xr(this,"phoneNumber",t.ea),t.credential&&Xr(this,"credential",t.credential),t.$b&&Xr(this,"tenantId",t.$b)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Mo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Go(e,n,t.message)}return null}function $o(){}function Qo(){}function Xo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}T(Ko,C),T(Go,C),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Go.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,T(Qo,$o),Qo.prototype.a=function(){var t=Xo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Xo(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Qo,T(Yo,$o),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(L("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function fs(t){this.f=t}function ds(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(fs,$o),fs.prototype.a=function(){return new ds(this.f)},fs.prototype.b=function(t){return function(){return t}}({}),T(ds,wn);var ps=0;function ms(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vs(t){wn.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=bs,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ms(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):ys(this),3==this.readyState&&ms(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Va=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),T(vs,wn);var bs="";vs.prototype.b=ls("goog.net.XhrIo");var _s=/^https?$/i,ws=["POST","PUT"];function Ss(t){return"content-type"==t.toLowerCase()}function Es(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ts(t),Cs(t)}function Ts(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Is(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Os(t)&&2==xs(t))hs(t.b,As(t,"Local request error detected and ignored"));else if(t.i&&4==Os(t))In(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Os(t)){hs(t.b,As(t,"Request complete")),t.c=!1;try{var e,n=xs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!_s.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Os(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+xs(t)+"]",Ts(t)}}finally{Cs(t)}}}function Cs(t,e){if(t.a){ks(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Os(t){return t.a?t.a.readyState:0}function xs(t){try{return 2<Os(t)?t.a.status:-1}catch(e){return-1}}function As(t,e){return e+" ["+t.P+" "+t.l+" "+xs(t)+"]"}function Rs(t){var e=qs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ns(t,e,n){t.a=!0,t.c=n,t.f=!e,Ls(t)}function Ps(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Ds(t,e,n,r){t.g.push([e,n,r]),t.a&&Ls(t)}function js(t){return W(t.g,function(t){return p(t[1])})}function Ls(t){if(t.h&&t.a&&js(t)){var e=t.h,n=Vs[e];n&&(a.clearTimeout(n.a),delete Vs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,js(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Rs?(Ds(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Us(e),Vs[e.a]=e,t.h=e.a)}function Fs(){D.call(this)}function Ms(){D.call(this)}function Us(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=vs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,As(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,As(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cs(this,!0)),vs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Is(this):this.Jc())},t.Jc=function(){Is(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ms(this),Ps(this),Ns(this,!1,t))}},Rs.prototype.m=function(t,e){this.i=!1,Ns(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new _e(function(t,e){r=t,i=e});return Ds(this,r,function(t){t instanceof Ms?o.cancel():i(t)}),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,T(Fs,D),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",T(Ms,D),Ms.prototype.message="Deferred was canceled",Ms.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function Bs(t){var e={},n=e.document||document,r=Ct(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Rs(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Hs(i,!0);var t=new Gs(Ks,"Timeout reached for loading script "+r);Ps(s),Ns(s,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,e.xd||!1,u),Ps(s),Ns(s,!0,null))},i.onerror=function(){Hs(i,!0,u);var t=new Gs(zs,"Error while loading script "+r);Ps(s),Ns(s,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Ct(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function qs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var zs=0,Ks=1;function Gs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ws(t){this.f=t}function $s(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ys,this.g=mt(t.secureTokenHeaders||Zs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Js,this.a=mt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Sr(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!wr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wr()?new fs(self):Er()?new Ws(n):new Yo,this.b=null}T(Gs,D),T(Ws,$o),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Qs,Xs="idToken",Ys=new qr(3e4,6e4),Zs={"Content-Type":"application/x-www-form-urlencoded"},Js=new qr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Un(t),e=Un(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=xr();return!((t=Cr(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&se&&!(9<se))})()||wr()?t=w(t.u,t):(Qs||(Qs=new _e(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ds(t,null,e,void 0)}(Bs(kt(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,s)}$s.prototype.T=function(){return this.b},$s.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new vs(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}Sn(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),En(s,"ready",function(){u&&clearTimeout(u),Ke(this)}),En(s,"timeout",function(){u&&clearTimeout(u),Ke(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Ho),t.a.onreadystatechange=w(t.Wb,t);try{hs(t.b,As(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return hs(t.b,As(t,"Error opening Xhr: "+s.message)),void Es(t,s)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)z(t,e,void 0);else for(var n=On(t),r=kn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Ss,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!$(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ks(t),0<t.g&&(t.u=function(t){return Qt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,As(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=In(t.Ma,t.g,t)),hs(t.b,As(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,As(t,"Send error: "+s.message)),Es(t,s)}}(s,t,n,r,i)};var sa=new bt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new C("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Xs]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,mt(t));throw new C("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Qs.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},$s.prototype.Ab=function(){return tu(this,qa,{})},$s.prototype.Cb=function(t,e){return tu(this,Va,{idToken:t,email:e})},$s.prototype.Db=function(t,e){return tu(this,Ba,{idToken:t,password:e})};var fa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;la(t)}function ya(t,e){return e.returnIdpCredential=!0,tu(t,Ka,e)}function va(t,e){return e.returnIdpCredential=!0,tu(t,Wa,e)}function ba(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,Ga,e)}function _a(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=$s.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(fa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tu(this,Va,n)},t.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,ja,t)},t.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,Na,t)},t.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Pa,t)},t.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,Da,t)},t.gb=function(t){return tu(this,Xa,t)},t.ob=function(t,e){return tu(this,Ma,{oobCode:t,newPassword:e})},t.Sa=function(t){return tu(this,Sa,{oobCode:t})},t.kb=function(t){return tu(this,wa,{oobCode:t})};var wa={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},B:!0},Ea={endpoint:"signupNewUser",A:function(t){if(ua(t),!t.password)throw new C("weak-password")},G:la,V:!0,B:!0},Ta={endpoint:"createAuthUri",B:!0},Ia={endpoint:"deleteAccount",O:["idToken"]},Ca={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new C("internal-error")}},ka={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ua,G:la,V:!0,B:!0},Oa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ua,G:la,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},Aa={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},Ra={endpoint:"getAccountInfo"},Na={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");ua(t)},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");ua(t)},Z:"email",B:!0},La={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Fa={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},Ma={endpoint:"resetPassword",A:_a,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Va={endpoint:"setAccountInfo",O:["idToken"],A:ca,V:!0},Ba={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ca(t),!t.password)throw new C("weak-password")},G:la,V:!0},qa={endpoint:"signupNewUser",G:la,V:!0,B:!0},Ha={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Ka={endpoint:"verifyAssertion",A:pa,Za:ma,G:ga,V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:pa,Za:ma,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);la(t)},V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new C("internal-error")},Za:ma,G:ga,V:!0},$a={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:la,V:!0,B:!0},Qa={endpoint:"verifyPassword",A:function(t){if(ua(t),!t.password)throw new C("wrong-password")},G:la,V:!0,B:!0},Xa={endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Ya={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);la(t)}},Za={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Ja={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Xs]^!!t.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Oe(new C("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return ke(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(a,c,i[c]);return new _e(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new C("network-request-failed"))},r,u?void 0:rr(Fr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new C("internal-error");return r[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=Lr(t)),new C("internal-error",e)}function ru(t){this.b=t,this.a=null,this.sb=function(t){return(au||(au=new _e(function(t,e){function n(){Br(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:ou.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},ke(Bs(r=kt(iu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new _e(function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},su.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var iu=new bt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new qr(3e4,6e4),su=new qr(5e3,15e3),au=null;function uu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Vn((t=Un(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function fu(t){var e=lr();return function(t){return tu(t,La,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Un(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(lr())})}function du(t){return t.m||(t.m=vr().then(function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new uu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new ru(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)})}(t)})),t.m}function pu(t){return t.l||(t.C=t.c?Or(t.c,lu(t.b)):null,t.l=new $s(t.g,N(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function mu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new cu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=mt(u||null),t.f=c,t.zb(l).toString()}function gu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=w(this.c,this)}uu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},cu.prototype.zb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=Un(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Fn(t,"providerId",this.a.providerId),e=Fr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=mt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Fn(t,"customParameters",Lr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Zn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):Zn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Zn(t.b,"eid"),(a=lu(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=hu.prototype).Pb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return du(t).then(function(){return function(t,e){return t.sb.then(function(){return new _e(function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new _e(function(e){return function n(){Cn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Cn(n).then(function(){e(r)})})},t.Yb=function(){var t=xr();return!jr(t)&&!Vr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Oe(new C("popup-blocked"));if(s&&!jr())return this.ma().o(function(e){pr(t),i(e)}),r(),ke();this.a||(this.a=fu(pu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Uo(n),s||hr(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=fu(pu(this)));var i=this;return this.a.then(function(){Uo(e),hr(mu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return du(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new C("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){X(this.h,function(e){return e==t})},(t=gu.prototype).get=function(t){return ke(this.a.getItem(t)).then(function(t){return t&&Mr(t)})},t.set=function(t,e){return ke(this.a.setItem(t,Lr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vu,bu=[];function _u(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function Eu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Tu(t,c),e}).o(function(e){throw Tu(t,c),e})}function Tu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),X(t.a,function(t){return t==e})}}function Iu(){if(!xu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(z(bu,function(n){n.b==t&&(e=n)}),!e){var e=new yu(t);bu.push(e)}return e}(),_u(this.v,"keyChanged",function(e,n){return Du(t).then(function(e){return 0<e.length&&z(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}),_u(this.v,"ping",function(){return ke(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?ke().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):ke(null)}().then(function(e){(t.h=e)&&(t.g=new Su(new wu(e)),Eu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Cu(t){return new _e(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Cu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function ku(t){return t.i||(t.i=Cu(t)),t.i}function Ou(t,e){var n=0;return new _e(function r(i,o){ku(t).then(e).then(i).o(function(e){if(!(3<++n))return ku(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function xu(){try{return!!a.indexedDB}catch(Wt){return!1}}function Au(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nu(t){return new _e(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Pu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Eu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):ke()}function Du(t){return ku(t).then(function(t){var e=Au(Ru(t,!1));return e.getAll?Nu(e.getAll()):new _e(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Lu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then(function(){if(xu()){var t=Ur(),r="__sak"+t;return vu||(vu=new Iu),(n=vu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function Fu(){this.a={},this.type="inMemory"}function Mu(){if(!function(){var t="Node"==Sr();if(!(t=Uu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Sr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Uu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=a.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==Sr();if(!(t=qu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Sr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=qu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qu(){try{var t=a.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Gu,t.Node=Wu,t.ReactNative=$u,t.Worker=Qu,this.a=t[Sr()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,function(e){i.push(ke().then(function(){return e(t.origin,t.data.data)}))}),Ae(i).then(function(r){var i=[];z(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Tu(this,this.a[0]);this.b=!0},(t=Iu.prototype).set=function(t,e){var n=this,r=!1;return Ou(this,function(e){return Nu((e=Au(Ru(e,!0))).get(t))}).then(function(i){return Ou(n,function(o){if(o=Au(Ru(o,!0)),i)return i.value=e,Nu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Nu(o.add(s))})}).then(function(){return n.c[t]=e,Pu(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Ou(this,function(e){return Nu(Au(Ru(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Ou(this,function(r){return n=!0,e.b++,Nu(Au(Ru(r,!0)).delete(t))}).then(function(){return delete e.c[t],Pu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){ju(t),function e(){t.f=setTimeout(function(){t.l=Du(t).then(function(e){0<e.length&&z(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){X(this.a,function(e){return e==t}),0==this.a.length&&ju(this)},(t=Lu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){X(this.a,function(e){return e==t})},(t=Fu.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=Mu.prototype).get=function(t){var e=this;return ke().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return ke().then(function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return ke().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&fn(a.window,"storage",t)},(t=Vu.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return ke().then(function(){return Mr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return ke().then(function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return ke().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var zu,Ku,Gu={F:Mu,cb:Bu},Wu={F:Mu,cb:Bu},$u={F:gu,cb:Vu},Qu={F:Mu,cb:Vu},Xu={rd:"local",NONE:"none",td:"session"};function Yu(){var t=!(Vr(xr())||!_r()),e=jr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Hu),t=zu;try{this.g=!cr()&&Kr()||!a.indexedDB?new t.a.F:new Lu(wr()?new Fu:new t.a.F)}catch(r){this.g=new Fu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Fu}this.v=new Fu,this.f=w(this.Zb,this),this.b={}}function Zu(){return Ku||(Ku=new Yu),Ku}function Ju(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.F&&(t.b[n]=null),Ju(t,e.F).U(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Zu()}(t=Yu.prototype).get=function(t,e){return Ju(this,t.F).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=Ju(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Ju(this,"local").ca(this.f),this.h||(cr()||!Kr())&&a.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(X(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Ju(this,"local").ia(this.f),nc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ju(this,"local").ia(this.f):nc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Qt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,w(this.nb,this))},t.nb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var ic,oc={name:"authEvent",F:"local"};function sc(){this.a=Zu()}function ac(t,e){this.b=uc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=a.Int32Array?new Int32Array(mc):mc),this.reset()}T(ac,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var fc=Y(128,lc);function dc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(dc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(dc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Z(this.h)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){ac.call(this,8,yc)}T(gc,ac);var yc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new rc(this.h),this.f=null,this.b=[],this.a=this.c=null}function bc(t){return new C("invalid-cordova-configuration",t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function wc(t){return t.f||(t.f=t.ma().then(function(){return new _e(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Un(i),"firebaseError")||null))?k(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)})}var n=new Vo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Cn(500).then(function(){return Sc(t).then(function(){r||_c(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new qo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ar("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Sc(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return Bo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function Ec(t){this.a=t,this.b=Zu()}(t=vc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(br(void 0)?vr().then(function(){return new _e(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ar("universalLinks.subscribe",a))throw bc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ar("BuildInfo.packageName",a))throw bc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ar("cordova.plugins.browsertab.openUrl",a))throw bc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ar("cordova.InAppBrowser.open",a))throw bc("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})},t.Pb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),ke()},t.Nb=function(){return Oe(new C("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Oe(new C("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=ke().then(function(){return Uo(e),wc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new C("no-auth-event"),null,i),u=Ar("BuildInfo.packageName",a);if("string"!=typeof u)throw new C("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",a),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!xr().toLowerCase().match(/android/))return Oe(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new gc;pc(e,t),t=[];var n=8*e.g;pc(e,fc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(dc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=mu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(oc,s.w(),e)}).then(function(){var e=Ar("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new C("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ar("cordova.plugins.browsertab.openUrl",a)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ar("cordova.InAppBrowser.open",a)))throw new C("invalid-cordova-configuration");e=xr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new _e(function(t,e){u=function(){var e=Ar("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Hr()&&c()},o.addEventListener("resume",c=function(){s||(s=Cn(2e3).then(function(){e(new C("redirect-cancelled-by-user"))}))},!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Sc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),wc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new C("no-auth-event")),t(e))})},t.Ta=function(t){X(this.b,function(e){return e==t})};var Tc={name:"pendingRedirect",F:"session"};function Ic(t){return ec(t.b,Tc,t.a)}function Cc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Bc,this.C=new Gc,this.g=new Ec(Uc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=kc(this.D,this.v,this.m,O,this.J)}function kc(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return br()?new vc(t,e,n,s,i,o):new hu(t,e,n,s,i,o)}function Oc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function xc(t){t.a.Yb()&&Oc(t).o(function(e){var n=new Vo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)}),t.a.Ub()||qc(t.b)}function Ac(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Tc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ic(t.g).then(function(){Oc(t).o(function(e){var n=new Vo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)})}):xc(t)}).o(function(){xc(t)})}function Rc(t,e){X(t.h,function(t){return t==e})}Cc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=kc(this.D,this.v,this.m,null,this.J),this.i={}},Cc.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return qc(this.b),e};var Nc=new qr(2e3,1e4),Pc=new qr(3e4,6e4);function Dc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function jc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lc(t,e,n,r,i){var o;return function(t){return t.b.set(Tc,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(jc(e))throw new C("operation-not-supported-in-this-environment");return o=e,Ic(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new _e(function(){}):Ic(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Fc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Nc.get())}Cc.prototype.ra=function(){return this.b.ra()};var Mc={};function Uc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vc(t,e,n,r){var i=Uc(e,n,r);return Mc[i]||(Mc[i]=new Cc(t,e,n,r)),Mc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qc(t){t.g||(t.g=!0,Kc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Kc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Kc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Gc(){}function Wc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function $c(t,e){this.a=e,Xr(this,"verificationId",t)}function Qc(t,e,n,r){return new Lo(t).gb(e,n).then(function(t){return new $c(t,r)})}function Xc(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yc(t,e,n){var r=e&&e[Jc];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;z(e[Zc]||[],function(t){(t=ei(t))&&i.b.push(t)}),Xr(this,"auth",this.a),Xr(this,"session",this.c),Xr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Kc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Kc(t,a,e,null)}).o(function(e){Kc(t,a,null,e)})}(this,t,e):Oe(new C("invalid-auth-event")):(Kc(this,!1,null,null),ke())}else Oe(new C("invalid-auth-event"))},Bc.prototype.ra=function(){var t=this;return new _e(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=Cn(Pc.get()).then(function(){t.b||(t.g=!0,Kc(t,!0,null,e))})}(t))})},Gc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Oe(new C("invalid-auth-event"))}else Oe(new C("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var Zc="mfaInfo",Jc="mfaPendingCredential";function tl(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new Yc(t,e,n),Xr(this,"resolver",this.b)}function el(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Xr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Xe.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Xr(t,"enrolledFactors",e)}function ul(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Hr()||!t?ke():new _e(function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function fl(t,e){t.b=Hi(e[Xs]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function dl(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function pl(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ml(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Or(r.a.SDK_VERSION):null;this.a=new $s(this.l,N(O),i),(this.u=t.emulatorConfig||null)&&na(this.a,this.u),this.h=new ll(this.a),Tl(this,e[Xs]),fl(this.h,e),Xr(this,"refreshToken",this.h.a),kl(this,n||{}),wn.call(this),this.P=!1,this.s&&Nr()&&(this.b=Vc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){gl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){bl(o,t.f)},this.ja=null,this.S=new sl(this,n),Xr(this,"multiFactor",this.S)}function gl(t,e){t.u=e,na(t.a,e),t.b&&(e=t.b,t.b=Vc(t.s,t.l,t.m,t.u),t.P&&(Rc(e,t),Ac(t.b,t)))}function yl(t,e){t.qa&&fn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function vl(t,e){t.$&&fn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function bl(t,e){t.aa=e,ia(t.a,r.a.SDK_VERSION?Or(r.a.SDK_VERSION,t.aa):null)}function _l(t,e){t.ja&&fn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function wl(t){try{return r.a.app(t.m).auth()}catch(e){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sl(t){t.J||t.D.b||(t.D.start(),fn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function El(t){fn(t,"tokenChanged",t.ba),t.D.stop()}function Tl(t,e){t.Aa=e,Xr(t,"_lat",e)}function Il(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ae(e).then(function(){return t})}function Cl(t){t.b&&!t.P&&(t.P=!0,Ac(t.b,t))}function kl(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new dl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ol(){}function xl(t){return ke().then(function(){if(t.J)throw new C("app-deleted")})}function Al(t){return G(t.providerData,function(t){return t.providerId})}function Rl(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){X(t.providerData,function(t){return t.providerId==e})}function Pl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Xr(t,e,n)}function Dl(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Xr(t,"metadata",e.metadata?function(t){return new dl(t.a,t.b)}(e.metadata):new dl),z(e.providerData,function(e){Rl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Xr(t,"refreshToken",t.h.a),al(t.S,e.S.b))}function jl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,Ra,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Pl(t,"isAnonymous",!1),e})})}function Ll(t,e){e[Xs]&&t.Aa!=e[Xs]&&(fl(t.h,e),t.dispatchEvent(new ol("tokenChanged")),Tl(t,e[Xs]),Pl(t,"refreshToken",t.h.a))}function Fl(t,e){return jl(t).then(function(){if($(Al(t),e))return Il(t).then(function(){throw new C("provider-already-linked")})})}function Ml(t,e,n){return Zr({user:t,credential:Mo(e),additionalUserInfo:e=Qi(e),operationType:n})}function Ul(t,e){return Ll(t,e),t.reload().then(function(){return t})}function Vl(t,e,n,i,o){if(!Nr())return Oe(new C("operation-not-supported-in-this-environment"));if(t.i&&!o)return Oe(t.i);var s=$i(n.providerId),a=Ur(t.uid+":::"),u=null;(!jr()||_r())&&t.s&&n.isOAuthProvider&&(u=mu(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=mr(u,s&&s.va,s&&s.ua);return i=i().then(function(){if(ql(t),!o)return t.I().then(function(){})}).then(function(){return Dc(t.b,c,e,n,a,!!u,t.tenantId)}).then(function(){return new _e(function(n,r){t.na(e,null,new C("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Fc(t.b,t,e,c,a)})}).then(function(t){return c&&pr(c),t?Zr(t):null}).o(function(t){throw c&&pr(c),t}),Hl(t,i,o)}function Bl(t,e,n,r,i){if(!Nr())return Oe(new C("operation-not-supported-in-this-environment"));if(t.i&&!i)return Oe(t.i);var o=null,s=Ur(t.uid+":::");return r=r().then(function(){if(ql(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,Il(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Gl,t.w(),e.a)),e}).then(function(){return Lc(t.b,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Wl(t.ha);throw o}).then(function(){if(o)throw o}),Hl(t,r,i)}function ql(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Hl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Oe(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ol("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){Q(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),wl(t),w(t.jc,t))),n||e})}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Xs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ml(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&Rl(i,Zr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Kl(t){this.a=t,this.b=Zu()}Yc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=mt(e.f);return delete n[Zc],delete n[Jc],yt(n,t),e.g(n)})},T(tl,C),nl.prototype.tb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:jo(t.a)}),tu(e,xa,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),tu(e,Aa,n)})}(this,t,e)},T(rl,nl),T(il,rl),T(ol,Xe),(t=sl.prototype).yc=function(t){al(this,function(t){var e=[];return z(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Ll(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tu(r,Ja,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=K(e.b,function(t){return t.uid!=n});return al(e,r),Ll(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new C("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nu(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))},"POST",Yn(e).toString(),t.g,t.m.get()):r(new C("internal-error"))})}(t.f,e).then(function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(ml,wn),ml.prototype.xa=function(t){this.za=t,ea(this.a,t)},ml.prototype.la=function(){return this.za},ml.prototype.Ga=function(){return Z(this.aa)},ml.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Xr(ml.prototype,"providerId","firebase"),(t=ml.prototype).reload=function(){var t=this;return Hl(this,xl(this).then(function(){return jl(t).then(function(){return Il(t)}).then(Ol)}))},t.oc=function(t){return this.I(t).then(function(t){return new Xc(t)})},t.I=function(t){var e=this;return Hl(this,xl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.Aa&&(Tl(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Pl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");kl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Rl(this,e[n]);Pl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Hl(this,t.c(this.a,this.uid).then(function(t){return Ll(e,t),n=Ml(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Hl(this,Fl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ml(e,t,"link"),Ul(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Hl(this,Fl(this,"phone").then(function(){return Qc(wl(n),t,e,w(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Hl(this,ke().then(function(){return Qc(wl(n),t,e,w(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.ed=function(t){var e=this;return Hl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ll(e,t),e.reload()}))},t.Db=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return xl(this);var e=this;return Hl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ll(e,t),Pl(e,"displayName",t.displayName||null),Pl(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(Xr(t,"displayName",e.displayName),Xr(t,"photoURL",e.photoURL))}),Il(e)}).then(Ol))},t.cd=function(t){var e=this;return Hl(this,jl(this).then(function(n){return $(Al(e),t)?function(t,e,n){return tu(t,Ca,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(Al(e),function(t){n[t]||Nl(e,t)}),n[Lo.PROVIDER_ID]||Xr(e,"phoneNumber",null),Il(e)}):Il(e).then(function(){throw new C("no-such-provider")})}))},t.delete=function(){var t=this;return Hl(this,this.I().then(function(e){return tu(t.a,Ia,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");yl(t,null),vl(t,null),_l(t,null),t.N=[],t.J=!0,El(t),Xr(t,"refreshToken",null),t.b&&Rc(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Mb,this):null},t.Ec=function(t){var e=this;return Vl(this,"linkViaPopup",t,function(){return Fl(e,t.providerId).then(function(){return Il(e)})},!1)},t.Nc=function(t){return Vl(this,"reauthViaPopup",t,function(){return ke()},!0)},t.Fc=function(t){var e=this;return Bl(this,"linkViaRedirect",t,function(){return Fl(e,t.providerId)},!1)},t.Oc=function(t){return Bl(this,"reauthViaRedirect",t,function(){return ke()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,this.I().then(function(n){return va(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ml(i,t,"link"),Ul(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,ke().then(function(){return co(ba(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ml(i,t,"reauthenticate"),Ll(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Hl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Vi(new Ai(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return Hl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Vi(new Ai(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Hl(this,t=co(ke(t),n.uid).then(function(t){return e=Ml(n,t,"reauthenticate"),Ll(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.S.w()),t};var Gl={name:"redirectUser",F:"session"};function Wl(t){return ec(t.b,Gl,t.a)}function $l(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=Yl("local"),n=Yl("session"),r=Yl("none");return function(t,e,n){var r=tc(e,n),i=Ju(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Xl,t.a).then(function(t){return t?Yl(t):e})})})}).then(function(e){return t.c=e,Ql(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Yl("local"),this.a,w(this.g,this))}function Ql(t,e){var n,r=[];for(n in Xu)Xu[n]!==e&&r.push(ec(t.b,Yl(Xu[n]),t.a));return r.push(ec(t.b,Xl,t.a)),function(t){return new _e(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)xe(t[a],S(o,a),s);else e(i)})}(r)}$l.prototype.g=function(){var t=this,e=Yl("local");eh(this,function(){return ke().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Ql(t,"local").then(function(){t.c=e})})})};var Xl={name:"persistence",F:"session"};function Yl(t){return{name:"authUser",F:t}}function Zl(t,e){return eh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Jl(t){return eh(t,function(){return ec(t.b,t.c,t.a)})}function th(t,e,n){return eh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})})})}function eh(t,e){return t.f=t.f.then(e,e),t.f}function nh(t){if(this.l=!1,Xr(this,"settings",new Wc),Xr(this,"app",t),!lh(this).options||!lh(this).options.apiKey)throw new C("invalid-api-key");t=r.a.SDK_VERSION?Or(r.a.SDK_VERSION):null,this.a=new $s(lh(this).options&&lh(this).options.apiKey,N(O),t),this.P=[],this.s=[],this.N=[],this.Pa=r.a.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=r.a.INTERNAL.createSubscribe(w(this.Ac,this)),uh(this,null),this.i=new $l(lh(this).options.apiKey+":"+lh(this).name),this.D=new Kl(lh(this).options.apiKey+":"+lh(this).name),this.$=ph(this,function(t){var e=lh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Gl,t.a).then(function(t){return t&&e&&(t.authDomain=e),zl(t||{})})}(t.D,lh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Wl(t.D)});return ph(t,e)}(t).then(function(){return th(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Zl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Jl(t.i)})):null}).then(function(e){uh(t,e||null)});return ph(t,n)}(this)),this.h=ph(this,function(t){return t.$.then(function(){return ah(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Yl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=lh(t).options.authDomain,n=lh(t).options.apiKey;e&&Nr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Vc(e,n,lh(t).name,t.R),Ac(t.b,t),hh(t)&&Cl(hh(t)),t.m){Cl(t.m);var r=t.m;r.xa(t.la()),yl(r,t),bl(r=t.m,t.J),_l(r,t),gl(r=t.m,t.R),vl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Un(this.R.url);t=Zr({protocol:t.c,host:t.a,port:t.g,options:Zr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function rh(t){Xe.call(this,"languageCodeChanged"),this.h=t}function ih(t){Xe.call(this,"emulatorConfigChanged"),this.c=t}function oh(t){Xe.call(this,"frameworkChanged"),this.f=t}function sh(t){return t.Oa||Oe(new C("auth-domain-config-required"))}function ah(t){if(!Nr())return Oe(new C("operation-not-supported-in-this-environment"));var e=sh(t).then(function(){return t.b.ra()}).then(function(t){return t?Zr(t):null});return ph(t,e)}function uh(t,e){hh(t)&&(function(t,e){X(t.W,function(t){return t==e})}(hh(t),t.Ba),fn(hh(t),"tokenChanged",t.qa),fn(hh(t),"userDeleted",t.za),fn(hh(t),"userInvalidated",t.Aa),El(hh(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&Sl(e)),Xr(t,"currentUser",e),e&&(e.xa(t.la()),yl(e,t),bl(e,t.J),_l(e,t),gl(e,t.R),vl(e,t))}function ch(t,e){var n=null,r=null;return ph(t,e.then(function(e){return n=Mo(e),r=Qi(e),function(t,e){var n={};return n.apiKey=lh(t).options.apiKey,n.authDomain=lh(t).options.authDomain,n.appName=lh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new ml(t,e);return n&&(i.ha=n),r&&bl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return hh(t)&&e.uid==hh(t).uid?(Dl(hh(t),e),t.da(e)):(uh(t,e),Cl(e),t.da(e))}).then(function(){dh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Zr({user:hh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function lh(t){return t.app}function hh(t){return t.currentUser}function fh(t){return hh(t)&&hh(t)._lat||null}function dh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](fh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](fh(t))}}function ph(t,e){return t.P.push(e),e.oa(function(){Q(t.P,e)}),e}function mh(){}function gh(){this.a={},this.b=1e12}$l.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in Xu)if(Xu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Sr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),eh(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Ql(n,t)}).then(function(){if(n.c=Yl(t),e)return n.b.set(n.c,e,n.a)}):ke()})},T(nh,wn),T(rh,Xe),T(ih,Xe),T(oh,Xe),(t=nh.prototype).yb=function(t){return ph(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new rh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&vr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,na(this.a,this.R),this.dispatchEvent(new ih(this.R))}},t.Gc=function(t){this.J.push(t),ia(this.a,r.a.SDK_VERSION?Or(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new oh(this.J))},t.Ga=function(){return Z(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:lh(this).options.apiKey,authDomain:lh(this).options.authDomain,appName:lh(this).name,currentUser:hh(this)&&hh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ch(i,ya(i.a,o))})},t.Xc=function(t){if(!Nr())return Oe(new C("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),i=Ur(),o=null;(!jr()||_r())&&lh(this).options.authDomain&&t.isOAuthProvider&&(o=mu(lh(this).options.authDomain,lh(this).options.apiKey,lh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.R));var s=mr(o,n&&n.va,n&&n.ua);return ph(this,n=sh(this).then(function(n){return Dc(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new _e(function(t,n){e.na("signInViaPopup",null,new C("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Fc(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Zr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Yc=function(t){if(!Nr())return Oe(new C("operation-not-supported-in-this-environment"));var e=this;return ph(this,sh(this).then(function(){return function(t){return eh(t,function(){return t.b.set(Xl,t.c.F,t.a)})}(e.i)}).then(function(){return Lc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return ah(this).then(function(e){return t.b&&Hc(t.b.b),e}).o(function(e){throw t.b&&Hc(t.b.b),e})},t.dd=function(t){if(!t)return Oe(new C("null-user"));if(this.S!=t.tenantId)return Oe(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=lh(this).options.apiKey,n.authDomain=lh(this).options.authDomain,n.appName=lh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Xs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ml(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&bl(e,r),Dl(e,t),e}(t,n,e.D,e.Ga());return ph(this,this.h.then(function(){if(lh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return hh(e)&&t.uid==hh(e).uid?(Dl(hh(e),t),e.da(t)):(uh(e,r),Cl(r),e.da(r))}).then(function(){dh(e)}))},t.Bb=function(){var t=this;return ph(this,this.h.then(function(){return t.b&&Hc(t.b.b),hh(t)?(uh(t,null),Jl(t.i).then(function(){dh(t)})):ke()}))},t.Zc=function(){var t=this;return th(this.i,lh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=hh(t)&&e){n=hh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Dl(hh(t),e),hh(t).I();(hh(t)||e)&&(uh(t,e),e&&(Cl(e),e.ha=t.D),t.b&&Ac(t.b,t),dh(t))}})},t.da=function(t){return Zl(this.i,t)},t.mc=function(){dh(this),this.da(hh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return ch(e,ke(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(hh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ph(t,t.h.then(function(){!t.l&&$(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(fh(t)))}))}(this,function(){t.next(hh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return ph(this,this.h.then(function(){return hh(e)?hh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ch(e,tu(e.a,$a,{token:t}))}).then(function(t){var n=t.user;return Pl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,Qa,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,Ea,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return ch(e,t.ka(e.a))})},t.Sc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=hh(t);if(e&&e.isAnonymous){var n=Zr({providerId:null,isNewUser:!1});return Zr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.Ab()).then(function(e){var n=e.user;return Pl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return hh(this)&&hh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&hh(this)&&Sl(hh(this))},t.Pc=function(t){var e=this;z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&hh(this)&&El(hh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ph(this,this.h.then(function(){e.l||$(e.s,t)&&t(fh(e))}))},t.removeAuthTokenListener=function(t){X(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Yl("local"),t.a,this.ja),this.b&&(Rc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return ph(this,function(t,e){return tu(t,Ta,{identifier:e,continueUri:Pr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!No(t)},t.xb=function(t,e){var n=this;return ph(this,ke().then(function(){var t=new Ai(e);if(!t.c)throw new C("argument-error",Pi+" must be true when sending sign in link to email");return Vi(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return ph(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return ph(this,this.a.Sa(t).then(function(t){return new ai(t)}))},t.kb=function(t){return ph(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return ph(this,ke().then(function(){return void 0===e||pt(e)?{}:Vi(new Ai(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return ph(this,Qc(this,t,e,w(this.ab,this)))},t.Vc=function(t,e){var n=this;return ph(this,ke().then(function(){var r=e||lr(),i=Ro(t,r);if(!(r=No(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.ab(i)}))},mh.prototype.render=function(){},mh.prototype.reset=function(){},mh.prototype.getResponse=function(){},mh.prototype.execute=function(){};var yh=null;function vh(t,e){return(e=bh(e))&&t.a[e]||null}function bh(t){return(t=void 0===t?1e12:t)?t.toString():null}function _h(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sh(){}function Eh(){}gh.prototype.render=function(t,e){return this.a[this.b.toString()]=new _h(t,e),this.b++},gh.prototype.reset=function(t){var e=vh(this,t);t=bh(t),e&&t&&(e.delete(),delete this.a[t])},gh.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},gh.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},_h.prototype.getResponse=function(){return wh(this),this.b},_h.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},_h.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Xr(Sh,"FACTOR_ID","phone"),Eh.prototype.g=function(){return yh||(yh=new gh),ke(yh)},Eh.prototype.c=function(){};var Th=null;function Ih(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ch=new bt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),kh=new qr(3e4,6e4);Ih.prototype.g=function(t){var e=this;return new _e(function(n,r){var i=setTimeout(function(){r(new C("network-request-failed"))},kh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete a[e.a]},ke(Bs(kt(Ch,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Ih.prototype.c=function(){this.b--};var Oh=null;function xh(t,e,n,r,i,o,s){if(Xr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(Th||(Th=new Eh),s=Th):(Oh||(Oh=new Ih),s=Oh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ph],!a.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ah];this.a[Ah]=function(t){if(Dh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ar(c,a);"function"==typeof e&&e(t)}};var l=this.a[Rh];this.a[Rh]=function(){if(Dh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ar(l,a);"function"==typeof t&&t()}}}var Ah="callback",Rh="expired-callback",Nh="sitekey",Ph="size";function Dh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function jh(t,e){return t.h.push(e),e.oa(function(){Q(t.h,e)}),e}function Lh(t){if(t.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Or(r.a.SDK_VERSION,s):null,xh.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,N(O),i)}function Mh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Uh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Uh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=xh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=jh(this,ke().then(function(){if(Pr()&&!wr())return vr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Fa,{})}).then(function(e){t.a[Nh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Lh(this);var t=this;return jh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};yt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Lh(this);var t=this;return jh(this,this.render().then(function(e){return new _e(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){X(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Lh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Lh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Fh,xh);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Vh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Bh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function Hh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Kh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Gh(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Wh(t){return m(t)&&"string"==typeof t.uid}function $h(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Qh(t,e){for(var n in e){var r=e[n].name;t[r]=Zh(r,t[n],e[n].j)}}function Xh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:S(function(t){return this[t]},n),set:S(function(t,e,n,r){Mh(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function Yh(t,e,n,r){t[e]=Zh(e,n,r)}function Zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Mh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Qh(nh.prototype,{kb:{name:"applyActionCode",j:[Vh("code")]},Sa:{name:"checkActionCode",j:[Vh("code")]},ob:{name:"confirmPasswordReset",j:[Vh("code"),Vh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Vh("email"),Vh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Vh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Vh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(qh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(qh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Vh("email"),$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Vh("email"),qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Vh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Kh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Kh()]},Tc:{name:"signInWithCustomToken",j:[Vh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Vh("email"),Vh("password")]},Vc:{name:"signInWithEmailLink",j:[Vh("email"),Vh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof ml)}},zh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Vh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Vh("code")]}}),Xh(nh.prototype,{lc:{name:"languageCode",lb:$h(Vh(),zh(),"languageCode")},ti:{name:"tenantId",lb:$h(Vh(),zh(),"tenantId")}}),(nh.Persistence=Xu).LOCAL="local",nh.Persistence.SESSION="session",nh.Persistence.NONE="none",Qh(ml.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Bh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Kh()]},rb:{name:"linkWithCredential",j:[Kh()]},Dc:{name:"linkWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Kh()]},ub:{name:"reauthenticateWithCredential",j:[Kh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Vh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Vh(null,!0)]},cd:{name:"unlink",j:[Vh("provider")]},Cb:{name:"updateEmail",j:[Vh("email")]},Db:{name:"updatePassword",j:[Vh("password")]},ed:{name:"updatePhoneNumber",j:[Kh("phone")]},Eb:{name:"updateProfile",j:[qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Vh("email"),$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xh(Wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Bh("appVerificationDisabledForTesting")}}),Qh($c.prototype,{confirm:{name:"confirm",j:[Vh("verificationCode")]}}),Yh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,xo,Do,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[$h(Vh(),qh(),"json")]),Yh(Ao,"credential",function(t,e){return new Oo(t,e)},[Vh("email"),Vh("password")]),Qh(Oo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(_o.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(_o,"credential",wo,[$h(Vh(),qh(),"token")]),Yh(Ao,"credentialWithLink",Ro,[Vh("email"),Vh("emailLink")]),Qh(So.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(So,"credential",Eo,[$h(Vh(),qh(),"token")]),Qh(To.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(To,"credential",Io,[$h(Vh(),$h(qh(),zh()),"idToken"),$h(Vh(),zh(),"accessToken",!0)]),Qh(Co.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(Co,"credential",ko,[$h(Vh(),qh(),"token"),Vh("secret",!0)]),Qh(bo.prototype,{Ca:{name:"addScope",j:[Vh("scope")]},credential:{name:"credential",j:[$h(Vh(),$h(qh(),zh()),"optionsOrIdToken"),$h(Vh(),zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(po.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(lo.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Yh(Lo,"credential",Fo,[Vh("verificationId"),Vh("verificationCode")]),Qh(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[$h(Vh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Gh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Gh(t.session,ao)&&Wh(t.multiFactorHint):t.session&&t.multiFactorUid?Gh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Qh(Po.prototype,{w:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(C.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(Go.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(Ko.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(tl.prototype,{toJSON:{name:"toJSON",j:[Vh(null,!0)]}}),Qh(Yc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Qh(sl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Vh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Wh},Vh(),"multiFactorInfoIdentifier")]}}),Qh(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yh(wi,"parseLink",xi,[Vh("link")]),Yh(Sh,"assertion",function(t){return new il(t)},[Kh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:nh,AuthCredential:uo,Error:C};Yh(t,"EmailAuthProvider",Ao,[]),Yh(t,"FacebookAuthProvider",_o,[]),Yh(t,"GithubAuthProvider",So,[]),Yh(t,"GoogleAuthProvider",To,[]),Yh(t,"TwitterAuthProvider",Co,[]),Yh(t,"OAuthProvider",bo,[Vh("providerId")]),Yh(t,"SAMLAuthProvider",vo,[Vh("providerId")]),Yh(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof nh)}}]),Yh(t,"RecaptchaVerifier",Fh,[$h(Vh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Yh(t,"ActionCodeURL",wi,[]),Yh(t,"PhoneMultiFactorGenerator",Sh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new nh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.8"),r.a.INTERNAL.extendNamespace({User:ml})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},Jgta:function(t,e,n){"use strict";n.r(e);var r=n("zIRd");n.d(e,"default",function(){return r.a});var i="8.10.1";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},WI49:function(t,e,n){"use strict";n.r(e);var r=n("zIRd"),i=n("mrSG"),o=n("qOnz"),s=n("/6Yf"),a="firebasestorage.googleapis.com",u=function(t){function e(n,r){var i=t.call(this,c(n),"Firebase Storage: "+r+" ("+c(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(i.c)(e,t),e.prototype._codeEquals=function(t){return c(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(o.c);function c(t){return"storage/"+t}function l(){return new u("unknown","An unknown error occurred, please check the error payload for server response.")}function h(){return new u("canceled","User canceled the upload/download.")}function f(){return new u("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function d(t){return new u("invalid-argument",t)}function p(){return new u("app-deleted","The Firebase app was deleted.")}function m(t){return new u("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function g(t,e){return new u("invalid-format","String does not match format '"+t+"': "+e)}function y(t){throw new u("internal-error","Internal error: "+t)}var v={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},b=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function _(t,e){switch(t){case v.RAW:return new b(w(e));case v.BASE64:case v.BASE64URL:return new b(S(t,e));case v.DATA_URL:return new b((n=new E(e)).base64?S(v.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw g(v.DATA_URL,"Malformed data URL.")}return w(e)}(n.rest),new E(e).contentType)}var n;throw l()}function w(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function S(t,e){switch(t){case v.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw g(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case v.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw g(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw g(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var E=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw g(v.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),T={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function I(t){switch(t){case"running":case"pausing":case"canceling":return T.RUNNING;case"paused":return T.PAUSED;case"success":return T.SUCCESS;case"canceled":return T.CANCELED;case"error":default:return T.ERROR}}var C=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),k=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=C.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=C.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=C.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw y("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw y("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),O=function(){function t(){}return t.prototype.createConnection=function(){return new k},t}(),x=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new u("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var c=n.replace(/[.]/g,"\\."),l=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+c+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===a?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],h=0;h<l.length;h++){var f=l[h],d=f.regex.exec(e);if(d){var p=d[f.indices.path];p||(p=""),r=new t(d[f.indices.bucket],p),f.postModify(r);break}}if(null==r)throw function(t){return new u("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),A=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function R(t){return"string"==typeof t||t instanceof String}function N(t){return P()&&t instanceof Blob}function P(){return"undefined"!=typeof Blob}function D(t,e,n,r){if(r<e)throw d("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw d("Invalid value for '"+t+"'. Expected "+n+" or less.")}function j(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function L(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var F=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(c){o(c)}else null!==s?((r=l()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?p():h():new u("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new M(!1,null,!0)):this.backoffId_=function(e,n,r){var o=1,s=null,a=!1,u=0;function c(){return 2===u}var l=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function f(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new M(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===C.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new M(s,r))}else{var a=r.getErrorCode()===C.ABORT;e(!1,new M(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)h.call.apply(h,Object(i.f)([null,t],e));else{var r;c()||a?h.call.apply(h,Object(i.f)([null,t],e)):(o<64&&(o*=2),1===u?(u=2,r=0):r=1e3*(o+Math.random()),f(r))}}var p=!1;function m(t){p||(p=!0,l||(null!==s?(t||(u=2),clearTimeout(s),f(0)):t||(u=1)))}return f(0),setTimeout(function(){a=!0,m(!0)},r),m}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),M=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function U(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function V(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=U();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(P())return new Blob(t);throw new u("unsupported-environment","This browser doesn't seem to support creating Blobs")}var B=function(){function t(t,e){var n=0,r="";N(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(N(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(P()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(V.apply(null,r))}var i=e.map(function(t){return R(t)?_(v.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function q(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function H(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function z(t,e){return e}var K=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||z}}(),G=null;function W(){if(G)return G;var t=[];t.push(new K("bucket")),t.push(new K("generation")),t.push(new K("metageneration")),t.push(new K("name","fullPath",!0));var e=new K("name");e.xform=function(t,e){return function(t){return!R(t)||t.length<2?t:H(t)}(e)},t.push(e);var n=new K("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new K("timeCreated")),t.push(new K("updated")),t.push(new K("md5Hash",null,!0)),t.push(new K("cacheControl",null,!0)),t.push(new K("contentDisposition",null,!0)),t.push(new K("contentEncoding",null,!0)),t.push(new K("contentLanguage",null,!0)),t.push(new K("contentType",null,!0)),t.push(new K("metadata","customMetadata",!0)),G=t}function $(t,e,n){var r=q(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new x(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Q(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var X=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Y(t){if(!t)throw l()}function Z(t,e){return function(n,r){var i=$(t,r,e);return Y(null!==i),i}}function J(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new u("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new u("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new u("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new u("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function tt(t){var e=J(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new u("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function et(t,e,n){var r=j(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new X(r,"GET",Z(t,n),i);return o.errorHandler=tt(e),o}function nt(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var rt=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function it(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Y(!1)}return Y(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ot=262144,st=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function at(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var ut=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=W(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=nt(e,r,i),a={name:s.fullPath},u=j(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Q(s,n),h=new X(u,"POST",function(t){var e;it(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Y(!1)}return Y(R(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=J(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new X(n,"POST",function(t){var e=it(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Y(!1)}n||Y(!1);var i=Number(n);return Y(!isNaN(i)),new rt(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=J(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=ot*this._chunkMultiplier,n=new rt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var c=new rt(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new u("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,h=l;i>0&&(h=Math.min(h,i));var d=c.current,p={"X-Goog-Upload-Command":h===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},m=r.slice(d,d+h);if(null===m)throw f();var g=new X(n,"POST",function(t,n){var i,s=it(t,["active","final"]),a=c.current+h,u=r.size();return i="final"===s?Z(e,o)(t,n):null,new rt(a,u,"final"===s,i)},e.maxUploadRetryTime);return g.headers=p,g.body=m.uploadData(),g.progressCallback=a||null,g.errorHandler=J(t),g}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(c){return t._error=c,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){ot*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=et(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=nt(e,r,i),c=Q(u,n),l=B.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw f();var h={name:u.fullPath},d=j(o,t.host),p=t.maxUploadRetryTime,m=new X(d,"POST",Z(t,n),p);return m.urlParams=h,m.headers=s,m.body=l.uploadData(),m.errorHandler=J(e),m}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=h(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=I(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new st(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(I(this._state)){case T.SUCCESS:at(this._resolve.bind(null,this.snapshot))();break;case T.CANCELED:case T.ERROR:at(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(I(this._state)){case T.RUNNING:case T.PAUSED:t.next&&at(t.next.bind(t,this.snapshot))();break;case T.SUCCESS:t.complete&&at(t.complete.bind(t))();break;case T.CANCELED:case T.ERROR:t.error&&at(t.error.bind(t,this._error))();break;default:t.error&&at(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ct=function(){function t(t,e){this._service=t,this._location=e instanceof x?e:x.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new x(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return H(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new x(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw m(t)},t}();function lt(t){var e={prefixes:[],items:[]};return ht(t,e).then(function(){return e})}function ht(t,e,n){return Object(i.b)(this,void 0,void 0,function(){var r,o,s;return Object(i.d)(this,function(i){switch(i.label){case 0:return[4,ft(t,{pageToken:n})];case 1:return r=i.sent(),(o=e.prefixes).push.apply(o,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,ht(t,e,r.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ft(t,e){return Object(i.b)(this,void 0,void 0,function(){var n,r;return Object(i.d)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&D("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=j(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new X(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=q(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new x(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new x(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Y(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=J(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function dt(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new x(t._location.bucket,n);return new ct(t.storage,r)}function pt(t){return/^[A-Za-z]+:\/\//.test(t)}function mt(t,e){if(t instanceof vt){var n=t;if(null==n._bucket)throw new u("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new ct(n,n._bucket);return null!=e?mt(r,e):r}return void 0!==e?dt(t,e):t}function gt(t,e){if(e&&pt(e)){if(t instanceof vt)return new ct(t,e);throw d("To use ref(service, url), the first argument must be a Storage instance.")}return mt(t,e)}function yt(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:x.makeFromBucketSpec(n,t)}var vt=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=a,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?x.makeFromBucketSpec(i,this._host):yt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?x.makeFromBucketSpec(this._url,t):yt(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){D("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){D("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(i.b)(this,void 0,void 0,function(){var t,e;return Object(i.d)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.d)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new ct(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new A(p());var i=function(t,e,n,r,i,o){var s=L(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new F(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function bt(t,e){return gt(t=Object(o.i)(t),e)}var _t,wt,St=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Et=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new St(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new St(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new St(t,i,i._ref))}:{next:e.next?function(t){return e.next(new St(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Tt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new It(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new It(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),It=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return dt(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Et(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new ut(t,new B(e),n)}(t=Object(o.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=v.RAW),this._throwIfRoot("putString");var r=_(e,t),o=Object(i.a)({},n);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new Et(new ut(this._delegate,new B(r.data,!0),o),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,lt(t=Object(o.i)(t))).then(function(t){return new Tt(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return ft(t=Object(o.i)(t),e)}(this._delegate,t||void 0).then(function(t){return new Tt(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=et(t.storage,t._location,W()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(o.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(i.b)(this,void 0,void 0,function(){var n;return Object(i.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=j(e.fullServerUrl(),t.host),o=Q(n,r),s=t.maxOperationRetryTime,a=new X(i,"PATCH",Z(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=tt(e),a}(t.storage,t._location,e,W()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=Object(o.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=j(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new X(r,"GET",function(t,e){return function(n,r){var i=$(t,r,e);return Y(null!==i),function(t,e,n){var r=q(e);if(null===r)return null;if(!R(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return j("/b/"+o(t.bucket)+"/o/"+o(r),n)+L({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=tt(e),o}(t.storage,t._location,W()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new u("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(o.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(i.b)(this,void 0,void 0,function(){var e;return Object(i.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=j(e.fullServerUrl(),t.host),r=new X(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=tt(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object(o.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw m(t)},t}(),Ct=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(pt(t))throw d("ref() expected a child path but got a URL, use refFromURL instead.");return new It(bt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!pt(t))throw d("refFromURL() expected a full URL but got a child path, use ref() instead.");try{x.makeFromUrl(t,this._delegate.host)}catch(e){throw d("refFromUrl() expected a valid full URL but got an invalid one.")}return new It(bt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:Object(o.e)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,t,e,n)},t}();wt={TaskState:T,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:v,Storage:vt,Reference:It},(_t=r.a).INTERNAL.registerComponent(new s.a("storage",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ct(i,new vt(i,o,s,new O,n,r.a.SDK_VERSION))},"PUBLIC").setServiceProps(wt).setMultipleInstances(!0)),_t.registerVersion("@firebase/storage","0.7.1")},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return I}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return x}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return m}),n.d(e,"m",function(){return y}),n.d(e,"n",function(){return v}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return d}),n.d(e,"q",function(){return g}),n.d(e,"r",function(){return _}),n.d(e,"s",function(){return b});var r=n("mrSG"),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){var e=i(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function _(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?E(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new w(i,a,r);return u},t}();function E(t,e){return t.replace(T,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var T=/\{\$([^}]+)}/g;function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}function x(t){return t&&t._delegate?t._delegate:t}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.h)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.h)(e,t)},createSubscribe:s.f,ErrorFactory:s.b,deepExtend:s.h}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.p)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){e=a instanceof l?f(a.errors):[a]}}if(u(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof l?e=e.concat(f(a.errors)):e.push(a)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends p{constructor(t){super(t),this.destination=t}}let E=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new S(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends E{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}function C(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new k(t,e))}}class k{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new O(t,this.project,this.thisArg))}}class O extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const x=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=A(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return x(t);if(P(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[R])return e=t,t=>{const n=e[R]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function j(t,e){return new v(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function L(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(P(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return j(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[R](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(D(t))}class F extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class M extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function U(t,e){if(e.closed)return;if(t instanceof v)return t.subscribe(e);let n;try{n=D(t)(e)}catch(r){e.error(r)}return n}function V(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(V((n,r)=>L(t(n,r)).pipe(C((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new B(t,n)))}class B{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new q(t,this.project,this.concurrent))}}class q extends M{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new F(this),n=this.destination;n.add(e);const r=U(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return V(y,t)}function z(t,e){return e?j(t,e):new v(x(t))}function K(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return I(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:H(e)(z(t,n))}function G(){return function(t){return t.lift(new W(t))}}class W{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new $(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class $ extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Q extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Y(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const X=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Y extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Z(){return new E}function J(){return t=>{return G()((e=Z,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,X);return r.source=t,r.subjectFactory=n,r})(t));var e}}function tt(t){for(let e in t)if(t[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function et(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(nt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function rt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const it=tt({__forward_ref__:tt});function ot(t){return t.__forward_ref__=ot,t.toString=function(){return nt(this())},t}function st(t){return at(t)?t():t}function at(t){return"function"==typeof t&&t.hasOwnProperty(it)&&t.__forward_ref__===ot}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function lt(t){return ht(t,dt)||ht(t,mt)}function ht(t,e){return t.hasOwnProperty(e)?t[e]:null}function ft(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(gt))?t[pt]:null}const dt=tt({"\u0275prov":tt}),pt=tt({"\u0275inj":tt}),mt=tt({ngInjectableDef:tt}),gt=tt({ngInjectorDef:tt});var yt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let vt;function bt(t){const e=vt;return vt=t,e}function _t(t,e,n){const r=lt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&yt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${nt(t)}]`)}function wt(t){return{toString:t}.toString()}var St=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Tt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Ct="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global,Ot=Tt||kt||It||Ct,xt={},At=[],Rt=tt({"\u0275cmp":tt}),Nt=tt({"\u0275dir":tt}),Pt=tt({"\u0275pipe":tt}),Dt=tt({"\u0275mod":tt}),jt=tt({"\u0275loc":tt}),Lt=tt({"\u0275fac":tt}),Ft=tt({__NG_ELEMENT_ID__:tt});let Mt=0;function Ut(t){return wt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||At,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Mt++,n.inputs=zt(t.inputs,e),n.outputs=zt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Vt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Bt):null,n})}function Vt(t){return Gt(t)||function(t){return t[Nt]||null}(t)}function Bt(t){return function(t){return t[Pt]||null}(t)}const qt={};function Ht(t){const e={type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&wt(()=>{qt[t.id]=t.type}),e}function zt(t,e){if(null==t)return xt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Kt=Ut;function Gt(t){return t[Rt]||null}function Wt(t,e){const n=t[Dt]||null;if(!n&&!0===e)throw new Error(`Type ${nt(t)} does not have '\u0275mod' property.`);return n}const $t=20,Qt=10;function Xt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yt(t){return Array.isArray(t)&&!0===t[1]}function Zt(t){return 0!=(8&t.flags)}function Jt(t){return 2==(2&t.flags)}function te(t){return 1==(1&t.flags)}function ee(t){return null!==t.template}function ne(t,e){return t.hasOwnProperty(Lt)?t[Lt]:null}class re extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ie(t){return"string"==typeof t?t:null==t?"":String(t)}function oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ie(t)}function se(t,e){const n=e?" in "+e:"";throw new re("201",`No provider for ${oe(t)} found${n}`)}class ae{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ue(){const t=le(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===xt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ce(t,e,n,r){const i=le(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:xt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ae(u&&u.currentValue,e,s===xt),t[r]=e}function le(t){return t.__ngSimpleChanges__||null}let he=void 0;function fe(t){return!!t.listen}const de={createRenderer:(t,e)=>void 0!==he?he:"undefined"!=typeof document?document:void 0};function pe(t){for(;Array.isArray(t);)t=t[0];return t}function me(t,e){return pe(e[t])}function ge(t,e){return pe(e[t.index])}function ye(t,e){return t.data[e]}function ve(t,e){const n=e[t];return Xt(n)?n:n[0]}function be(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function _e(t){return 4==(4&t[2])}function we(t){return 128==(128&t[2])}function Se(t,e){return null==e?null:t[e]}function Ee(t){t[18]=0}function Te(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ie={lFrame:$e(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ce(){return Ie.bindingsEnabled}function ke(){return Ie.lFrame.lView}function Oe(){return Ie.lFrame.tView}function xe(t){Ie.lFrame.contextLView=t}function Ae(){let t=Re();for(;null!==t&&64===t.type;)t=t.parent;return t}function Re(){return Ie.lFrame.currentTNode}function Ne(t,e){const n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function Pe(){return Ie.lFrame.isParent}function De(){Ie.lFrame.isParent=!1}function je(){return Ie.isInCheckNoChangesMode}function Le(t){Ie.isInCheckNoChangesMode=t}function Fe(){const t=Ie.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Me(){return Ie.lFrame.bindingIndex++}function Ue(t,e){const n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ve(e)}function Ve(t){Ie.lFrame.currentDirectiveIndex=t}function Be(t){const e=Ie.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function qe(){return Ie.lFrame.currentQueryIndex}function He(t){Ie.lFrame.currentQueryIndex=t}function ze(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ke(t,e,n){if(n&yt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&yt.Host||(r=ze(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ie.lFrame=We();return r.currentTNode=e,r.lView=t,!0}function Ge(t){const e=We(),n=t[1];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function We(){const t=Ie.lFrame,e=null===t?null:t.child;return null===e?$e(t):e}function $e(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Qe(){const t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xe=Qe;function Ye(){const t=Qe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ze(){return Ie.lFrame.selectedIndex}function Je(t){Ie.lFrame.selectedIndex=t}function tn(){const t=Ie.lFrame;return ye(t.tView,t.selectedIndex)}function en(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function nn(t,e,n){sn(t,e,3,n)}function rn(t,e,n,r){(3&t[2])===n&&sn(t,e,n,r)}function on(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function sn(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(an(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function an(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const un=-1;class cn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function ln(t,e,n){const r=fe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];fn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function hn(t){return 3===t||4===t||6===t}function fn(t){return 64===t.charCodeAt(0)}function dn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||pn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function pn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function mn(t){return t!==un}function gn(t){return 32767&t}function yn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let vn=!0;function bn(t){const e=vn;return vn=t,e}let _n=0;function wn(t,e){const n=En(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Sn(r.data,t),Sn(e,null),Sn(r.blueprint,null));const i=Tn(t,e),o=t.injectorIndex;if(mn(i)){const t=gn(i),n=yn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Sn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function En(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Tn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return un;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return un}function In(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ft)&&(r=n[Ft]),null==r&&(r=n[Ft]=_n++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Cn(t,e,n){if(n&yt.Optional)return t;se(e,"NodeInjector")}function kn(t,e,n,r){if(n&yt.Optional&&void 0===r&&(r=null),0==(n&(yt.Self|yt.Host))){const i=t[9],o=bt(void 0);try{return i?i.get(e,r,n&yt.Optional):_t(e,r,n&yt.Optional)}finally{bt(o)}}return Cn(r,e,n)}function On(t,e,n,r=yt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ft)?t[Ft]:void 0;return"number"==typeof e?e>=0?255&e:An:e}(n);if("function"==typeof o){if(!Ke(e,t,r))return r&yt.Host?Cn(i,n,r):kn(e,n,r,i);try{const t=o();if(null!=t||r&yt.Optional)return t;se(n)}finally{Xe()}}else if("number"==typeof o){let i=null,s=En(t,e),a=un,u=r&yt.Host?e[16][6]:null;for((-1===s||r&yt.SkipSelf)&&(a=-1===s?Tn(t,e):e[s+8],a!==un&&jn(r,!1)?(i=e[1],s=gn(a),e=yn(a,e)):s=-1);-1!==s;){const t=e[1];if(Dn(o,s,t.data)){const t=Rn(s,e,n,i,r,u);if(t!==xn)return t}a=e[s+8],a!==un&&jn(r,e[1].data[s+8]===u)&&Dn(o,s,e)?(i=t,s=gn(a),e=yn(a,e)):s=-1}}}return kn(e,n,r,i)}const xn={};function An(){return new Ln(Ae(),ke())}function Rn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Nn(a,s,n,null==r?Jt(a)&&vn:r!=s&&0!=(3&a.type),i&yt.Host&&o===a);return null!==u?Pn(e,s,u,a):xn}function Nn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ee(t)&&t.type===n)return u}return null}function Pn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof cn){const s=i;s.resolving&&function(t,e){throw new re("200","Circular dependency in DI detected for "+t)}(oe(o[n]));const a=bn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?bt(s.injectImpl):null;Ke(t,r,yt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=((s=e).type.prototype.ngOnChanges&&(s.setInput=ce),ue);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}var s;i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&bt(u),bn(a),s.resolving=!1,Xe()}}return i}function Dn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function jn(t,e){return!(t&yt.Self||t&yt.Host&&e)}class Ln{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return On(this._tNode,this._lView,t,void 0,e)}}function Fn(t){const e=t;if(at(t))return()=>{const t=Fn(st(e));return t?t():null};let n=ne(e);if(null===n){const t=ft(e);n=t&&t.factory}return n||null}function Mn(t){return wt(()=>{const e=t.prototype.constructor,n=e[Lt]||Fn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Lt]||Fn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Un(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(hn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ae(),t)}const Vn="__parameters__";function Bn(t,e,n){return wt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Vn)?t[Vn]:Object.defineProperty(t,Vn,{value:[]})[Vn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class qn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ut({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Hn=new qn("AnalyzeForEntryComponents"),zn=Function;function Kn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Kn(r,e)):e!==t&&e.push(r)}return e}function Gn(t,e){t.forEach(t=>Array.isArray(t)?Gn(t,e):e(t))}function Wn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $n(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Xn(t,e,n){let r=Zn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Yn(t,e){const n=Zn(t,e);if(n>=0)return t[1|n]}function Zn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Jn=Bn("Inject",t=>({token:t})),tr=Bn("Optional"),er=Bn("Self"),nr=Bn("SkipSelf"),rr=Bn("Host"),ir={},or=/\n/gm,sr="__source",ar=tt({provide:String,useValue:tt});let ur=void 0;function cr(t){const e=ur;return ur=t,e}function lr(t,e=yt.Default){if(void 0===ur)throw new Error("inject() must be called from an injection context");return null===ur?_t(t,void 0,e):ur.get(t,e&yt.Optional?null:void 0,e)}function hr(t,e=yt.Default){return(vt||lr)(st(t),e)}const fr=hr;function dr(t){const e=[];for(let n=0;n<t.length;n++){const r=st(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=yt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof tr||"Optional"===i.ngMetadataName||i===tr?n|=yt.Optional:i instanceof nr||"SkipSelf"===i.ngMetadataName||i===nr?n|=yt.SkipSelf:i instanceof er||"Self"===i.ngMetadataName||i===er?n|=yt.Self:i instanceof rr||"Host"===i.ngMetadataName||i===rr?n|=yt.Host:t=i instanceof Jn||i===Jn?i.token:i}e.push(hr(t,n))}else e.push(hr(r))}return e}let pr;function mr(t){var e;return(null===(e=function(){if(void 0===pr&&(pr=null,Ot.trustedTypes))try{pr=Ot.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return pr}())||void 0===e?void 0:e.createHTML(t))||t}class gr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class yr extends gr{getTypeName(){return"HTML"}}class vr extends gr{getTypeName(){return"Style"}}class br extends gr{getTypeName(){return"Script"}}class _r extends gr{getTypeName(){return"URL"}}class wr extends gr{getTypeName(){return"ResourceURL"}}function Sr(t){return t instanceof gr?t.changingThisBreaksApplicationSecurity:t}function Er(t,e){const n=Tr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Tr(t){return t instanceof gr&&t.getTypeName()||null}class Ir{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(mr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Cr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=mr(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=mr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const kr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Or=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xr(t){return(t=String(t)).match(kr)||t.match(Or)?t:"unsafe:"+t}function Ar(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Rr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Nr=Ar("area,br,col,hr,img,wbr"),Pr=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dr=Ar("rp,rt"),jr=Rr(Dr,Pr),Lr=Rr(Nr,Rr(Pr,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rr(Dr,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jr),Fr=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mr=Ar("srcset"),Ur=Rr(Fr,Mr,Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vr=Ar("script,style,template");class Br{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Lr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Vr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Ur.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Fr[o]&&(s=xr(s)),Mr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>xr(t.trim())).join(", ")),this.buf.push(" ",e,'="',zr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Lr.hasOwnProperty(e)&&!Nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(zr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const qr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hr=/([^\#-~ |!])/g;function zr(t){return t.replace(/&/g,"&amp;").replace(qr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Hr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kr;function Gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function $r(t){const e=function(){const t=ke();return t&&t[12]}();return e?e.sanitize(Wr.URL,t)||"":Er(t,"URL")?Sr(t):xr(ie(t))}function Qr(t){return t.ngDebugContext}function Xr(t){return t.ngOriginalError}function Yr(t,...e){t.error(...e)}class Zr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Yr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Qr(t)?Qr(t):this._findContext(Xr(t)):null}_findOriginalError(t){let e=Xr(t);for(;e&&Xr(e);)e=Xr(e);return e}}function Jr(t,e){t.__ngContext__=e}const ti=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))();function ei(t){return t instanceof Function?t():t}var ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function ri(t,e){return(void 0)(t,e)}function ii(t){const e=t[3];return Yt(e)?e[3]:e}function oi(t){return ai(t[13])}function si(t){return ai(t[4])}function ai(t){for(;null!==t&&!Yt(t);)t=t[4];return t}function ui(t,e,n,r,i){if(null!=r){let o,s=!1;Yt(r)?o=r:Xt(r)&&(s=!0,r=r[0]);const a=pe(r);0===t&&null!==n?null==i?gi(e,n,a):mi(e,n,a,i||null,!0):1===t&&null!==n?mi(e,n,a,i||null,!0):2===t?function(t,e,n){const r=vi(t,e);r&&function(t,e,n,r){fe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==pe(n)&&ui(e,t,r,o,i);for(let s=Qt;s<n.length;s++){const i=n[s];Ii(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ci(t,e,n){return fe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function li(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Te(i,-1)),n.splice(r,1)}function hi(t,e){if(t.length<=Qt)return;const n=Qt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&li(o,r),e>0&&(t[n-1][4]=r[4]);const s=$n(t,Qt+e);Ii(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function fi(t,e){if(!(256&e[2])){const n=e[11];fe(n)&&n.destroyNode&&Ii(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return di(t[1],t);for(;e;){let n=null;if(Xt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Xt(e)&&di(e[1],e),e=e[3];null===e&&(e=t),Xt(e)&&di(e[1],e),n=e&&e[4]}e=n}}(e)}}function di(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof cn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):pe(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&fe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Yt(e[3])){n!==e[3]&&li(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function pi(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===Et.None||e===Et.Emulated)return null}return ge(r,n)}(t,e.parent,n)}function mi(t,e,n,r,i){fe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function gi(t,e,n){fe(t)?t.appendChild(e,n):e.appendChild(n)}function yi(t,e,n,r,i){null!==r?mi(t,e,n,r,i):gi(t,e,n)}function vi(t,e){return fe(t)?t.parentNode(e):e.parentNode}function bi(t,e,n){return _i(t,e,n)}let _i=function(t,e,n){return 40&t.type?ge(t,n):null};function wi(t,e,n,r){const i=pi(t,r,e),o=e[11],s=bi(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)yi(o,i,n[a],s,!1);else yi(o,i,n,s,!1)}function Si(t,e){if(null!==e){const n=e.type;if(3&n)return ge(e,t);if(4&n)return Ei(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Si(t,n);{const n=t[e.index];return Yt(n)?Ei(-1,n):pe(n)}}if(32&n)return ri(e,t)()||pe(t[e.index]);{const n=t[16],r=n[6],i=ii(n),o=r.projection[e.projection];return null!=o?Si(i,o):Si(t,e.next)}}return null}function Ei(t,e){const n=Qt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Si(t,r)}return e[7]}function Ti(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Jr(pe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ti(t,e,n.child,r,i,o,!1),ui(e,t,i,a,o);else if(32&u){const s=ri(n,r);let u;for(;u=s();)ui(e,t,i,u,o);ui(e,t,i,a,o)}else 16&u?Ci(t,e,r,n,i,o):ui(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ii(t,e,n,r,i,o){Ti(n,r,t.firstChild,e,i,o,!1)}function Ci(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)ui(e,t,i,a[u],o);else Ti(t,e,a,s[3],i,o,!0)}function ki(t,e,n){fe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Oi(t,e,n){fe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function xi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Ai="ng-template";function Ri(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==xi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ni(t){return 4===t.type&&t.value!==Ai}function Pi(t,e,n){return e===(4!==t.type||n?t.value:Ai)}function Di(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(hn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Pi(t,u,n)||""===u&&1===e.length){if(ji(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ri(t.attrs,c,n)){if(ji(r))return!1;s=!0}continue}const l=Li(8&r?"class":u,i,Ni(t),n);if(-1===l){if(ji(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==xi(e,c,0)||2&r&&c!==t){if(ji(r))return!1;s=!0}}}}else{if(!s&&!ji(r)&&!ji(u))return!1;if(s&&ji(u))continue;s=!1,r=u|1&r}}return ji(r)||s}function ji(t){return 0==(1&t)}function Li(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Fi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Di(t,e[r],n))return!0;return!1}function Mi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ui(t,e){return t?":not("+e.trim()+")":e}function Vi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ji(s)||(e+=Ui(o,i),i=""),r=s,o=o||!ji(r);n++}return""!==i&&(e+=Ui(o,i)),e}const Bi={};function qi(t){Hi(Oe(),ke(),Ze()+t,je())}function Hi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&nn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&rn(e,r,0,n)}Je(n)}function zi(t,e){return t<<17|e<<2}function Ki(t){return t>>17&32767}function Gi(t){return 2|t}function Wi(t){return(131068&t)>>2}function $i(t,e){return-131069&t|e<<2}function Qi(t){return 1|t}function Xi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];He(i),n.contentQueries(2,e[o],o)}}}function Yi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ee(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Zi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Re(),s=Pe(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ie.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Ne(o,!0),o}function Ji(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function to(t,e,n){Ge(e);try{const r=t.viewQuery;null!==r&&Ao(1,r,n);const i=t.template;null!==i&&ro(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xi(t,e),t.staticViewQueries&&Ao(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Io(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ye()}}function eo(t,e,n,r){const i=e[2];if(256==(256&i))return;Ge(e);const o=je();try{Ee(e),Ie.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ro(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&nn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&rn(e,n,0,null),on(e,0)}if(function(t){for(let e=oi(t);null!==e;e=si(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Te(r,1),n[2]|=1024}}}(e),function(t){for(let e=oi(t);null!==e;e=si(e))for(let t=Qt;t<e.length;t++){const n=e[t],r=n[1];we(n)&&eo(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Xi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&nn(e,n)}else{const n=t.contentHooks;null!==n&&rn(e,n,1),on(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Je(~r);else{const i=r,o=n[++t],s=n[++t];Ue(o,i),s(2,e[i])}}}finally{Je(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Eo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ao(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&nn(e,n)}else{const n=t.viewHooks;null!==n&&rn(e,n,2),on(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Te(e[3],-1))}finally{Ye()}}function no(t,e,n,r){const i=e[10],o=!je(),s=_e(e);try{o&&!s&&i.begin&&i.begin(),s&&to(t,e,r),eo(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ro(t,e,n,r,i){const o=Ze();try{Je(-1),2&r&&e.length>$t&&Hi(t,e,$t,je()),n(r,i)}finally{Je(o)}}function io(t,e,n){Ce()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||wn(n,e),Jr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ee(r);o&&bo(e,n,r);const u=Pn(e,t,a,n);Jr(u,e),null!==s&&_o(0,a-i,u,r,0,s),o&&(ve(n.index,e)[8]=u)}}(t,e,n,ge(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ie.lFrame.currentDirectiveIndex;try{Je(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ve(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||po(r,i)}}finally{Je(-1),Ve(s)}}(t,e,n))}function oo(t,e,n=ge){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function so(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ao(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ao(t,e,n,r,i,o,s,a,u,c){const l=$t+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Bi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function uo(t,e,n,r){const i=No(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Po(t).push(r,i.length-1))}function co(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function lo(t,e,n,r,i,o,s,a){const u=ge(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Lo(t,n,c,r,i),Jt(e)&&function(t,e){const n=ve(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,fe(o)?o.setProperty(u,r,i):fn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ho(t,e,n,r){let i=!1;if(Ce()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Fi(n,s.selectors,!1)&&(i||(i=[]),In(wn(n,e),t,s.type),ee(s)?(mo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,yo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ji(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=dn(n.mergedAttrs,c.hostAttrs),vo(t,n,e,u,c),go(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Ni(e)?null:wo(n,i);o.push(c),s=co(n,u,s),a=co(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new re("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=dn(n.mergedAttrs,n.attrs),i}function fo(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function po(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function mo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function go(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ee(e)&&(n[""]=t)}}function yo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vo(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ne(i.type)),s=new cn(o,ee(i),null);t.blueprint[r]=s,n[r]=s,fo(t,e,0,r,Ji(t,n,i.hostVars,Bi),i)}function bo(t,e,n){const r=ge(e,t),i=so(n),o=t[10],s=Co(t,Yi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function _o(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function wo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function So(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Eo(t,e){const n=ve(e,t);if(we(n)){const t=n[1];80&n[2]?eo(t,n,t.template,n[8]):n[5]>0&&To(n)}}function To(t){for(let n=oi(t);null!==n;n=si(n))for(let t=Qt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];eo(t,e,t.template,e[8])}else e[5]>0&&To(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ve(e[n],t);we(r)&&r[5]>0&&To(r)}}function Io(t,e){const n=ve(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),to(r,n,n[8])}function Co(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ko(t){for(;t;){t[2]|=64;const e=ii(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Oo(t,e,n){const r=e[10];r.begin&&r.begin();try{eo(t,e,t.template,n)}catch(i){throw jo(e,i),i}finally{r.end&&r.end()}}function xo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=be(n),i=r[1];no(i,r,i.template,n)}}(t[8])}function Ao(t,e,n){He(0),e(t,n)}const Ro=(()=>Promise.resolve(null))();function No(t){return t[7]||(t[7]=[])}function Po(t){return t.cleanup||(t.cleanup=[])}function Do(t,e,n){return(null===t||ee(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function jo(t,e){const n=t[9],r=n?n.get(Zr,null):null;r&&r.handleError(e)}function Lo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Fo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=rt(i,t):2==o&&(r=rt(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Mo=new qn("INJECTOR",-1);class Uo{get(t,e=ir){if(e===ir){const e=new Error(`NullInjectorError: No provider for ${nt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Vo=new qn("Set Injector scope."),Bo={},qo={},Ho=[];let zo=void 0;function Ko(){return void 0===zo&&(zo=new Uo),zo}function Go(t,e=null,n=null,r){return new Wo(t,n,e||Ko(),r)}class Wo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Gn(e,n=>this.processProvider(n,t,e)),Gn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Mo,Qo(void 0,this));const o=this.records.get(Vo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:nt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ir,n=yt.Default){this.assertNotDestroyed();const r=cr(this);try{if(!(n&yt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof qn)&&lt(t);e=n&&this.injectableDefInScope(n)?Qo($o(t),Bo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&yt.Self?Ko():this.parent).get(t,e=n&yt.Optional&&e===ir?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(nt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[sr]&&i.unshift(e[sr]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=nt(e);if(Array.isArray(e))i=e.map(nt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):nt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(or,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{cr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(nt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=st(t)))return!1;let r=ft(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ft(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Gn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Gn(r,t=>this.processProvider(t,n,r||Ho))}}this.injectorDefTypes.add(o),this.records.set(o,Qo(r.factory,Bo));const a=r.providers;if(null!=a&&!s){const e=t;Gn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Yo(t=st(t))?t:st(t&&t.provide);const i=function(t,e,n){return Xo(t)?Qo(void 0,t.useValue):Qo(function(t,e,n){let r=void 0;if(Yo(t)){const e=st(t);return ne(e)||$o(e)}if(Xo(t))r=()=>st(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...dr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>hr(st(t.useExisting));else{const e=st(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ne(e)||$o(e);r=()=>new e(...dr(t.deps))}var i;return r}(t),Bo)}(t);if(Yo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Qo(void 0,Bo,!0),e.factory=()=>dr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Bo&&(e.value=qo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function $o(t){const e=lt(t),n=null!==e?e.factory:ne(t);if(null!==n)return n;const r=ft(t);if(null!==r)return r.factory;if(t instanceof qn)throw new Error(`Token ${nt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Qn(e,"?");throw new Error(`Can't resolve all parameters for ${nt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[dt]||t[mt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Xo(t){return null!==t&&"object"==typeof t&&ar in t}function Yo(t){return"function"==typeof t}const Zo=function(t,e,n){return function(t,e=null,n=null,r){const i=Go(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Jo=(()=>{class t{static create(t,e){return Array.isArray(t)?Zo(t,e,""):Zo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=ir,t.NULL=new Uo,t.\u0275prov=ut({token:t,providedIn:"any",factory:()=>hr(Mo)}),t.__NG_ELEMENT_ID__=-1,t})();function ts(t,e){en(be(t)[1],Ae())}function es(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ee(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ns(t.inputs),e.declaredInputs=ns(t.declaredInputs),e.outputs=ns(t.outputs);const n=i.hostBindings;n&&os(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&rs(t,o),s&&is(t,s),et(t.inputs,i.inputs),et(t.declaredInputs,i.declaredInputs),et(t.outputs,i.outputs),ee(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===es&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dn(i.hostAttrs,n=dn(n,i.hostAttrs))}}(r)}function ns(t){return t===xt?{}:t===At?[]:t}function rs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function is(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function os(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let ss=null;function as(){if(!ss){const t=Ot.Symbol;if(t&&t.iterator)ss=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ss=n)}}}return ss}function us(t){return!!cs(t)&&(Array.isArray(t)||!(t instanceof Map)&&as()in t)}function cs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ls(t,e,n){return t[e]=n}function hs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function fs(t,e,n,r){const i=ke();return hs(i,Me(),e)&&(Oe(),function(t,e,n,r,i,o){const s=ge(t,e);!function(t,e,n,r,i,o,s){if(null==o)fe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?ie(o):s(o,r||"",i);fe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(tn(),i,t,e,n,r)),fs}function ds(t,e,n,r){return hs(t,Me(),n)?e+ie(n)+r:Bi}function ps(t,e,n,r,i,o,s,a){const u=ke(),c=Oe(),l=t+$t,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Zi(e,t,4,s||null,Se(c,a));ho(e,n,l,Se(c,u)),en(e,l);const h=l.tViews=ao(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Ne(h,!1);const f=u[11].createComment("");wi(c,u,f,h),Jr(f,u),Co(u,u[l]=So(f,u,f,h)),te(h)&&io(c,u,h),null!=s&&oo(u,h,a)}function ms(t){return function(t,e){return t[e]}(Ie.lFrame.contextLView,$t+t)}function gs(t,e=yt.Default){const n=ke();return null===n?hr(t,e):On(Ae(),n,st(t),e)}function ys(t,e,n){const r=ke();return hs(r,Me(),e)&&lo(Oe(),tn(),r,t,e,r[11],n,!1),ys}function vs(t,e,n,r,i){const o=i?"class":"style";Lo(t,n,e.inputs[o],o,r)}function bs(t,e,n,r){const i=ke(),o=Oe(),s=$t+t,a=i[11],u=i[s]=ci(a,e,Ie.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Zi(e,t,2,i,Se(a,o));return ho(e,n,u,Se(a,s)),null!==u.attrs&&Fo(u,u.attrs,!1),null!==u.mergedAttrs&&Fo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Ne(c,!0);const l=c.mergedAttrs;null!==l&&ln(a,u,l);const h=c.classes;null!==h&&Oi(a,u,h);const f=c.styles;null!==f&&ki(a,u,f),64!=(64&c.flags)&&wi(o,i,u,c),0===Ie.lFrame.elementDepthCount&&Jr(u,i),Ie.lFrame.elementDepthCount++,te(c)&&(io(o,i,c),function(t,e,n){if(Zt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&oo(i,c)}function _s(){let t=Ae();Pe()?De():(t=t.parent,Ne(t,!1));const e=t;Ie.lFrame.elementDepthCount--;const n=Oe();n.firstCreatePass&&(en(n,t),Zt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&vs(n,e,ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&vs(n,e,ke(),e.stylesWithoutHost,!1)}function ws(t,e,n,r){bs(t,e,n,r),_s()}function Ss(){return ke()}function Es(t){return!!t&&"function"==typeof t.then}function Ts(t,e,n=!1,r){const i=ke(),o=Oe(),s=Ae();return Cs(o,i,i[11],s,t,e,n,r),Ts}function Is(t,e,n=!1,r){const i=Ae(),o=ke(),s=Oe();return Cs(s,o,Do(Be(s.data),i,o),i,t,e,n,r),Is}function Cs(t,e,n,r,i,o,s=!1,a){const u=te(r),c=t.firstCreatePass&&Po(t),l=No(e);let h=!0;if(3&r.type){const f=ge(r,e),d=a?a(f):xt,p=d.target||f,m=l.length,g=a?t=>a(pe(t[r.index])).target:r.index;if(fe(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Os(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,g,m,m+1)}}else o=Os(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,m,s)}else o=Os(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function ks(t,e,n){try{return!1!==e(n)}catch(r){return jo(t,r),!1}}function Os(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ve(t.index,e):e;0==(32&e[2])&&ko(s);let a=ks(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=ks(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function xs(t=1){return function(t){return(Ie.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ie.lFrame.contextLView))[8]}(t)}function As(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Fi(t,o,!0):Mi(r,o))return i}else n=i}return n}function Rs(t){const e=ke()[16][6];if(!e.projection){const n=e.projection=Qn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?As(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ns(t,e=0,n){const r=ke(),i=Oe(),o=Zi(i,$t+t,16,null,n||null);null===o.projection&&(o.projection=e),De(),64!=(64&o.flags)&&function(t,e,n){Ci(e[11],0,e,n,pi(t,n,e),bi(n.parent||e[6],n,e))}(i,r,o)}function Ps(t,e,n){return Ds(t,"",e,"",n),Ps}function Ds(t,e,n,r,i){const o=ke(),s=ds(o,e,n,r);return s!==Bi&&lo(Oe(),tn(),o,t,s,o[11],i,!1),Ds}const js=[];function Ls(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ki(o):Wi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Fs(t[a],e)&&(u=!0,t[a+1]=r?Qi(n):Gi(n)),a=r?Ki(n):Wi(n)}u&&(t[n+1]=r?Gi(o):Qi(o))}function Fs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Zn(t,e)>=0}function Ms(t,e){return function(t,e,n,r){const i=ke(),o=Oe(),s=function(t){const e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ze()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=Be(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Vs(n=Us(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Us(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Wi(r))return t[Ki(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Us(null,t,e,n[1],r),n=Vs(n,e.attrs,r),function(t,e,n,r){t[Ki(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Vs(r,t[o].hostAttrs,true);return Vs(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=Ki(s),u=Wi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Zn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ki(t[a+1]);t[r+1]=zi(e,a),0!==e&&(t[e+1]=$i(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=zi(a,0),0!==a&&(t[a+1]=$i(t[a+1],r)),a=r;else t[r+1]=zi(u,0),0===a?a=r:t[u+1]=$i(t[u+1],r),u=r;l&&(t[r+1]=Gi(t[r+1])),Ls(t,c,r,!0),Ls(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&Zn(o,e)>=0&&(n[r+1]=Qi(n[r+1]))}(e,c,t,r),s=zi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Bi&&hs(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];qs(1==(1&c)?Bs(u,e,n,i,Wi(c),s):void 0)||(qs(o)||function(t){return 2==(2&t)}(c)&&(o=Bs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=fe(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,me(Ze(),n),i,o))}(o,o.data[Ze()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=nt(Sr(t))),t}(e),true,s)}(t,e),Ms}function Us(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Vs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Vs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Bs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Bi&&(l=c?js:void 0);let h=c?Yn(l,r):u===r?l:void 0;if(o&&!qs(h)&&(h=Yn(e,r)),qs(h)&&(a=h,s))return a;const f=t[i+1];i=s?Ki(f):Wi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Yn(t,r))}return a}function qs(t){return void 0!==t}function Hs(t,e=""){const n=ke(),r=Oe(),i=t+$t,o=r.firstCreatePass?Zi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return fe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);wi(r,n,s,o),Ne(o,!1)}function zs(t){return Ks("",t,""),zs}function Ks(t,e,n){const r=ke(),i=ds(r,t,e,n);return i!==Bi&&function(t,e,n){const r=me(e,t);!function(t,e,n){fe(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Ze(),i),Ks}function Gs(t,e,n){const r=ke();return hs(r,Me(),e)&&lo(Oe(),tn(),r,t,e,r[11],n,!0),Gs}function Ws(t,e,n){const r=ke();if(hs(r,Me(),e)){const i=Oe(),o=tn();lo(i,o,r,t,e,Do(Be(i.data),o,r),n,!0)}return Ws}const $s=void 0;var Qs=["en",[["a","p"],["AM","PM"],$s],[["AM","PM"],$s,$s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$s,"{1} 'at' {0}",$s],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Xs={};function Ys(t){return t in Xs||(Xs[t]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[t]),Xs[t]}var Zs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Js="en-US";let ta=Js;function ea(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ta=t.toLowerCase().replace(/_/g,"-"))}class na{}class ra{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${nt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ia=(()=>{class t{}return t.NULL=new ra,t})();function oa(...t){}function sa(t,e){return new ua(ge(t,e))}const aa=function(){return sa(Ae(),ke())};let ua=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=aa,t})();class ca{}let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(),t})();const ha=function(){const t=ke(),e=ve(Ae().index,t);return function(t){return t[11]}(Xt(e)?e:t)};let fa=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>null}),t})();class da{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const pa=new da("11.0.9");class ma{constructor(){}supports(t){return us(t)}create(t){return new ya(t)}}const ga=(t,e)=>e;class ya{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ga}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<wa(n,r,i)?e:n,s=wa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!us(t))throw new Error(`Error trying to diff '${nt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[as()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new va(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _a),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _a),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class va{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ba{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class _a{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ba,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sa{constructor(){}supports(t){return t instanceof Map||cs(t)}create(){return new Ea}}class Ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||cs(t)))throw new Error(`Error trying to diff '${nt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ta(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ta{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new nr,new tr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new ma])}),t})(),Ca=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new nr,new tr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new t([new Sa])}),t})();function ka(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(pe(o)),Yt(o))for(let t=Qt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ka(e[1],e,n,r)}const s=n.type;if(8&s)ka(t,e,n.child,r);else if(32&s){const t=ri(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=ii(t);ka(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Oa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ka(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Yt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(hi(t,n),$n(e,n))}this._attachedToViewContainer=!1}fi(this._lView[1],this._lView)}onDestroy(t){uo(this._lView[1],this._lView,null,t)}markForCheck(){ko(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Le(!0);try{Oo(t,e,n)}finally{Le(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ii(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class xa extends Oa{constructor(t){super(t),this._view=t}detectChanges(){xo(this._view)}checkNoChanges(){!function(t){Le(!0);try{xo(t)}finally{Le(!1)}}(this._view)}get context(){return null}}const Aa=function(t=!1){return function(t,e,n){if(!n&&Jt(t)){const n=ve(t.index,e);return new Oa(n,n)}return 47&t.type?new Oa(e[16],e):null}(Ae(),ke(),t)};let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=Aa,t.__ChangeDetectorRef__=!0,t})();const Na=[new Sa],Pa=new Ia([new ma]),Da=new Ca(Na),ja=function(){return Ua(Ae(),ke())};let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t})();const Fa=La,Ma=class extends Fa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Yi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),to(e,n,t),new Oa(n)}};function Ua(t,e){return 4&t.type?new Ma(e,t,sa(t,e)):null}class Va{}class Ba{}const qa=function(){return $a(Ae(),ke())};let Ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=qa,t})();const za=Ha,Ka=class extends za{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Ln(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tn(this._hostTNode,this._hostLView);if(mn(t)){const e=yn(t,this._hostLView),n=gn(t);return new Ln(e[1].data[n+8],e)}return new Ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ga(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Va,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(Yt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ka(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Qt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Qt?(e[4]=n[i],Wn(n,Qt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Ei(i,o),a=n[11],u=vi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ii(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Wn(Wa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ga(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=hi(this._lContainer,e);n&&($n(Wa(this._lContainer),e),fi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=hi(this._lContainer,e);return n&&null!=$n(Wa(this._lContainer),e)?new Oa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ga(t){return t[8]}function Wa(t){return t[8]||(t[8]=[])}function $a(t,e){let n;const r=e[t.index];if(Yt(r))n=r;else{let i;if(8&t.type)i=pe(r);else{const n=e[11];i=n.createComment("");const r=ge(t,e);mi(n,vi(n,r),i,function(t,e){return fe(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=So(r,e,i,t),Co(e,n)}return new Ka(n,t,e)}const Qa={};class Xa extends ia{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Gt(t);return new Ja(e,this.ngModule)}}function Ya(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Za=new qn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ti});class Ja extends na{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Vi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ya(this.componentDef.inputs)}get outputs(){return Ya(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Qa,i);return o!==Qa||r===Qa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ca,de),s=i.get(fa,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(fe(t))return t.selectRootElement(e,n===Et.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):ci(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:ti,clean:Ro,playerHandler:null,flags:0},f=ao(0,null,null,1,0,null,null,null,null,null),d=Yi(null,f,h,l,null,null,o,a,s,i);let p,m;Ge(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Zi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Fo(a,u,!0),null!==t&&(ln(i,t,u),null!==a.classes&&Oi(i,t,a.classes),null!==a.styles&&ki(i,t,a.styles)));const c=r.createRenderer(t,e),l=Yi(n,so(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(In(wn(a,n),s,e.type),mo(s,a),yo(a,n.length,1)),Co(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)ln(a,c,["ng-version",pa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ji(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&ln(a,c,t),e&&e.length>0&&Oi(a,c,e.join(" "))}if(m=ye(f,$t),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ae();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),vo(t,r,e,Ji(t,e,1,null),n));const i=Pn(e,t,r.directiveStart,r);Jr(i,e);const o=ge(r,e);return o&&Jr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ae();e.contentQueries(1,s,t.directiveStart)}const a=Ae();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Je(a.index),fo(n[1],a,0,a.directiveStart,a.directiveEnd,e),po(e,s)),s}(t,this.componentDef,d,h,[ts]),to(f,d,null)}finally{Ye()}return new tu(this.componentType,p,sa(m,d),d,m)}}class tu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new xa(r),this.componentType=t}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const eu=new Map;class nu extends Va{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xa(this);const n=Wt(t),r=t[jt]||null;r&&ea(r),this._bootstrapComponents=ei(n.bootstrap),this._r3Injector=Go(t,e,[{provide:Va,useValue:this},{provide:ia,useValue:this.componentFactoryResolver}],nt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Jo.THROW_IF_NOT_FOUND,n=yt.Default){return t===Jo||t===Va||t===Mo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ru extends Ba{constructor(t){super(),this.moduleType=t,null!==Wt(t)&&function(t){const e=new Set;!function t(n){const r=Wt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${nt(e)} vs ${nt(e.name)}`)}(i,eu.get(i),n),eu.set(i,n));const o=ei(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new nu(this.moduleType,t)}}function iu(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return hs(t,s,i)?ls(t,s+1,o?r.call(o,i):r(i)):ou(t,s+1)}(ke(),Fe(),t,e,n,r)}function ou(t,e){const n=t[e];return n===Bi?void 0:n}const su=class extends E{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}};function au(){return this._results[as()]()}class uu{constructor(){this.dirty=!0,this._results=[],this.changes=new su,this.length=0;const t=as(),e=uu.prototype;e[t]||(e[t]=au)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=Kn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class cu{constructor(t){this.queryList=t,this.matches=null}clone(){return new cu(this.queryList)}setDirty(){this.queryList.setDirty()}}class lu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new lu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Su(t,e).matches&&this.queries[e].setDirty()}}class hu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class fu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new fu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class du{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new du(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,pu(e,i)),this.matchTNodeWithReadOption(t,e,Nn(e,t,i,!1,!1))}else n===La?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Nn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ua||r===Ha||r===La&&4&e.type)this.addMatch(e.index,-2);else{const n=Nn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function pu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function mu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?sa(t,e):4&t.type?Ua(t,e):null}(e,t):-2===n?function(t,e,n){return n===ua?sa(e,t):n===La?Ua(e,t):n===Ha?$a(e,t):void 0}(t,e,r):Pn(t,t[1],n,e)}function gu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:mu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function yu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=gu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=Qt;t<s.length;t++){const e=s[t];e[17]===e[3]&&yu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];yu(n[1],n,i,r)}}}}}return r}function vu(t){const e=ke(),n=Oe(),r=qe();He(r+1);const i=Su(n,r);if(t.dirty&&_e(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?yu(n,e,r,[]):gu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function bu(t,e,n){_u(Oe(),ke(),t,e,n,!0)}function _u(t,e,n,r,i,o){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new fu),t.queries.track(new du(e,-1))}(t,new hu(n,r,o,i)),o&&(t.staticViewQueries=!0)),function(t,e){const n=new uu;uo(t,e,n,n.destroy),null===e[19]&&(e[19]=new lu),e[19].queries.push(new cu(n))}(t,e)}function wu(){return t=ke(),e=qe(),t[19].queries[e].queryList;var t,e}function Su(t,e){return t.queries.getByIndex(e)}const Eu=new qn("Application Initializer");let Tu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=oa,this.reject=oa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Es(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(hr(Eu,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Iu=new qn("AppId"),Cu={provide:Iu,useFactory:function(){return`${ku()}${ku()}${ku()}`},deps:[]};function ku(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ou=new qn("Platform Initializer"),xu=new qn("Platform ID"),Au=new qn("appBootstrapListener");let Ru=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Nu=new qn("LocaleId"),Pu=new qn("DefaultCurrencyCode");class Du{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ju=function(t){return new ru(t)},Lu=ju,Fu=function(t){return Promise.resolve(ju(t))},Mu=function(t){const e=ju(t),n=ei(Wt(t).declarations).reduce((t,e)=>{const n=Gt(e);return n&&t.push(new Ja(n)),t},[]);return new Du(e,n)},Uu=Mu,Vu=function(t){return Promise.resolve(Mu(t))};let Bu=(()=>{class t{constructor(){this.compileModuleSync=Lu,this.compileModuleAsync=Fu,this.compileModuleAndAllComponentsSync=Uu,this.compileModuleAndAllComponentsAsync=Vu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const qu=(()=>Promise.resolve(0))();function Hu(t){"undefined"==typeof Zone?qu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class zu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new su(!1),this.onMicrotaskEmpty=new su(!1),this.onStable=new su(!1),this.onError=new su(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=Ot.requestAnimationFrame,e=Ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wu(t),Gu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return $u(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Qu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return $u(t),e.invoke(r,i,o,s,a)}finally{Qu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Wu(t),Gu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ku,oa,oa);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ku={};function Gu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function $u(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qu(t){t._nesting--,Gu(t)}class Xu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new su,this.onMicrotaskEmpty=new su,this.onStable=new su,this.onError=new su}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Yu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zu.assertNotInAngularZone(),Hu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(hr(zu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Zu=(()=>{class t{constructor(){this._applications=new Map,ec.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ec.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Ju{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let tc,ec=new Ju,nc=!0,rc=!1;function ic(){return rc=!0,nc}const oc=new qn("AllowMultipleToken");class sc{constructor(t,e){this.name=t,this.token=e}}function ac(t,e,n=[]){const r="Platform: "+e,i=new qn(r);return(e=[])=>{let o=uc();if(!o||o.injector.get(oc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Vo,useValue:"platform"});!function(t){if(tc&&!tc.destroyed&&!tc.injector.get(oc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tc=t.get(cc);const e=t.get(Ou,null);e&&e.forEach(t=>t())}(Jo.create({providers:t,name:r}))}return function(t){const e=uc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function uc(){return tc&&!tc.destroyed?tc:null}let cc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Xu:("zone.js"===t?void 0:t)||new zu({enableLongStackTrace:ic(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:zu,useValue:n}];return n.run(()=>{const e=Jo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Zr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{fc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Es(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Tu);return t.runInitializers(),t.donePromise.then(()=>(ea(i.injector.get(Nu,Js)||Js),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=lc({},e);return function(t,e,n){const r=new ru(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(hc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${nt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(hr(Jo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function lc(t,e){return Array.isArray(e)?e.reduce(lc,t):Object.assign(Object.assign({},t),e)}let hc=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{zu.assertNotInAngularZone(),Hu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=K(s,a.pipe(J()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof na?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Va),i=n.create(Jo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Yu,null),a=s&&i.injector.get(Zu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),fc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),ic()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Au,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(hr(zu),hr(Ru),hr(Jo),hr(Zr),hr(ia),hr(Tu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function fc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dc{}class pc{}const mc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||mc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>yc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>yc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(hr(Bu),hr(pc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function yc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const vc=ac(null,"core",[{provide:xu,useValue:"unknown"},{provide:cc,deps:[Jo]},{provide:Zu,deps:[]},{provide:Ru,deps:[]}]),bc=[{provide:hc,useClass:hc,deps:[zu,Ru,Jo,Zr,ia,Tu]},{provide:Za,deps:[zu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Tu,useClass:Tu,deps:[[new tr,Eu]]},{provide:Bu,useClass:Bu,deps:[]},Cu,{provide:Ia,useFactory:function(){return Pa},deps:[]},{provide:Ca,useFactory:function(){return Da},deps:[]},{provide:Nu,useFactory:function(t){return ea(t=t||"undefined"!=typeof $localize&&$localize.locale||Js),t},deps:[[new Jn(Nu),new tr,new nr]]},{provide:Pu,useValue:"USD"}];let _c=(()=>{class t{constructor(t){}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(hr(hc))},providers:bc}),t})();const wc={apiKey:"AIzaSyCR4GgkJHZJy6aNVH55deBDNe7BV769Klg",authDomain:"social-media-8fc2b.firebaseapp.com",projectId:"social-media-8fc2b",storageBucket:"social-media-8fc2b.appspot.com",messagingSenderId:"73777798896",appId:"1:73777798896:web:7de9e4101b1555c6ce6c35",measurementId:"G-YBYP56DTF4"};let Sc=null;function Ec(){return Sc}const Tc=new qn("DocumentToken");let Ic=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:Cc,token:t,providedIn:"platform"}),t})();function Cc(){return hr(Oc)}const kc=new qn("Location Initialized");let Oc=(()=>{class t extends Ic{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Ec().getLocation(),this._history=Ec().getHistory()}getBaseHrefFromDOM(){return Ec().getBaseHref(this._doc)}onPopState(t){Ec().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Ec().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){xc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){xc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc))},t.\u0275prov=ut({factory:Ac,token:t,providedIn:"platform"}),t})();function xc(){return!!window.history.pushState}function Ac(){return new Oc(hr(Tc))}function Rc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Nc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Pc(t){return t&&"?"!==t[0]?"?"+t:t}let Dc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:jc,token:t,providedIn:"root"}),t})();function jc(t){const e=hr(Tc).location;return new Fc(hr(Ic),e&&e.origin||"")}const Lc=new qn("appBaseHref");let Fc=(()=>{class t extends Dc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Rc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Pc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Pc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Pc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(hr(Ic),hr(Lc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Mc=(()=>{class t extends Dc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Rc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Pc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Pc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(hr(Ic),hr(Lc,8))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Uc=(()=>{class t{constructor(t,e){this._subject=new su,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Nc(Bc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Pc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Bc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(hr(Dc),hr(Ic))},t.normalizeQueryParams=Pc,t.joinWithSlash=Rc,t.stripTrailingSlash=Nc,t.\u0275prov=ut({factory:Vc,token:t,providedIn:"root"}),t})();function Vc(){return new Uc(hr(Dc),hr(Ic))}function Bc(t){return t.replace(/\/index.html$/,"")}var qc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Hc{}let zc=(()=>{class t extends Hc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ys(e);if(n)return n;const r=e.split("-")[0];if(n=Ys(r),n)return n;if("en"===r)return Qs;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Zs.PluralCase]}(e||this.locale)(t)){case qc.Zero:return"zero";case qc.One:return"one";case qc.Two:return"two";case qc.Few:return"few";case qc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(hr(Nu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Kc=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(us(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+nt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(gs(Ia),gs(Ca),gs(ua),gs(la))},t.\u0275dir=Kt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Gc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Gc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new $c(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new $c(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(gs(Ha),gs(La),gs(Ia))},t.\u0275dir=Kt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class $c{constructor(t,e){this.record=t,this.view=e}}let Qc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Xc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(gs(Ha),gs(La))},t.\u0275dir=Kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Xc{constructor(){this.$implicit=null,this.ngIf=null}}function Yc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${nt(e)}'.`)}let Zc=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[{provide:Hc,useClass:zc}]}),t})(),Jc=(()=>{class t{}return t.\u0275prov=ut({token:t,providedIn:"root",factory:()=>new tl(hr(Tc),window)}),t})();class tl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=el(this.window.history)||el(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function el(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class nl extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new nl,Sc||(Sc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=il||(il=document.querySelector("base"),il)?il.getAttribute("href"):null;return null==e?null:(n=e,rl||(rl=document.createElement("a")),rl.setAttribute("href",n),"/"===rl.pathname.charAt(0)?rl.pathname:"/"+rl.pathname);var n}resetBaseElement(){il=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let rl,il=null;const ol=new qn("TRANSITION_ID"),sl=[{provide:Eu,useFactory:function(t,e,n){return()=>{n.get(Tu).donePromise.then(()=>{const n=Ec();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ol,Tc,Jo],multi:!0}];class al{static init(){var t;t=new al,ec=t}addToWindow(t){Ot.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Ec().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ul=new qn("EventManagerPlugins");let cl=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(hr(ul),hr(zu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class ll{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ec().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let hl=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),fl=(()=>{class t extends hl{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ec().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const dl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pl=/%COMP%/g;function ml(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ml(t,i,n):(i=i.replace(pl,t),n.push(i))}return n}function gl(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let yl=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new vl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Et.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new bl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Et.ShadowDom:return new _l(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ml(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(hr(cl),hr(fl),hr(Iu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class vl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(dl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=dl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=dl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(ni.DashCase|ni.Important)?t.style.setProperty(e,n,r&ni.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ni.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gl(n)):this.eventManager.addEventListener(t,e,gl(n))}}class bl extends vl{constructor(t,e,n,r){super(t),this.component=n;const i=ml(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(pl,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(pl,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class _l extends vl{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ml(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let wl=(()=>{class t extends ll{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Sl=["alt","control","meta","shift"],El={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Il={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Cl=(()=>{class t extends ll{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ec().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Sl.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Tl.hasOwnProperty(e)&&(e=Tl[e]))}return El[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Sl.forEach(r=>{r!=n&&(0,Il[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),kl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({factory:function(){return hr(Ol)},token:t,providedIn:"root"}),t})(),Ol=(()=>{class t extends kl{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Wr.NONE:return e;case Wr.HTML:return Er(e,"HTML")?Sr(e):function(t,e){let n=null;try{Kr=Kr||function(t){const e=new Cr(t);return function(){try{return!!(new window.DOMParser).parseFromString(mr(""),"text/html")}catch(t){return!1}}()?new Ir(e):e}(t);let r=e?String(e):"";n=Kr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Kr.getInertBodyElement(r)}while(r!==o);return(new Br).sanitizeChildren(Gr(n)||n)}finally{if(n){const t=Gr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case Wr.STYLE:return Er(e,"Style")?Sr(e):e;case Wr.SCRIPT:if(Er(e,"Script"))return Sr(e);throw new Error("unsafe value used in a script context");case Wr.URL:return Tr(e),Er(e,"URL")?Sr(e):xr(String(e));case Wr.RESOURCE_URL:if(Er(e,"ResourceURL"))return Sr(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new yr(t)}bypassSecurityTrustStyle(t){return new vr(t)}bypassSecurityTrustScript(t){return new br(t)}bypassSecurityTrustUrl(t){return new _r(t)}bypassSecurityTrustResourceUrl(t){return new wr(t)}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc))},t.\u0275prov=ut({factory:function(){return t=hr(Mo),new Ol(t.get(Tc));var t},token:t,providedIn:"root"}),t})();const xl=ac(vc,"browser",[{provide:xu,useValue:"browser"},{provide:Ou,useValue:function(){nl.makeCurrent(),al.init()},multi:!0},{provide:Tc,useFactory:function(){return function(t){he=t}(document),document},deps:[]}]),Al=[[],{provide:Vo,useValue:"root"},{provide:Zr,useFactory:function(){return new Zr},deps:[]},{provide:ul,useClass:wl,multi:!0,deps:[Tc,zu,xu]},{provide:ul,useClass:Cl,multi:!0,deps:[Tc]},[],{provide:yl,useClass:yl,deps:[cl,fl,Iu]},{provide:ca,useExisting:yl},{provide:hl,useExisting:fl},{provide:fl,useClass:fl,deps:[Tc]},{provide:Yu,useClass:Yu,deps:[zu]},{provide:cl,useClass:cl,deps:[ul,zu]},[]];let Rl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Iu,useValue:e.appId},{provide:ol,useExisting:Iu},sl]}}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(hr(t,12))},providers:Al,imports:[Zc,_c]}),t})();function Nl(...t){let e=t[t.length-1];return I(e)?(t.pop(),j(t,e)):z(t)}"undefined"!=typeof window&&window;class Pl extends E{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}class Dl extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class jl extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Ll(t,e,n,r,i=new jl(t,n,r)){if(!i.closed)return e instanceof v?e.subscribe(i):D(e)(i)}const Fl={};function Ml(...t){let e=void 0,n=void 0;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),z(t,n).lift(new Ul(e))}class Ul{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Vl(t,this.resultSelector))}}class Vl extends Dl{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Fl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ll(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Fl?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Bl=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function ql(...t){return H(1)(Nl(...t))}const Hl=new v(t=>t.complete());function zl(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):Hl}function Kl(t){return new v(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?L(n):zl()).subscribe(e)})}function Gl(t,e){return"function"==typeof e?n=>n.pipe(Gl((n,r)=>L(t(n,r)).pipe(C((t,i)=>e(n,t,r,i))))):e=>e.lift(new Wl(t))}class Wl{constructor(t){this.project=t}call(t,e){return e.subscribe(new $l(t,this.project))}}class $l extends M{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new F(this),r=this.destination;r.add(n),this.innerSubscription=U(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ql=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Xl(t){return e=>0===t?zl():e.lift(new Yl(t))}class Yl{constructor(t){if(this.total=t,this.total<0)throw new Ql}call(t,e){return e.subscribe(new Zl(t,this.total))}}class Zl extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Jl(...t){const e=t[t.length-1];return I(e)?(t.pop(),n=>ql(t,n,e)):e=>ql(t,e)}function th(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new eh(t,e,n))}}class eh{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new nh(t,this.accumulator,this.seed,this.hasSeed))}}class nh extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function rh(t,e){return function(n){return n.lift(new ih(t,e))}}class ih{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new oh(t,this.predicate,this.thisArg))}}class oh extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function sh(t){return function(e){const n=new ah(t),r=e.lift(n);return n.caught=r}}class ah{constructor(t){this.selector=t}call(t,e){return e.subscribe(new uh(t,this.selector,this.caught))}}class uh extends M{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new F(this);this.add(r);const i=U(n,r);i!==r&&this.add(i)}}}function ch(t,e){return V(t,e,1)}function lh(t){return function(e){return 0===t?zl():e.lift(new hh(t))}}class hh{constructor(t){if(this.total=t,this.total<0)throw new Ql}call(t,e){return e.subscribe(new fh(t,this.total))}}class fh extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function dh(t=gh){return e=>e.lift(new ph(t))}class ph{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new mh(t,this.errorFactory))}}class mh extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function gh(){return new Bl}function yh(t=null){return e=>e.lift(new vh(t))}class vh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new bh(t,this.defaultValue))}}class bh extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function _h(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rh((e,n)=>t(e,n,r)):y,Xl(1),n?yh(e):dh(()=>new Bl))}function wh(){}function Sh(t,e,n){return function(r){return r.lift(new Eh(t,e,n))}}class Eh{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Th(t,this.nextOrObserver,this.error,this.complete))}}class Th extends p{constructor(t,e,n,i){super(t),this._tapNext=wh,this._tapError=wh,this._tapComplete=wh,this._tapError=n||wh,this._tapComplete=i||wh,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||wh,this._tapError=e.error||wh,this._tapComplete=e.complete||wh)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Ih(t){return e=>e.lift(new Ch(t))}class Ch{constructor(t){this.callback=t}call(t,e){return e.subscribe(new kh(t,this.callback))}}class kh extends p{constructor(t,e){super(t),this.add(new h(e))}}class Oh{constructor(t,e){this.id=t,this.url=e}}class xh extends Oh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ah extends Oh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rh extends Oh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nh extends Oh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ph extends Oh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dh extends Oh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jh extends Oh{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lh extends Oh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fh extends Oh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kh="primary";class Gh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wh(t){return new Gh(t)}function $h(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Qh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xh(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Yh(t[i],e[i]))return!1;return!0}function Yh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Zh(t){return Array.prototype.concat.apply([],t)}function Jh(t){return t.length>0?t[t.length-1]:null}function tf(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ef(t){return(e=t)&&"function"==typeof e.subscribe?t:Es(t)?L(Promise.resolve(t)):Nl(t);var e}function nf(t,e,n){return n?function(t,e){return Xh(t,e)}(t.queryParams,e.queryParams)&&rf(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Yh(t[n],e[n]))}(t.queryParams,e.queryParams)&&of(t.root,e.root)}function rf(t,e){if(!lf(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!rf(t.children[n],e.children[n]))return!1}return!0}function of(t,e){return sf(t,e,e.segments)}function sf(t,e,n){if(t.segments.length>n.length)return!!lf(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!lf(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!of(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!lf(t.segments,r)&&!!t.children.primary&&sf(t.children.primary,e,i)}}class af{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wh(this.queryParams)),this._queryParamMap}toString(){return df.serialize(this)}}class uf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tf(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pf(this)}}class cf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wh(this.parameters)),this._parameterMap}toString(){return wf(this)}}function lf(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class hf{}class ff{parse(t){const e=new Cf(t);return new af(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+mf(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${yf(e)}=${yf(t)}`).join("&"):`${yf(e)}=${yf(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const df=new ff;function pf(t){return t.segments.map(t=>wf(t)).join("/")}function mf(t,e){if(!t.hasChildren())return pf(t);if(e){const e=t.children.primary?mf(t.children.primary,!1):"",n=[];return tf(t.children,(t,e)=>{e!==Kh&&n.push(`${e}:${mf(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return tf(t.children,(t,r)=>{r===Kh&&(n=n.concat(e(t,r)))}),tf(t.children,(t,r)=>{r!==Kh&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Kh?[mf(t.children.primary,!1)]:[`${n}:${mf(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${pf(t)}/${e[0]}`:`${pf(t)}/(${e.join("//")})`}}function gf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yf(t){return gf(t).replace(/%3B/gi,";")}function vf(t){return gf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bf(t){return decodeURIComponent(t)}function _f(t){return bf(t.replace(/\+/g,"%20"))}function wf(t){return`${vf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${vf(t)}=${vf(e[t])}`).join("")}`;var e}const Sf=/^[^\/()?;=#]+/;function Ef(t){const e=t.match(Sf);return e?e[0]:""}const Tf=/^[^=?&#]+/,If=/^[^?&#]+/;class Cf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new uf([],{}):new uf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new uf(t,e)),n}parseSegment(){const t=Ef(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new cf(bf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ef(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ef(this.remaining);t&&(n=t,this.capture(n))}t[bf(e)]=bf(n)}parseQueryParam(t){const e=function(t){const e=t.match(Tf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(If);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=_f(e),i=_f(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ef(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Kh);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new uf([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class kf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Of(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Of(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return xf(t,this._root).map(t=>t.value)}}function Of(t,e){if(t===e.value)return e;for(const n of e.children){const e=Of(t,n);if(e)return e}return null}function xf(t,e){if(t===e.value)return[e];for(const n of e.children){const r=xf(t,n);if(r.length)return r.unshift(e),r}return[]}class Af{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rf(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Nf extends kf{constructor(t,e){super(t),this.snapshot=e,Mf(this,t)}toString(){return this.snapshot.toString()}}function Pf(t,e){const n=function(t,e){const n=new Lf([],{},{},"",{},Kh,e,null,t.root,-1,{});return new Ff("",new Af(n,[]))}(t,e),r=new Pl([new cf("",{})]),i=new Pl({}),o=new Pl({}),s=new Pl({}),a=new Pl(""),u=new Df(r,i,s,a,o,Kh,e,n.root);return u.snapshot=n.root,new Nf(new Af(u,[]),n)}class Df{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(C(t=>Wh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(C(t=>Wh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jf(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Lf{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ff extends kf{constructor(t,e){super(e),this.url=t,Mf(this,e)}toString(){return Uf(this._root)}}function Mf(t,e){e.value._routerState=t,e.children.forEach(e=>Mf(t,e))}function Uf(t){const e=t.children.length>0?` { ${t.children.map(Uf).join(", ")} } `:"";return`${t.value}${e}`}function Vf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Xh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Xh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bf(t,e){var n,r;return Xh(t.params,e.params)&&lf(n=t.url,r=e.url)&&n.every((t,e)=>Xh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Bf(t.parent,e.parent))}function qf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return qf(t,e,r);return qf(t,e)})}(t,e,n);return new Af(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Hf(e,t),t}{const n=new Df(new Pl((r=e.value).url),new Pl(r.params),new Pl(r.queryParams),new Pl(r.fragment),new Pl(r.data),r.outlet,r.component,r),i=e.children.map(e=>qf(t,e));return new Af(n,i)}}var r}function Hf(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Hf(t.children[n],e.children[n])}function zf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Kf(t){return"object"==typeof t&&null!=t&&t.outlets}function Gf(t,e,n,r,i){let o={};return r&&tf(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new af(n.root===t?e:Wf(n.root,t,e),o,i)}function Wf(t,e,n){const r={};return tf(t.children,(t,i)=>{r[i]=t===e?n:Wf(t,e,n)}),new uf(t.segments,r)}class $f{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zf(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Kf);if(r&&r!==Jh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Xf(t,e,n){if(t||(t=new uf([],{})),0===t.segments.length&&t.hasChildren())return Yf(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Kf(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!ed(a,u,e))return o;r+=2}else{if(!ed(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new uf(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new uf(t.segments.slice(r.pathIndex),t.children),Yf(e,0,i)}return r.match&&0===i.length?new uf(t.segments,{}):r.match&&!t.hasChildren()?Zf(t,e,n):r.match?Yf(t,0,i):Zf(t,e,n)}function Yf(t,e,n){if(0===n.length)return new uf(t.segments,{});{const r=function(t){return Kf(t[0])?t[0].outlets:{[Kh]:t}}(n),i={};return tf(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Xf(t.children[r],e,n))}),tf(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new uf(t.segments,i)}}function Zf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Kf(o)){const t=Jf(o.outlets);return new uf(r,t)}if(0===i&&zf(n[0])){r.push(new cf(t.segments[e].path,n[0])),i++;continue}const s=Kf(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&zf(a)?(r.push(new cf(s,td(a))),i+=2):(r.push(new cf(s,{})),i++)}return new uf(r,{})}function Jf(t){const e={};return tf(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Zf(new uf([],{}),0,t))}),e}function td(t){const e={};return tf(t,(t,n)=>e[n]=""+t),e}function ed(t,e,n){return t==n.path&&Xh(e,n.parameters)}class nd{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Vf(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Rf(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),tf(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Rf(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Rf(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Hh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Bh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Vf(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),rd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function rd(t){Vf(t.value),t.children.forEach(rd)}class id{constructor(t,e){this.routes=t,this.module=e}}function od(t){return"function"==typeof t}function sd(t){return t instanceof af}const ad=Symbol("INITIAL_VALUE");function ud(){return Gl(t=>Ml(t.map(t=>t.pipe(Xl(1),Jl(ad)))).pipe(th((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ad)return t;if(r===ad&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||sd(r))return r}return t},t)},ad),rh(t=>t!==ad),C(t=>sd(t)?t:!0===t),Xl(1)))}let cd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&ws(0,"router-outlet")},directives:function(){return[tp]},encapsulation:2}),t})();function ld(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];hd(r,fd(e,r))}}function hd(t,e){t.children&&ld(t.children,e)}function fd(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function dd(t){const e=t.children&&t.children.map(dd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Kh&&(n.component=cd),n}function pd(t){return t.outlet||Kh}function md(t,e){const n=t.filter(t=>pd(t)===e);return n.push(...t.filter(t=>pd(t)!==e)),n}const gd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yd(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},gd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Qh)(n,t,e);if(!i)return Object.assign({},gd);const o={};tf(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function vd(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>bd(t,e,n)&&pd(n)!==Kh)}(t,n,r)){const i=new uf(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&pd(o)!==Kh){const n=new uf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[pd(o)]=n}return i}(t,e,r,new uf(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>bd(t,e,n))}(t,n,r)){const o=new uf(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(bd(t,n,a)&&!i[pd(a)]){const n=new uf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[pd(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new uf(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function bd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function _d(t,e,n,r){return!!(pd(t)===r||r!==Kh&&bd(e,n,t))&&("**"===t.path||yd(e,t,n).matched)}function wd(t,e,n){return 0===e.length&&!t.children[n]}class Sd{constructor(t){this.segmentGroup=t||null}}class Ed{constructor(t){this.urlTree=t}}function Td(t){return new v(e=>e.error(new Sd(t)))}function Id(t){return new v(e=>e.error(new Ed(t)))}function Cd(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class kd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Va)}apply(){const t=vd(this.urlTree.root,[],[],this.config).segmentGroup,e=new uf(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Kh).pipe(C(t=>this.createUrlTree(Od(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sh(t=>{if(t instanceof Ed)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Sd)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Kh).pipe(C(e=>this.createUrlTree(Od(e),t.queryParams,t.fragment))).pipe(sh(t=>{if(t instanceof Sd)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new uf([],{[Kh]:t}):t;return new af(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(C(t=>new uf([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return L(r).pipe(ch(r=>{const i=n.children[r],o=md(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(C(t=>({segment:t,outlet:r})))}),th((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?rh((e,n)=>t(e,n,r)):y,lh(1),n?yh(e):dh(()=>new Bl))}())}expandSegment(t,e,n,r,i,o){return L(n).pipe(ch(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(sh(t=>{if(t instanceof Sd)return Nl(null);throw t}))),_h(t=>!!t),sh((t,n)=>{if(t instanceof Bl||"EmptyError"===t.name){if(wd(e,r,i))return Nl(new uf([],{}));throw new Sd(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return _d(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Td(e):Td(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Id(i):this.lineralizeSegments(n,i).pipe(V(n=>{const i=new uf(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=yd(e,r,i);if(!s)return Td(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Id(l):this.lineralizeSegments(r,l).pipe(V(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(C(t=>(n._loadedConfig=t,new uf(r,{})))):Nl(new uf(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=yd(e,n,r);if(!o)return Td(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(V(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=vd(e,s,u,o),l=new uf(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(C(t=>new uf(s,t)));if(0===o.length&&0===c.length)return Nl(new uf(s,{}));const h=pd(n)===i;return this.expandSegment(r,l,o,c,h?Kh:i,!0).pipe(C(t=>new uf(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Nl(new id(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Nl(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(V(n=>n?this.configLoader.load(t.injector,e).pipe(C(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error($h(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Nl(new id([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Nl(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&od(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!od(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return ef(o)})).pipe(ud(),Sh(t=>{if(!sd(t))return;const e=$h(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),C(t=>!0===t)):Nl(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Nl(n);if(r.numberOfChildren>1||!r.children.primary)return Cd(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new af(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return tf(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return tf(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new uf(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Od(t){const e={};for(const n of Object.keys(t.children)){const r=Od(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new uf(t.segments.concat(e.segments),e.children)}return t}(new uf(t.segments,e))}class xd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ad{constructor(t,e){this.component=t,this.route=e}}function Rd(t,e,n){const r=t._root;return Pd(r,e?e._root:null,n,[r.value])}function Nd(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Pd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Rf(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!lf(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lf(t.url,e.url)||!Xh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bf(t,e)||!Xh(t.queryParams,e.queryParams);case"paramsChange":default:return!Bf(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Pd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ad(a.outlet.component,s))}else s&&Dd(e,a,i),i.canActivateChecks.push(new xd(r)),Pd(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),tf(o,(t,e)=>Dd(t,n.getContext(e),i)),i}function Dd(t,e,n){const r=Rf(t),i=t.value;tf(r,(t,r)=>{Dd(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ad(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class jd{}function Ld(t){return new v(e=>e.error(t))}class Fd{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=vd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Kh);if(null===e)return null;const n=new Lf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kh,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Af(n,e),i=new Ff(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=jf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=md(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Md(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Kh?-1:e.value.outlet===Kh?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return wd(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!_d(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Jh(n).parameters:{};i=new Lf(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bd(t),pd(t),t.component,t,Ud(e),Vd(e)+n.length,qd(t))}else{const r=yd(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Lf(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bd(t),pd(t),t.component,t,Ud(e),Vd(e)+o.length,qd(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=vd(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Af(i,t)]}if(0===a.length&&0===c.length)return[new Af(i,[])];const l=pd(t)===r,h=this.processSegment(a,u,c,l?Kh:r);return null===h?null:[new Af(i,h)]}}function Md(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ud(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Bd(t){return t.data||{}}function qd(t){return t.resolve||{}}function Hd(t){return Gl(e=>{const n=t(e);return n?L(n).pipe(C(()=>e)):Nl(e)})}class zd extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Kd=new qn("ROUTES");class Gd{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(C(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new id(Zh(r.injector.get(Kd)).map(dd),r)}))}loadModuleFactory(t){return"string"==typeof t?L(this.loader.load(t)):ef(t()).pipe(V(t=>t instanceof Ba?Nl(t):L(this.compiler.compileModuleAsync(t))))}}class Wd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $d,this.attachRef=null}}class $d{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Wd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Qd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xd(t){throw t}function Yd(t,e,n){return e.parse("/")}function Zd(t,e){return Nl(null)}let Jd=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=Xd,this.malformedUriErrorHandler=Yd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zd,afterPreactivation:Zd},this.urlHandlingStrategy=new Qd,this.routeReuseStrategy=new zd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(Va),this.console=i.get(Ru);const u=i.get(zu);this.isNgZoneEnabled=u instanceof zu&&zu.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new af(new uf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gd(o,s,t=>this.triggerEvent(new Mh(t)),t=>this.triggerEvent(new Uh(t))),this.routerState=Pf(this.currentUrlTree,this.rootComponentType),this.transitions=new Pl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(rh(t=>0!==t.id),C(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Gl(t=>{let n=!1,r=!1;return Nl(t).pipe(Sh(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Gl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Nl(t).pipe(Gl(t=>{const n=this.transitions.getValue();return e.next(new xh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Hl:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Gl(t=>function(t,e,n,r,i){return new kd(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(C(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Sh(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return V(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Fd(t,e,n,r,i,o).recognize();return null===s?Ld(new jd):Nl(s)}catch(s){return Ld(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(C(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Sh(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ph(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new xh(n,this.serializeUrl(r),i,o);e.next(a);const u=Pf(r,this.rootComponentType).snapshot;return Nl(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Hl}),Hd(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Sh(t=>{const e=new Dh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),C(t=>Object.assign(Object.assign({},t),{guards:Rd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return V(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Nl(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return L(t).pipe(V(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Nl(o.map(o=>{const s=Nd(o,e,i);let a;if(function(t){return t&&od(t.canDeactivate)}(s))a=ef(s.canDeactivate(t,e,n,r));else{if(!od(s))throw new Error("Invalid CanDeactivate guard");a=ef(s(t,e,n,r))}return a.pipe(_h())})).pipe(ud()):Nl(!0)}(t.component,t.route,n,e,r)),_h(t=>!0!==t,!0))}(s,r,i,t).pipe(V(n=>n&&"boolean"==typeof n?function(t,e,n,r){return L(e).pipe(ch(e=>ql(function(t,e){return null!==t&&e&&e(new Vh(t)),Nl(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new qh(t)),Nl(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Kl(()=>Nl(e.guards.map(i=>{const o=Nd(i,e.node,n);let s;if(function(t){return t&&od(t.canActivateChild)}(o))s=ef(o.canActivateChild(r,t));else{if(!od(o))throw new Error("Invalid CanActivateChild guard");s=ef(o(r,t))}return s.pipe(_h())})).pipe(ud())));return Nl(i).pipe(ud())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Nl(r.map(r=>Kl(()=>{const i=Nd(r,e,n);let o;if(function(t){return t&&od(t.canActivate)}(i))o=ef(i.canActivate(e,t));else{if(!od(i))throw new Error("Invalid CanActivate guard");o=ef(i(e,t))}return o.pipe(_h())}))).pipe(ud()):Nl(!0)}(t,e.route,n))),_h(t=>!0!==t,!0))}(r,o,t,e):Nl(n)),C(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Sh(t=>{if(sd(t.guardsResult)){const e=$h(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new jh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),rh(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Rh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Hd(t=>{if(t.guards.canActivateChecks.length)return Nl(t).pipe(Sh(t=>{const e=new Lh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Gl(t=>{let n=!1;return Nl(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,V(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Nl(t);let o=0;return L(n).pipe(ch(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Nl({});const o={};return L(i).pipe(V(i=>function(t,e,n,r){const i=Nd(t,e,r);return ef(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Sh(t=>{o[i]=t}))),lh(1),V(()=>Object.keys(o).length===i.length?Nl(o):Hl))}(t._resolve,t,e,r).pipe(C(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),jf(t,n).resolve),null)))}(t.route,e,r,i)),Sh(()=>o++),lh(1),V(e=>o===n.length?Nl(t):Hl))})),Sh({next:()=>n=!0,complete:()=>{if(!n){const n=new Rh(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Sh(t=>{const e=new Fh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Hd(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),C(t=>{const e=function(t,e,n){const r=qf(t,e._root,n?n._root:void 0);return new Nf(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Sh(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),C(t=>(new nd(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Sh({next(){n=!0},complete(){n=!0}}),Ih(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Rh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),sh(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=sd(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Rh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Nh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Hl}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ld(t),this.config=t.map(dd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Gf(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $f(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return tf(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new $f(n,e,r)}(n);if(o.toRoot())return Gf(e.root,new uf([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Qf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Qf(t,t===e.root,0)}const r=zf(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Qf(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Yf(s.segmentGroup,s.index,o.commands):Xf(s.segmentGroup,s.index,o.commands);return Gf(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=sd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(sd(t))return nf(this.currentUrlTree,t,e);const n=this.parseUrl(t);return nf(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ah(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(hr(zn),hr(hf),hr($d),hr(Uc),hr(Jo),hr(dc),hr(Bu),hr(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),tp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new su,this.deactivateEvents=new su,this.name=r||Kh,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ep(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(gs($d),gs(Ha),gs(ia),Un("name"),gs(Ra))},t.\u0275dir=Kt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ep{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Df?this.route:t===$d?this.childContexts:this.parent.get(t,e)}}class np{}class rp{preload(t,e){return Nl(null)}}let ip=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Gd(e,n,e=>t.triggerEvent(new Mh(e)),e=>t.triggerEvent(new Uh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(rh(t=>t instanceof Ah),ch(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Va);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return L(n).pipe(H(),C(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(V(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(hr(Jd),hr(dc),hr(Bu),hr(Jo),hr(np))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),op=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ah&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new zh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(hr(Jd),hr(Jc),hr(void 0))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const sp=new qn("ROUTER_CONFIGURATION"),ap=new qn("ROUTER_FORROOT_GUARD"),up=[Uc,{provide:hf,useClass:ff},{provide:Jd,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Jd(null,t,e,n,r,i,o,Zh(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing){const t=Ec();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l},deps:[hf,$d,Uc,Jo,dc,Bu,Kd,sp,[class{},new tr],[class{},new tr]]},$d,{provide:Df,useFactory:function(t){return t.routerState.root},deps:[Jd]},{provide:dc,useClass:gc},ip,rp,class{preload(t,e){return e().pipe(sh(()=>Nl(null)))}},{provide:sp,useValue:{enableTracing:!1}}];function cp(){return new sc("Router",Jd)}let lp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[up,pp(e),{provide:ap,useFactory:dp,deps:[[Jd,new tr,new nr]]},{provide:sp,useValue:n||{}},{provide:Dc,useFactory:fp,deps:[Ic,[new Jn(Lc),new tr],sp]},{provide:op,useFactory:hp,deps:[Jd,Jc,sp]},{provide:np,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:rp},{provide:sc,multi:!0,useFactory:cp},[mp,{provide:Eu,multi:!0,useFactory:gp,deps:[mp]},{provide:vp,useFactory:yp,deps:[mp]},{provide:Au,multi:!0,useExisting:vp}]]}}static forChild(e){return{ngModule:t,providers:[pp(e)]}}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(hr(ap,8),hr(Jd,8))}}),t})();function hp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new op(t,e,n)}function fp(t,e,n={}){return n.useHash?new Mc(t,e):new Fc(t,e)}function dp(t){return"guarded"}function pp(t){return[{provide:Hn,multi:!0,useValue:t},{provide:Kd,multi:!0,useValue:t}]}let mp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new E}appInitializer(){return this.injector.get(kc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Jd),r=this.injector.get(sp);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Nl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(sp),n=this.injector.get(ip),r=this.injector.get(op),i=this.injector.get(Jd),o=this.injector.get(hc);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(hr(Jo))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();function gp(t){return t.appInitializer.bind(t)}function yp(t){return t.bootstrapListener.bind(t)}const vp=new qn("Router Initializer"),bp=n("Jgta");class _p{static init(t){return bp.default.initializeApp(t),[]}static getFirestore(){return bp.default.firestore()}static _getFirestore(){return bp.default.firestore}static getAuth(){return bp.default.auth()}static getStorage(){return bp.default.storage()}static getFirestoreTimestamp(){return bp.default.firestore.Timestamp.now()}}n("6nsN");class wp{constructor(){this.auth=_p.getAuth()}createAccountWith(t){return new Promise((e,n)=>{this.auth.createUserWithEmailAndPassword(t.email,t.password).then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(r){}n(e)})})}signInAnonymously(t){return new Promise((e,n)=>{this.auth.signInAnonymously().then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})})}signInWith(t){return new Promise((e,n)=>{t.provider?this.auth.signInWithPopup(this.getProvider(t.provider)).then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(r){}n(e)}):this.auth.signInWithEmailAndPassword(t.email,t.password).then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(r){}n(e)})})}getProvider(t){switch(t.toLowerCase()){case"google":return new bp.default.auth.GoogleAuthProvider;case"apple":return new bp.default.auth.OAuthProvider("apple.com");case"facebook":return new bp.default.auth.FacebookAuthProvider;case"yahoo":return new bp.default.auth.OAuthProvider("yahoo.com");case"github":return new bp.default.auth.GithubAuthProvider;case"twitter":return new bp.default.auth.TwitterAuthProvider;case"microsoft":return new bp.default.auth.OAuthProvider("microsoft.com")}}signOut(t){return new Promise((e,n)=>{t?this.auth.signOut().then(()=>{try{t.onComplete()}catch(n){}e()}).catch(()=>{try{t.onFail()}catch(e){}n(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(t){this.auth.onAuthStateChanged(e=>{t(e)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(t){console.error(t+" User must be signed in to use the sendVerificaitonEmail() function.")}}sendPasswordResetEmail(t){t.onComplete?this.auth.sendPasswordResetEmail(t.email).then(()=>t.onComplete(`Instructions to reset password was sent to ${t.email}.`)).catch(()=>t.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(t.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(t){console.error("User must be signed in to use the isEmailVerified() function. \n"+t)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(t){let e=this.getAuth().currentUser;try{t.whenChanged(e)}catch(n){}if(this.isSignedIn()){try{t.whenSignedIn(e)}catch(n){}if(this.isEmailVerified())try{t.whenSignedInAndEmailVerified(e)}catch(n){}else try{t.whenSignedInAndEmailNotVerified(e)}catch(n){}}else try{t.whenSignedOut(e)}catch(n){}}}function Sp(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Ep extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Tp extends Ep{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Ip=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Cp extends Ip{constructor(t,e=Ip.now){super(t,()=>Cp.delegate&&Cp.delegate!==this?Cp.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Cp.delegate&&Cp.delegate!==this?Cp.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const kp=new Cp(Tp);class Op{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new xp(t,this.dueTime,this.scheduler))}}class xp extends p{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ap,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ap(t){t.debouncedNext()}function Rp(t){return null!=t&&""+t!="false"}function Np(t){return Array.isArray(t)?t:[t]}function Pp(t){return null==t?"":"string"==typeof t?t:t+"px"}function Dp(t){return t instanceof ua?t.nativeElement:t}let jp;try{jp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_w){jp=!1}let Lp,Fp,Mp,Up=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(hr(xu))},t.\u0275prov=ut({factory:function(){return new t(hr(xu))},token:t,providedIn:"root"}),t})(),Vp=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})();function Bp(t){return function(){if(null==Lp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lp=!0}))}finally{Lp=Lp||!1}return Lp}()?t:!!t.capture}function qp(){if(null==Fp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fp=!1,Fp;if("scrollBehavior"in document.documentElement.style)Fp=!0;else{const t=Element.prototype.scrollTo;Fp=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Fp}let Hp=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(_w){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Kp(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Kp(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||zp(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(hr(Up))},t.\u0275prov=ut({factory:function(){return new t(hr(Up))},token:t,providedIn:"root"}),t})();function zp(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Kp(t){if(!zp(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Gp{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Xl(1)).subscribe(t)}}let Wp=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Gp(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(hr(Hp),hr(zu),hr(Tc))},t.\u0275prov=ut({factory:function(){return new t(hr(Hp),hr(zu),hr(Tc))},token:t,providedIn:"root"}),t})();function $p(t){return 0===t.buttons}function Qp(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const Xp=new qn("cdk-focus-monitor-default-options"),Yp=Bp({passive:!0,capture:!0});let Zp=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=$p(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{Qp(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Jp(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Jp(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Dp(t);if(!this._platform.isBrowser||1!==n.nodeType)return Nl(null);const r=function(t){if(function(){if(null==Mp){const t="undefined"!=typeof document?document.head:null;Mp=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Mp}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new E,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=Dp(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Dp(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Jp(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Jp(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Yp),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Yp)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Yp),t.addEventListener("mousedown",this._documentMousedownListener,Yp),t.addEventListener("touchstart",this._documentTouchstartListener,Yp),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Yp),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Yp),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Yp),t.removeEventListener("mousedown",this._documentMousedownListener,Yp),t.removeEventListener("touchstart",this._documentTouchstartListener,Yp),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(hr(zu),hr(Up),hr(Tc,8),hr(Xp,8))},t.\u0275prov=ut({factory:function(){return new t(hr(zu),hr(Up),hr(Tc,8),hr(Xp,8))},token:t,providedIn:"root"}),t})();function Jp(t){return t.composedPath?t.composedPath()[0]:t.target}const tm="cdk-high-contrast-black-on-white",em="cdk-high-contrast-white-on-black",nm="cdk-high-contrast-active";let rm=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(nm),t.remove(tm),t.remove(em);const e=this.getHighContrastMode();1===e?(t.add(nm),t.add(tm)):2===e&&(t.add(nm),t.add(em))}}}return t.\u0275fac=function(e){return new(e||t)(hr(Up),hr(Tc))},t.\u0275prov=ut({factory:function(){return new t(hr(Up),hr(Tc))},token:t,providedIn:"root"}),t})();const im=new qn("cdk-dir-doc",{providedIn:"root",factory:function(){return fr(Tc)}});let om=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new su,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(hr(im,8))},t.\u0275prov=ut({factory:function(){return new t(hr(im,8))},token:t,providedIn:"root"}),t})(),sm=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})();const am=new da("11.2.13");class um{}const cm="*";function lm(t,e){return{type:7,name:t,definitions:e,options:{}}}function hm(t,e=null){return{type:4,styles:e,timings:t}}function fm(t,e=null){return{type:2,steps:t,options:e}}function dm(t){return{type:6,styles:t,offset:null}}function pm(t,e,n){return{type:0,name:t,styles:e,options:n}}function mm(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function gm(t){Promise.resolve(null).then(t)}class ym{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class vm{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?gm(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function bm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _m(t){switch(t.length){case 0:return new ym;case 1:return t[0];default:return new vm(t)}}function wm(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case cm:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Sm(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Em(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Em(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Em(n,"destroy",t)))}}function Em(t,e,n){const r=n.totalTime,i=Tm(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Tm(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Im(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Cm(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let km=(t,e)=>!1,Om=(t,e)=>!1,xm=(t,e,n)=>[];const Am=bm();(Am||"undefined"!=typeof Element)&&(km=(t,e)=>t.contains(e),Om=(()=>{if(Am||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Om}})(),xm=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Rm=null,Nm=!1;function Pm(t){Rm||(Rm=("undefined"!=typeof document?document.body:null)||{},Nm=!!Rm.style&&"WebkitAppearance"in Rm.style);let e=!0;return Rm.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Rm.style,!e&&Nm)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Rm.style),e}const Dm=Om,jm=km,Lm=xm;function Fm(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Mm=(()=>{class t{validateStyleProperty(t){return Pm(t)}matchesElement(t,e){return Dm(t,e)}containsElement(t,e){return jm(t,e)}query(t,e,n){return Lm(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new ym(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Um=(()=>{class t{}return t.NOOP=new Mm,t})();const Vm="ng-enter",Bm="ng-leave",qm="ng-trigger",Hm=".ng-trigger",zm="ng-animating",Km=".ng-animating";function Gm(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Wm(parseFloat(e[1]),e[2])}function Wm(t,e){switch(e){case"s":return 1e3*t;default:return t}}function $m(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Wm(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Wm(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Qm(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Xm(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Qm(t,n);return n}function Ym(t,e,n){return n?e+":"+n+";":""}function Zm(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Ym(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ym(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Jm(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ag(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),bm()&&Zm(t))}function tg(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ag(e);t.style[n]=""}),bm()&&Zm(t))}function eg(t){return Array.isArray(t)?1==t.length?t[0]:fm(t):t}const ng=new RegExp("{{\\s*(.+?)\\s*}}","g");function rg(t){let e=[];if("string"==typeof t){let n;for(;n=ng.exec(t);)e.push(n[1]);ng.lastIndex=0}return e}function ig(t,e,n){const r=t.toString(),i=r.replace(ng,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function og(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const sg=/-+([a-z0-9])/g;function ag(t){return t.replace(sg,(...t)=>t[1].toUpperCase())}function ug(t,e){return 0===t||0===e}function cg(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=hg(t,e)})}}return e}function lg(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function hg(t,e){return window.getComputedStyle(t)[e]}const fg="*";function dg(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(gg(i,s)),"<"!=o[0]||i==fg&&s==fg||e.push(gg(s,i))}(t,n,e)):n.push(t),n}const pg=new Set(["true","1"]),mg=new Set(["false","0"]);function gg(t,e){const n=pg.has(t)||mg.has(t),r=pg.has(e)||mg.has(e);return(i,o)=>{let s=t==fg||t==i,a=e==fg||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?pg.has(t):mg.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?pg.has(e):mg.has(e)),s&&a}}const yg=new RegExp("s*:selfs*,?","g");function vg(t,e,n){return new bg(t).build(e,n)}class bg{constructor(t){this._driver=t}build(t,e){const n=new _g(e);return this._resetContextStyleTimingState(n),lg(this,eg(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(wg(t)){const e=t;Object.keys(e).forEach(t=>{rg(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=og(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=lg(this,eg(t.animation),e);return{type:1,matchers:dg(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Sg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>lg(this,t,e)),options:Sg(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=lg(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Sg(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Eg($m(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Eg(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||$m(r,e),Eg(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:dm({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=dm(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==cm?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(wg(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=rg(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(wg(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(wg(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=f+d.delay+s,d.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:lg(this,eg(t.animation),e),options:Sg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Sg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Sg(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(yg,"")),[t=t.replace(/@\*/g,Hm).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Km),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Im(e.collectedStyles,e.currentQuerySelector,{});const s=lg(this,eg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Sg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:$m(t.timings,e.errors,!0);return{type:12,animation:lg(this,eg(t.animation),e),timings:n,options:null}}}class _g{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function wg(t){return!Array.isArray(t)&&"object"==typeof t}function Sg(t){var e;return t?(t=Qm(t)).params&&(t.params=(e=t.params)?Qm(e):null):t={},t}function Eg(t,e,n){return{duration:t,delay:e,easing:n}}function Tg(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Ig{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Cg=new RegExp(":enter","g"),kg=new RegExp(":leave","g");function Og(t,e,n,r,i,o={},s={},a,u,c=[]){return(new xg).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class xg{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new Ig;const l=new Rg(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),lg(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Tg(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Gm(n.duration):null,o=null!=n.delay?Gm(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),lg(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ag);const t=Gm(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>lg(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Gm(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),lg(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return $m(e.params?ig(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Gm(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ag);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),lg(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;lg(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Ag={};class Rg{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ag,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ng(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Gm(n.duration)),null!=n.delay&&(r.delay=Gm(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ig(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Rg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Ag,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Pg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Cg,"."+this._enterClassName)).replace(kg,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Ng{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ng(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||cm,this._currentKeyframe[t]=cm}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=cm})):Xm(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=ig(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:cm),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Xm(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==cm&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?og(t.values()):[],o=e.size?og(e.values()):[];if(n){const t=r[0],e=Qm(t);t.offset=0,e.offset=1,r=[t,e]}return Tg(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Pg extends Ng{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=Xm(t[0],!1);a.offset=0,i.push(a);const u=Xm(t[0],!1);u.offset=Dg(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=Xm(t[r],!1);s.offset=Dg((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return Tg(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Dg(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class jg{}class Lg extends jg{normalizePropertyName(t,e){return ag(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(Fg[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const Fg=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Mg(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Ug={};class Vg{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Ug,f=this.buildStyles(n,s&&s.params||Ug,l),d=a&&a.params||Ug,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:Og(t,e,this.ast.animation,i,o,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Mg(e,this._triggerName,n,r,v,f,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Im(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Im(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=og(m.values());return Mg(e,this._triggerName,n,r,v,f,p,_,S,g,y,w)}}class Bg{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Qm(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=ig(o,r,e)),n[t]=o})}}),n}}class qg{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Bg(t.style,t.options&&t.options.params||{})}),Hg(this.states,"true","1"),Hg(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Vg(t,e,this.states))}),this.fallbackTransition=new Vg(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Hg(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const zg=new Ig;class Kg{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=vg(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=wm(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Og(this._driver,e,i,Vm,Bm,{},{},n,zg,r),o.forEach(t=>{const e=Im(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,cm)})});const a=_m(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Tm(e,"","","");return Sm(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Gg="ng-animate-queued",Wg="ng-animate-disabled",$g=".ng-animate-disabled",Qg=[],Xg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Zg{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Qm(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Jg="void",ty=new Zg(Jg);class ey{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,uy(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Im(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Im(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(uy(t,qm),uy(t,"ng-trigger-"+e),a[e]=ty),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new ry(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(uy(t,qm),uy(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new Zg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=ty),u.value!==Jg&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{tg(t,n),Jm(t,r)})}return}const c=Im(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(uy(t,Gg),o.onStart(()=>{cy(t,Gg)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Hm,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Jg,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&_m(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||ty,s=new Zg(Jg),a=new ry(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Xg||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){uy(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Tm(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Sm(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ny{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ey(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(iy(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!iy(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),uy(t,Wg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cy(t,Wg))}removeNode(t,e,n,r){if(iy(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return iy(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Hm,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Km,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _m(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Xg,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,$g)&&this.markElementAsDisabled(t,!1),this.driver.query(t,$g,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)uy(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?_m(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Ig,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=ay(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=Vm+p++;d.set(e,n),t.forEach(t=>uy(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=ay(h,Array.from(g));b.forEach((t,e)=>{const n=Bm+p++;v.set(e,n),t.forEach(t=>uy(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>cy(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>cy(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>tg(i,p.fromStyles)),e.onDestroy(()=>Jm(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>tg(i,p.fromStyles)),e.onDestroy(()=>Jm(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Im(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Im(S,e,[]).push(t),t.destroy()})});const T=m.filter(t=>fy(t,a,u)),I=new Map;sy(I,this.driver,y,u,cm).forEach(t=>{fy(t,a,u)&&T.push(t)});const C=new Map;f.forEach((t,e)=>{sy(C,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=I.get(t),n=C.get(t);I.set(t,Object.assign(Object.assign({},e),n))});const k=[],O=[],x={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>Jm(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=x;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,S,i,C,I);if(o.setRealPlayer(n),t===x)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=_m(e)),r.push(o)}}else tg(e,s.fromStyles),o.onDestroy(()=>Jm(e,s.toStyles)),O.push(o),c.has(e)&&r.push(o)}),O.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=_m(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(cy(t,Bm),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Km,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ly(this,t,r):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Jg;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=Im(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}tg(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new ym(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return hy(t,e),e}((n.get(h)||Qg).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=wm(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new ry(t,s,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Im(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>uy(t,zm));const f=_m(h);return f.onDestroy(()=>{c.forEach(t=>cy(t,zm)),Jm(a,e.toStyles)}),l.forEach(t=>{Im(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ym(t.duration,t.delay)}}class ry{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ym,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Sm(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Im(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function iy(t){return t&&1===t.nodeType}function oy(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function sy(t,e,n,r,i){const o=[];n.forEach(t=>o.push(oy(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Yg,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>oy(t,o[a++])),s}function ay(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function uy(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function cy(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ly(t,e,n){_m(n).onDone(()=>t.processLeaveNode(e))}function hy(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof vm?hy(r.players,e):e.push(r)}}function fy(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class dy{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ny(t,e,n),this._timelineEngine=new Kg(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=vg(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new qg(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Cm(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Cm(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function py(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=gy(e[0]),e.length>1&&(r=gy(e[e.length-1]))):e&&(n=gy(e)),n||r?new my(t,n,r):null}let my=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Jm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jm(this._element,this._initialStyles),this._endStyles&&(Jm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(tg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tg(this._element,this._endStyles),this._endStyles=null),Jm(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function gy(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];yy(i)&&(e=e||{},e[i]=t[i])}return e}function yy(t){return"display"===t||"position"===t}const vy="animation",by="animationend";class _y{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Cy(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Iy(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ty(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wy(this._element,this._name,"paused")}resume(){wy(this._element,this._name,"running")}setPosition(t){const e=Sy(this._element,this._name);this._position=t*this._duration,Iy(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ty(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Cy(t,"").split(","),r=Ey(n,e);r>=0&&(n.splice(r,1),Iy(t,"",n.join(",")))}(this._element,this._name))}}function wy(t,e,n){Iy(t,"PlayState",n,Sy(t,e))}function Sy(t,e){const n=Cy(t,"");return n.indexOf(",")>0?Ey(n.split(","),e):Ey([n],e)}function Ey(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ty(t,e,n){n?t.removeEventListener(by,e):t.addEventListener(by,e)}function Iy(t,e,n,r){const i=vy+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Cy(t,e){return t.style[vy+e]||""}class ky{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new _y(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:hg(this.element,n))})}this.currentSnapshot=t}}class Oy extends ym{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Fm(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class xy{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Pm(t)}matchesElement(t,e){return Dm(t,e)}containsElement(t,e){return jm(t,e)}query(t,e,n){return Lm(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Fm(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof ky),u={};ug(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=cg(t,e,u));if(0==n)return new Oy(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=py(t,e),d=new ky(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class Ay{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:hg(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ry{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ny().toString()),this._cssKeyframesDriver=new xy}validateStyleProperty(t){return Pm(t)}matchesElement(t,e){return Dm(t,e)}containsElement(t,e){return jm(t,e)}query(t,e,n){return Lm(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof Ay);ug(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=py(t,e=cg(t,e=e.map(t=>Xm(t,!1)),u));return new Ay(t,e,a,l)}}function Ny(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Py=(()=>{class t extends um{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Et.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?fm(t):t;return Ly(this._renderer,null,e,"register",[n]),new Dy(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(hr(ca),hr(Tc))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Dy extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new jy(this._id,t,e||{},this._renderer)}}class jy{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ly(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ly(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Fy="@",My="@.disabled";let Uy=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Vy("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new By(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(hr(ca),hr(dy),hr(zu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();class Vy{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Fy&&e==My?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class By extends Vy{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Fy?"."==e.charAt(1)&&e==My?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Fy){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=Fy&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let qy=(()=>{class t extends dy{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc),hr(Um),hr(jg))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const Hy=new qn("AnimationModuleType"),zy=[{provide:Um,useFactory:function(){return"function"==typeof Ny()?new Ry:new xy}},{provide:Hy,useValue:"BrowserAnimations"},{provide:um,useClass:Py},{provide:jg,useFactory:function(){return new Lg}},{provide:dy,useClass:qy},{provide:ca,useFactory:function(t,e,n){return new Uy(t,e,n)},deps:[yl,dy,zu]}];let Ky=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:zy,imports:[Rl]}),t})(),Gy=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),Wy=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const $y=new da("11.2.13"),Qy=new qn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Xy,Yy=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return ic()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&$y.full!==am.full&&console.warn("The Angular Material version ("+$y.full+") does not match the Angular CDK version ("+am.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(hr(rm),hr(Qy,8),hr(Tc))},imports:[[sm],sm]}),t})();function Zy(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Rp(t)}}}function Jy(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function tv(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Rp(t)}}}try{Xy="undefined"!=typeof Intl}catch(_w){Xy=!1}class ev{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const nv={enterDuration:450,exitDuration:400},rv=Bp({passive:!0}),iv=["mousedown","touchstart"],ov=["mouseup","mouseleave","touchend","touchcancel"];class sv{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Dp(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},nv),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-o+"px",c.style.top=a-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=u+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new ev(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},nv),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Dp(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(iv))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ov),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=$p(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Qp(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,rv)})})}_removeTriggerEvents(){this._triggerElement&&(iv.forEach(t=>{this._triggerElement.removeEventListener(t,this,rv)}),this._pointerUpEventsRegistered&&ov.forEach(t=>{this._triggerElement.removeEventListener(t,this,rv)}))}}const av=new qn("mat-ripple-global-options");let uv=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new sv(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(gs(ua),gs(zu),gs(Up),gs(av,8),gs(Hy,8))},t.\u0275dir=Kt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&Ms("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),cv=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[Yy,Vp],Yy]}),t})();const lv=["mat-button",""],hv=["*"],fv=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class dv{constructor(t){this._elementRef=t}}const pv=Jy(Zy(tv(dv)));let mv=(()=>{class t extends pv{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of fv)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(gs(ua),gs(Zp),gs(Hy,8))},t.\u0275cmp=Ut({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&(n=uv,!0,_u(Oe(),ke(),n,true,undefined,!1)),2&t){let t;vu(t=wu())&&(e.ripple=t.first)}var n},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(fs("disabled",e.disabled||null),Ms("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[es],attrs:lv,ngContentSelectors:hv,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Rs(),bs(0,"span",0),Ns(1),_s(),ws(2,"span",1),ws(3,"span",2)),2&t&&(qi(2),Ms("mat-button-ripple-round",e.isRoundButton||e.isIconButton),ys("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[uv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),gv=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[cv,Yy],Yy]}),t})(),yv=(()=>{class t{constructor(t){this.router=t,this.auth=new wp}ngOnInit(){this.auth.isSignedIn()&&!this.auth.getAuth().currentUser.emailVerified?this.auth.sendVerificationEmail():this.router.navigate([""])}onResendClick(){this.auth.sendVerificationEmail()}}return t.\u0275fac=function(e){return new(e||t)(gs(Jd))},t.\u0275cmp=Ut({type:t,selectors:[["app-email-verification"]],decls:5,vars:0,consts:[["id","email-verification"],["mat-flat-button","",3,"click"]],template:function(t,e){1&t&&(bs(0,"div",0),bs(1,"h1"),Hs(2,"Your Email is Not Verified"),_s(),bs(3,"button",1),Ts("click",function(){return e.onResendClick()}),Hs(4,"Resend Verification Email"),_s(),_s())},directives:[mv],styles:["#email-verification[_ngcontent-%COMP%]{text-align:center;margin-top:8em}"]}),t})();function vv(t,e,n,i){return r(n)&&(i=n,n=void 0),i?vv(t,e,n).pipe(C(t=>u(t)?i(...t):i(t))):new v(r=>{bv(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function bv(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)bv(t[o],e,n,r,i)}r.add(o)}class _v{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new wv(t,this.durationSelector))}}class wv extends M{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=U(n,new F(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Sv(t){return!u(t)&&t-parseFloat(t)+1>=0}function Ev(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Tv(t,e=kp){return n=()=>function(t=0,e,n){let r=-1;return Sv(e)?r=Number(e)<1?1:Number(e):I(e)&&(n=e),I(n)||(n=kp),new v(e=>{const i=Sv(t)?t:+t-n.now();return n.schedule(Ev,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new _v(n))};var n}function Iv(t){return e=>e.lift(new Cv(t))}class Cv{constructor(t){this.notifier=t}call(t,e){const n=new kv(t),r=U(this.notifier,new F(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class kv extends M{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Ov=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new v(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Tv(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Nl()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(rh(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Dp(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(hr(zu),hr(Up),hr(Tc,8))},t.\u0275prov=ut({factory:function(){return new t(hr(zu),hr(Up),hr(Tc,8))},token:t,providedIn:"root"}),t})(),xv=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new E,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Tv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(hr(Up),hr(zu),hr(Tc,8))},t.\u0275prov=ut({factory:function(){return new t(hr(Up),hr(zu),hr(Tc,8))},token:t,providedIn:"root"}),t})(),Av=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})(),Rv=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[sm,Vp,Av],sm,Av]}),t})();class Nv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Pv extends Nv{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Dv extends Nv{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class jv extends Nv{constructor(t){super(),this.element=t instanceof ua?t.nativeElement:t}}class Lv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Pv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Dv?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof jv?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Fv extends Lv{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Mv=(()=>{class t extends Lv{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new su,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(gs(ia),gs(Ha),gs(Tc))},t.\u0275dir=Kt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[es]}),t})(),Uv=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})();const Vv=qp();class Bv{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Pp(-this._previousScrollPosition.left),t.style.top=Pp(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Vv&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Vv&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class qv{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Hv{enable(){}disable(){}attach(){}}function zv(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Kv(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Gv{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();zv(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Wv=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Hv,this.close=t=>new qv(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Bv(this._viewportRuler,this._document),this.reposition=t=>new Gv(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(hr(Ov),hr(xv),hr(zu),hr(Tc))},t.\u0275prov=ut({factory:function(){return new t(hr(Ov),hr(xv),hr(zu),hr(Tc))},token:t,providedIn:"root"}),t})();class $v{constructor(t){if(this.scrollStrategy=new Hv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Qv{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Xv{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Yv=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc))},t.\u0275prov=ut({factory:function(){return new t(hr(Tc))},token:t,providedIn:"root"}),t})(),Zv=(()=>{class t extends Yv{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc))},t.\u0275prov=ut({factory:function(){return new t(hr(Tc))},token:t,providedIn:"root"}),t})(),Jv=(()=>{class t extends Yv{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc),hr(Up))},t.\u0275prov=ut({factory:function(){return new t(hr(Tc),hr(Up))},token:t,providedIn:"root"}),t})();const tb=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let eb=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||tb){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),tb?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(hr(Tc),hr(Up))},t.\u0275prov=ut({factory:function(){return new t(hr(Tc),hr(Up))},token:t,providedIn:"root"}),t})();class nb{constructor(t,e,n,r,i,o,s,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new E,this._attachments=new E,this._detachments=new E,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new E,this._outsidePointerEvents=new E,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Pp(this._config.width),t.height=Pp(this._config.height),t.minWidth=Pp(this._config.minWidth),t.minHeight=Pp(this._config.minHeight),t.maxWidth=Pp(this._config.maxWidth),t.maxHeight=Pp(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Np(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Iv(K(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const rb="cdk-overlay-connected-position-bounding-box",ib=/([A-Za-z%]+)$/;class ob{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(rb),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),u=this._getOverlayFit(a,e,n,o);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=ub(e);let{x:o,y:s}=t,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(o+=a),u&&(s+=u);let c=0-s,l=s+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),f=this._subtractOverflows(i.height,c,l),d=h*f;return{visibleArea:d,isCompletelyWithinViewport:i.width*i.height===d,fitsInViewportVertically:f===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=ab(this._overlayRef.getConfig().minHeight),s=ab(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=ub(e),i=this._viewportRect,o=Math.max(t.x+r.width-i.width,0),s=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=r.width<=i.width?u||-o:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Xv(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,u,c;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:o,left:u,bottom:s,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Pp(n.height),r.top=Pp(n.top),r.bottom=Pp(n.bottom),r.width=Pp(n.width),r.left=Pp(n.left),r.right=Pp(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Pp(t)),i&&(r.maxWidth=Pp(i))}this._lastBoundingBoxSize=n,sb(this._boundingBox.style,r)}_resetBoundingBoxStyles(){sb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();sb(n,this._getExactOverlayY(e,t,r)),sb(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),u&&(s+=`translateY(${u}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=Pp(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Pp(o.maxWidth):i&&(n.maxWidth="")),sb(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Pp(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Pp(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Kv(t,n),isOriginOutsideView:zv(t,n),isOverlayClipped:Kv(e,n),isOverlayOutsideView:zv(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Np(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ua)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function sb(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ab(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(ib);return n&&"px"!==n?null:parseFloat(e)}return t||null}function ub(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class cb{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new ob(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Qv(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const lb="cdk-global-overlay-wrapper";class hb{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(lb),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(lb),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let fb=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new hb}connectedTo(t,e,n){return new cb(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new ob(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(hr(xv),hr(Tc),hr(Up),hr(eb))},t.\u0275prov=ut({factory:function(){return new t(hr(xv),hr(Tc),hr(Up),hr(eb))},token:t,providedIn:"root"}),t})(),db=0,pb=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new $v(t);return i.direction=i.direction||this._directionality.value,new nb(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+db++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(hc)),new Fv(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(hr(Wv),hr(eb),hr(ia),hr(fb),hr(Zv),hr(Jo),hr(zu),hr(Tc),hr(om),hr(Uc),hr(Jv))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const mb={provide:new qn("cdk-connected-overlay-scroll-strategy"),deps:[pb],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let gb=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[pb,mb],imports:[[sm,Uv,Rv],Rv]}),t})();class yb{constructor(t){this.total=t}call(t,e){return e.subscribe(new vb(t,this.total))}}class vb extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const bb=new Set;let _b,wb=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Sb}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!bb.has(t))try{_b||(_b=document.createElement("style"),_b.setAttribute("type","text/css"),document.head.appendChild(_b)),_b.sheet&&(_b.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),bb.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(hr(Up))},t.\u0275prov=ut({factory:function(){return new t(hr(Up))},token:t,providedIn:"root"}),t})();function Sb(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Eb=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new E}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Tb(Np(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Ml(Tb(Np(t)).map(t=>this._registerQuery(t).observable));return e=ql(e.pipe(Xl(1)),e.pipe(t=>t.lift(new yb(1)),function(t,e=kp){return n=>n.lift(new Op(t,e))}(0))),e.pipe(C(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new v(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Jl(e),C(({matches:e})=>({query:t,matches:e})),Iv(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(hr(wb),hr(zu))},t.\u0275prov=ut({factory:function(){return new t(hr(wb),hr(zu))},token:t,providedIn:"root"}),t})();function Tb(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const Ib="(min-width: 960px) and (max-width: 1279.98px)",Cb="(min-width: 1280px) and (max-width: 1919.98px)",kb="(min-width: 1920px)";function Ob(t,e){}const xb=new qn("MatBottomSheetData");class Ab{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const Rb={bottomSheetState:lm("state",[pm("void, hidden",dm({transform:"translateY(100%)"})),pm("visible",dm({transform:"translateY(0%)"})),mm("visible => void, visible => hidden",hm(`${Wy.COMPLEX} ${Gy.ACCELERATION_CURVE}`)),mm("void => visible",hm(`${Wy.EXITING} ${Gy.DECELERATION_CURVE}`))])};let Nb=(()=>{class t extends Lv{constructor(t,e,n,r,i,o){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=o,this._animationState="void",this._animationStateChanged=new su,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=i,this._breakpointSubscription=r.observe([Ib,Cb,kb]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",r.isMatched(Ib)),this._toggleClass("mat-bottom-sheet-container-large",r.isMatched(Cb)),this._toggleClass("mat-bottom-sheet-container-xlarge",r.isMatched(kb))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._getActiveElement();e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._getActiveElement(),this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(gs(ua),gs(Ra),gs(Wp),gs(Eb),gs(Tc,8),gs(Ab))},t.\u0275cmp=Ut({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){if(1&t&&bu(Mv,!0),2&t){let t;vu(t=wu())&&(e._portalOutlet=t.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&Is("@state.start",function(t){return e._onAnimationStart(t)})("@state.done",function(t){return e._onAnimationDone(t)}),2&t&&(fs("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),Ws("@state",e._animationState))},features:[es],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&ps(0,Ob,0,0,"ng-template",0)},directives:[Mv],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[Rb.bottomSheetState]}}),t})(),Pb=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[gb,Yy,Uv],Yy]}),t})();class Db{constructor(t,e){this._overlayRef=e,this._afterDismissed=new E,this._afterOpened=new E,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(rh(t=>"done"===t.phaseName&&"visible"===t.toState),Xl(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(rh(t=>"done"===t.phaseName&&"hidden"===t.toState),Xl(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Xl(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),K(e.backdropClick(),e.keydownEvents().pipe(rh(t=>27===t.keyCode))).subscribe(t=>{this.disableClose||"keydown"===t.type&&Sp(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(rh(t=>"start"===t.phaseName),Xl(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const jb=new qn("mat-bottom-sheet-default-options");let Lb=(()=>{class t{constructor(t,e,n,r){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._defaultOptions=r,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new Ab,e),r=this._createOverlay(n),i=this._attachContainer(r,n),o=new Db(i,r);if(t instanceof La)i.attachTemplatePortal(new Dv(t,null,{$implicit:n.data,bottomSheetRef:o}));else{const e=new Pv(t,void 0,this._createInjector(n,o)),r=i.attachComponentPortal(e);o.instance=r.instance}return o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const n=Jo.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Ab,useValue:e}]}),r=new Pv(Nb,e.viewContainerRef,n);return t.attach(r).instance}_createOverlay(t){const e=new $v({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:Db,useValue:e},{provide:xb,useValue:t.data}];return!t.direction||n&&n.get(om,null)||r.push({provide:om,useValue:{value:t.direction,change:Nl()}}),Jo.create({parent:n||this._injector,providers:r})}}return t.\u0275fac=function(e){return new(e||t)(hr(pb),hr(Jo),hr(t,12),hr(jb,8))},t.\u0275prov=ut({factory:function(){return new t(hr(pb),hr(Mo),hr(t,12),hr(jb,8))},token:t,providedIn:Pb}),t})();const Fb=["*",[["mat-card-footer"]]],Mb=["*","mat-card-footer"],Ub=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Vb=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Bb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),qb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),Hb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),zb=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&Ms("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),Kb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),Gb=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(gs(Hy,8))},t.\u0275cmp=Ut({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&Ms("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:Mb,decls:2,vars:0,template:function(t,e){1&t&&(Rs(Fb),Ns(0),Ns(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),Wb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Vb,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(Rs(Ub),Ns(0),bs(1,"div",0),Ns(2,1),_s(),Ns(3,2))},encapsulation:2,changeDetection:0}),t})(),$b=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[Yy],Yy]}),t})();function Qb(t,e){if(1&t){const t=Ss();bs(0,"div"),ws(1,"input",5,6),ws(3,"input",7,8),bs(5,"button",9),Ts("click",function(){xe(t);const e=ms(2),n=ms(4);return xs().onLogin(e,n)}),Hs(6,"Login"),_s(),_s()}}function Xb(t,e){if(1&t){const t=Ss();bs(0,"div"),ws(1,"input",5,10),ws(3,"input",7,11),ws(5,"input",12,13),bs(7,"button",9),Ts("click",function(){xe(t);const e=ms(2),n=ms(4),r=ms(6);return xs().onRegisterClick(e,n,r)}),Hs(8,"Create"),_s(),_s()}}function Yb(t,e){if(1&t){const t=Ss();bs(0,"div"),ws(1,"input",5,14),bs(3,"button",9),Ts("click",function(){xe(t);const e=ms(2);return xs().onResetClick(e)}),Hs(4,"Reset"),_s(),_s()}}let Zb=(()=>{class t{constructor(t){this.bottomSheetRef=t,this.state=Jb.LOGIN,this.firebasetsAuth=new wp}ngOnInit(){}onResetClick(t){let e=t.value;this.isNotEmpty(e)&&this.firebasetsAuth.sendPasswordResetEmail({email:e,onComplete:t=>{this.bottomSheetRef.dismiss()}})}onLogin(t,e){let n=t.value,r=e.value;console.log(r),this.isNotEmpty(n)&&this.isNotEmpty(r)&&this.firebasetsAuth.signInWith({email:n,password:r,onComplete:t=>{this.bottomSheetRef.dismiss()},onFail:t=>{alert(t)}})}onRegisterClick(t,e,n){let r=t.value,i=e.value,o=n.value;this.isNotEmpty(r)&&this.isNotEmpty(i)&&this.isNotEmpty(o)&&this.isAMatch(i,o)&&this.firebasetsAuth.createAccountWith({email:r,password:i,onComplete:t=>{this.bottomSheetRef.dismiss()},onFail:t=>{alert("Failed to create the account.")}})}isNotEmpty(t){return null!=t&&t.length>0}isAMatch(t,e){return t==e}onForgotPasswordClick(){this.state=Jb.FORGOT_PASSWORD}onCreateAccountClick(){this.state=Jb.REGISTER}onLoginClick(){this.state=Jb.LOGIN}isLoginState(){return this.state==Jb.LOGIN}isRegisterState(){return this.state==Jb.REGISTER}isForgotPasswordState(){return this.state==Jb.FORGOT_PASSWORD}getStateText(){switch(this.state){case Jb.LOGIN:return"Login";case Jb.REGISTER:return"Register";case Jb.FORGOT_PASSWORD:return"Forgot Password"}}}return t.\u0275fac=function(e){return new(e||t)(gs(Db))},t.\u0275cmp=Ut({type:t,selectors:[["app-authenticator"]],decls:15,vars:4,consts:[["id","authenticator"],["id","authenticator-content"],[4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["placeholder","Email"],["loginEmail",""],["placeholder","Password","type","password"],["loginPassword",""],["mat-flat-button","","color","warn",3,"click"],["registerEmail",""],["registerPassword",""],["placeholder","Confirm Password","type","password"],["registerConfirmPassword",""],["resetEmail",""]],template:function(t,e){1&t&&(bs(0,"div",0),bs(1,"mat-card",1),bs(2,"mat-card-header"),bs(3,"mat-card-title"),Hs(4),_s(),_s(),ps(5,Qb,7,0,"div",2),ps(6,Xb,9,0,"div",2),ps(7,Yb,5,0,"div",2),bs(8,"mat-card-actions",3),bs(9,"button",4),Ts("click",function(){return e.onForgotPasswordClick()}),Hs(10,"Forgot Password"),_s(),bs(11,"button",4),Ts("click",function(){return e.onCreateAccountClick()}),Hs(12,"Create an Account"),_s(),bs(13,"button",4),Ts("click",function(){return e.onLoginClick()}),Hs(14,"Login"),_s(),_s(),_s(),_s()),2&t&&(qi(4),zs(e.getStateText()),qi(1),ys("ngIf",e.isLoginState()),qi(1),ys("ngIf",e.isRegisterState()),qi(1),ys("ngIf",e.isForgotPasswordState()))},directives:[Gb,Wb,qb,Qc,zb,mv],styles:["#authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid rgba(15,15,15,.3);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]}),t})();var Jb=function(t){return t[t.LOGIN=0]="LOGIN",t[t.REGISTER=1]="REGISTER",t[t.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",t}({});let t_=(()=>{class t{constructor(t){this.loginSheet=t}ngOnInit(){}onGetStartedClick(){this.loginSheet.open(Zb)}}return t.\u0275fac=function(e){return new(e||t)(gs(Lb))},t.\u0275cmp=Ut({type:t,selectors:[["app-home"]],decls:12,vars:0,consts:[["id","home-page"],["id","home-page-landing"],["id","landing-left"],["id","landing-right"],["id","landing-right-content"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(bs(0,"div",0),bs(1,"div",1),ws(2,"div",2),bs(3,"div",3),bs(4,"div",4),bs(5,"h1"),Hs(6,"Social Media App Platform"),_s(),bs(7,"p"),Hs(8," Share your favorite stories! #Codeible "),_s(),bs(9,"button",5),Ts("click",function(){return e.onGetStartedClick()}),Hs(10,"Get Started"),_s(),_s(),_s(),ws(11,"div"),_s(),_s())},directives:[mv],styles:["#home-page[_ngcontent-%COMP%], #home-page-landing[_ngcontent-%COMP%]{width:100%;height:100%}#home-page-landing[_ngcontent-%COMP%]{background-image:url(home_page.9d5aeb0bafdc9622a359.jpg);background-size:cover;background-position:50%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:800px}#landing-right[_ngcontent-%COMP%]{display:flex;color:#fff;align-items:center}#landing-right-content[_ngcontent-%COMP%]{text-align:left;padding:1em 1em 1em 3em}#landing-right-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4em}#landing-right-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2em}#landing-right-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:2em;padding:.5em}"]}),t})();n("5x/H");class e_{constructor(){this.listeners=new Map}appendArray(t){return _p._getFirestore().FieldValue.arrayUnion(t)}increment(t){return _p._getFirestore().FieldValue.increment(t)}genDocId(){return _p.getFirestore().collection("TEMP").doc().id}all(t){const e=_p.getFirestore().batch();for(let n of t.operations)n.getOperation(e);return new Promise((n,r)=>{e.commit().then(()=>{try{t.onComplete()}catch(e){}n()}).catch(e=>{try{t.onFail(e)}catch(n){}r(e)})})}create(t){return new Promise((e,n)=>{if(null==t.data||null==t.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(t.path)){let r=this.genCollectionReference(t.path).doc();r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch(n){}e(r.id)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})}else if(this.isDocumentPath(t.path)){let r=this.genDocumentReference(t.path);r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch(n){}e(r.id)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})}})}delete(t){return new Promise((e,n)=>{this.checkDocumentPathValidity(t.path),this.genDocumentReference(t.path).delete().then(()=>{try{t.onComplete()}catch(n){}e()}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})})}update(t){return new Promise((e,n)=>{this.checkDocumentPathValidity(t.path);const r=this.genDocumentReference(t.path);r.update(t.data).then(()=>{try{t.onComplete(r)}catch(n){}e(r)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})})}getCollection(t){let e=this.genCollectionReference(t.path);return new Promise((null!=t.where||null!=t.where)&&t.where.length>0?(n,r)=>{let i=void 0;const o=Array(t.where)[0];for(let t=0;t<o.length;t++)i=null==i?o[t].getQuery(e):o[t].concatQuery(i);i.get().then(e=>{try{t.onComplete(e)}catch(r){}n(e)}).catch(e=>{try{t.onFail(e)}catch(e){}r(e)})}:(n,r)=>{e.get().then(e=>{try{t.onComplete(e)}catch(r){}n(e)}).catch(e=>{try{t.onFail(e)}catch(e){}r(e)})})}getDocument(t){return new Promise((e,n)=>{this.genDocumentReference(t.path).get().then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})})}listenToDocument(t){this.validateListenerName(t.name),this.addListener(t.name,this.genDocumentReference(t.path).onSnapshot(e=>{try{t.onUpdate(e)}catch(n){}}))}listenToCollection(t){this.validateListenerName(t.name);let e=this.genCollectionReference(t.path);if((null!=t.where||null!=t.where)&&t.where.length>0){let n=void 0;const r=Array(t.where)[0];for(let t=0;t<r.length;t++)n=null==n?r[t].getQuery(e):r[t].concatQuery(n);this.addListener(t.name,n.onSnapshot(e=>{try{t.onUpdate(e)}catch(n){}}))}else this.addListener(t.name,e.onSnapshot(e=>{try{t.onUpdate(e)}catch(n){}}))}genCollectionReference(t){this.checkCollectionPathValidity(t);const e=Array(t)[0];let n=void 0,r=void 0;for(let i=0;i<e.length;i++)i%2==0?n=null==n?_p.getFirestore().collection(e[i]):r.collection(e[i]):r=n.doc(e[i]);return n}genDocumentReference(t){this.checkDocumentPathValidity(t);const e=Array(t)[0];let n=void 0,r=void 0;for(let i=0;i<e.length;i++)i%2==0?n=null==n?_p.getFirestore().collection(e[i]):r.collection(e[i]):r=n.doc(e[i]);return r}addListener(t,e){return this.listeners.set(t,e),e}stopListeningTo(t){try{this.listeners.get(t)(),this.listeners.delete(t)}catch(e){}}stopListeningToAll(){this.listeners.forEach((t,e,n)=>{this.stopListeningTo(e)})}validateListenerName(t){if(null==t||null==t||"string"!=typeof t||t.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(t))throw`Listener name: ${t} is already taken.`}checkCollectionPathValidity(t){if(null==t||null==t||t.length<=0||!this.isCollectionPath(t))throw"Not a valid path to a collection."}isCollectionPath(t){return Array(t)[0].length%2==1}checkDocumentPathValidity(t){if(null==t||null==t||t.length<=0||!this.isDocumentPath(t))throw"Not a valid path to a document."}isDocumentPath(t){return Array(t)[0].length%2==0}}class n_{constructor(t,e){this.field=t,this.direction=e}getQuery(t){return t.orderBy(this.field,this.direction)}concatQuery(t){return t.orderBy(this.field,this.direction)}}class r_{constructor(t){this.limit=t}getQuery(t){return t.limit(this.limit)}concatQuery(t){return t.limit(this.limit)}}n("WI49");class i_{constructor(){this.listeners=new Map}downloadToLocalStorage(t){return new Promise((e,n)=>{if(t instanceof Array)this.getDownloadUrl({path:t,onComplete:t=>{e(t),window.open(t,"Download")},onFail:t=>{n(t)}});else try{window.open(t,"Download"),e()}catch(r){n(r)}})}upload(t){return new Promise((e,n)=>{let r=null,i=this.genStorageRef(t.path);r=null==t.data.metadata||null==t.data.metadata?i.put(t.data.data):i.put(t.data.data,t.data.metadata),r.on("state_changed",e=>{try{t.onUpload(e)}catch(n){}},e=>{n(e);try{t.onFail(e)}catch(r){}},()=>{i.getDownloadURL().then(n=>{e(n);try{t.onComplete(n)}catch(r){}})}),this.listeners.set(t.uploadName,r)})}deleteWithUrl(t){return new Promise((e,n)=>{_p.getStorage().refFromURL(t.url).delete().then(()=>{e();try{t.onComplete()}catch(n){}}).catch(e=>{n(e);try{t.onFail(e)}catch(e){}})})}delete(t){return new Promise((e,n)=>{this.genStorageRef(t.path).delete().then(()=>{e();try{t.onComplete()}catch(n){}}).catch(e=>{n(e);try{t.onFail(e)}catch(e){}})})}getDownloadUrl(t){return new Promise((e,n)=>{const r=this.genStorageRef(t.path);try{r.getDownloadURL().then(n=>{e(n);try{t.onComplete(n)}catch(r){}})}catch(i){n(i);try{t.onFail(i)}catch(i){}}})}genStorageRef(t){let e=_p.getStorage().ref();for(let n=0;n<t.length;n++)e=e.child(t[n]);return e}}function o_(t,e){}class s_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const a_={dialogContainer:lm("dialogContainer",[pm("void, exit",dm({opacity:0,transform:"scale(0.7)"})),pm("enter",dm({transform:"none"})),mm("* => enter",hm("150ms cubic-bezier(0, 0, 0.2, 1)",dm({transform:"none",opacity:1}))),mm("* => void, * => exit",hm("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",dm({opacity:0})))])};let u_=(()=>{class t extends Lv{constructor(t,e,n,r,i,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=i,this._focusMonitor=o,this._animationStateChanged=new su,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(gs(ua),gs(Wp),gs(Ra),gs(Tc,8),gs(s_),gs(Zp))},t.\u0275dir=Kt({type:t,viewQuery:function(t,e){if(1&t&&bu(Mv,!0),2&t){let t;vu(t=wu())&&(e._portalOutlet=t.first)}},features:[es]}),t})(),c_=(()=>{class t extends u_{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return l_(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Is("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(Gs("id",e._id),fs("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),Ws("@dialogContainer",e._state))},features:[es],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&ps(0,o_,0,0,"ng-template",0)},directives:[Mv],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[a_.dialogContainer]}}),t})();const l_=Mn(c_);let h_=0;class f_{constructor(t,e,n="mat-dialog-"+h_++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new E,this._afterClosed=new E,this._beforeClosed=new E,this._state=0,e._id=n,e._animationStateChanged.pipe(rh(t=>"opened"===t.state),Xl(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(rh(t=>"closed"===t.state),Xl(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(rh(t=>27===t.keyCode&&!this.disableClose&&!Sp(t))).subscribe(t=>{t.preventDefault(),d_(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():d_(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(rh(t=>"closing"===t.state),Xl(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function d_(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const p_=new qn("MatDialogData"),m_=new qn("mat-dialog-default-options"),g_=new qn("mat-dialog-scroll-strategy"),y_={provide:g_,deps:[pb],useFactory:function(t){return()=>t.scrollStrategies.block()}};let v_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E,this._afterOpenedAtThisLevel=new E,this._ariaHiddenElements=new Map,this.afterAllClosed=Kl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Jl(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new s_)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new $v({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=Jo.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:s_,useValue:e}]}),r=new Pv(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new this._dialogRefConstructor(n,e,r.id);if(t instanceof La)e.attachTemplatePortal(new Dv(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),o=e.attachComponentPortal(new Pv(t,r.viewContainerRef,n));i.componentInstance=o.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(om,null)||i.push({provide:om,useValue:{value:t.direction,change:Nl()}}),Jo.create({parent:r||this._injector,providers:i})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(gs(pb),gs(Jo),gs(void 0),gs(void 0),gs(eb),gs(void 0),gs(zn),gs(zn),gs(qn))},t.\u0275dir=Kt({type:t}),t})(),b_=(()=>{class t extends v_{constructor(t,e,n,r,i,o,s){super(t,e,r,o,s,i,f_,c_,p_)}}return t.\u0275fac=function(e){return new(e||t)(hr(pb),hr(Jo),hr(Uc,8),hr(m_,8),hr(g_),hr(t,12),hr(eb))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),__=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[b_,y_],imports:[[gb,Uv,Yy],Yy]}),t})();function w_(t,e){return new v(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=L(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class S_{}class E_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof E_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new E_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof E_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class T_{encodeKey(t){return I_(t)}encodeValue(t){return I_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function I_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class C_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new T_,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new C_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function k_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function O_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function x_(t){return"undefined"!=typeof FormData&&t instanceof FormData}class A_{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new E_),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new C_,this.urlWithParams=e}serializeBody(){return null===this.body?null:k_(this.body)||O_(this.body)||x_(this.body)||"string"==typeof this.body?this.body:this.body instanceof C_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x_(this.body)?null:O_(this.body)?this.body.type||null:k_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof C_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new A_(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var R_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class N_ extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new E_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=R_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new N_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function P_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let D_=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof A_)r=t;else{let i=void 0;i=n.headers instanceof E_?n.headers:new E_(n.headers);let o=void 0;n.params&&(o=n.params instanceof C_?n.params:new C_({fromObject:n.params})),r=new A_(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Nl(r).pipe(ch(t=>this.handler.handle(t)));if(t instanceof A_||"events"===n.observe)return i;const o=i.pipe(rh(t=>t instanceof N_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(C(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(C(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(C(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(C(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new C_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,P_(n,e))}post(t,e,n={}){return this.request("POST",t,P_(n,e))}put(t,e,n={}){return this.request("PUT",t,P_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(hr(S_))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const j_=["*"];function L_(t){return Error(`Unable to find icon with the name "${t}"`)}function F_(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function M_(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class U_{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let V_=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new U_(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,r){const i=this._sanitizer.sanitize(Wr.HTML,n);if(!i)throw M_(n);return this._addSvgIconConfig(t,e,new U_("",i,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new U_(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Wr.HTML,e);if(!r)throw M_(e);return this._addSvgIconSetConfig(t,new U_("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Wr.RESOURCE_URL,t);if(!e)throw F_(t);const n=this._cachedIconsByUrl.get(e);return n?Nl(B_(n)):this._loadSvgIconFromConfig(new U_(t,null)).pipe(Sh(t=>this._cachedIconsByUrl.set(e,t)),C(t=>B_(t)))}getNamedSvgIcon(t,e=""){const n=q_(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):(o=L_(n),new v(t=>t.error(o)));var o}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Nl(B_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(C(t=>B_(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Nl(n):function(...t){if(1===t.length){const e=t[0];if(u(e))return w_(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return w_(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return w_(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(C(t=>e(...t)))}return w_(t,null)}(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(sh(e=>{const n=this._sanitizer.sanitize(Wr.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Nl(null)})))).pipe(C(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw L_(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Sh(e=>t.svgText=e),C(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Nl(null):this._fetchIcon(t).pipe(Sh(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,i=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(Wr.RESOURCE_URL,n);if(!o)throw F_(n);const s=this._inProgressUrlFetches.get(o);if(s)return s;const a=this._httpClient.get(o,{responseType:"text",withCredentials:i}).pipe(Ih(()=>this._inProgressUrlFetches.delete(o)),J());return this._inProgressUrlFetches.set(o,a),a}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(q_(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new U_(i.url,null,i.options):new U_(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(hr(D_,8),hr(kl),hr(Tc,8),hr(Zr))},t.\u0275prov=ut({factory:function(){return new t(hr(D_,8),hr(kl),hr(Tc,8),hr(Zr))},token:t,providedIn:"root"}),t})();function B_(t){return t.cloneNode(!0)}function q_(t,e){return t+":"+e}class H_{constructor(t){this._elementRef=t}}const z_=Jy(H_),K_=new qn("mat-icon-location",{providedIn:"root",factory:function(){const t=fr(Tc),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),G_=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],W_=G_.map(t=>`[${t}]`).join(", "),$_=/^url\(['"]?#(.*?)['"]?\)$/;let Q_=(()=>{class t extends z_{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=h.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Rp(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(W_),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)G_.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match($_):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Xl(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(gs(ua),gs(V_),Un("aria-hidden"),gs(K_),gs(Zr))},t.\u0275cmp=Ut({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(fs("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),Ms("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[es],ngContentSelectors:j_,decls:1,vars:0,template:function(t,e){1&t&&(Rs(),Ns(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),X_=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[Yy],Yy]}),t})();function Y_(t,e){1&t&&(bs(0,"div",9),ws(1,"img",10),_s())}let Z_=(()=>{class t{constructor(t){this.dialog=t,this.auth=new wp,this.firestore=new e_,this.storage=new i_}ngOnInit(){}onPostClick(t){let e=t.value;e.length<=0||(this.selectedImageFile?this.uploadImagePost(e):this.uploadPost(e))}uploadImagePost(t){let e=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Post",path:["Posts",e,"image"],data:{data:this.selectedImageFile},onComplete:n=>{this.firestore.create({path:["Posts",e],data:{comment:t,creatorId:this.auth.getAuth().currentUser.uid,imageUrl:n,timestamp:_p.getFirestoreTimestamp(),like:!1},onComplete:t=>{this.dialog.close()}})}})}uploadPost(t){this.firestore.create({path:["Posts"],data:{comment:t,creatorId:this.auth.getAuth().currentUser.uid,timestamp:_p.getFirestoreTimestamp()},onComplete:t=>{this.dialog.close()}})}onPhotoSelected(t){if(this.selectedImageFile=t.files[0],!this.selectedImageFile)return;let e=new FileReader;e.readAsDataURL(this.selectedImageFile),e.addEventListener("loadend",t=>{let n=e.result.toString();document.getElementById("post-preview-image").src=n})}}return t.\u0275fac=function(e){return new(e||t)(gs(f_))},t.\u0275cmp=Ut({type:t,selectors:[["app-create-post"]],decls:17,vars:1,consts:[["placeholder","Type Message..."],["commentInput",""],["id","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["mat-flat-button","","color","warn",3,"click"],["id","post-preview"],["id","post-preview-image"]],template:function(t,e){if(1&t){const t=Ss();bs(0,"mat-card"),bs(1,"mat-card-header"),bs(2,"mat-card-title"),Hs(3,"Create Post"),_s(),_s(),bs(4,"div"),ws(5,"textarea",0,1),_s(),ps(7,Y_,2,0,"div",2),bs(8,"mat-card-actions",3),bs(9,"button",4),bs(10,"label",5),bs(11,"input",6,7),Ts("change",function(){xe(t);const n=ms(12);return e.onPhotoSelected(n)}),_s(),bs(13,"mat-icon"),Hs(14,"insert_photo"),_s(),_s(),_s(),bs(15,"button",8),Ts("click",function(){xe(t);const n=ms(6);return e.onPostClick(n)}),Hs(16,"Post"),_s(),_s(),_s()}2&t&&(qi(7),ys("ngIf",e.selectedImageFile))},directives:[Gb,Wb,qb,Qc,zb,mv,Q_],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}#post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed grey}"]}),t})();function J_(t,e){1&t&&ws(0,"app-post",3),2&t&&ys("postData",e.$implicit)}let tw=(()=>{class t{constructor(t){this.dialog=t,this.firestore=new e_,this.posts=[]}ngOnInit(){this.getPosts()}onCreatePostClick(){this.dialog.open(Z_)}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new n_("timestamp","desc"),new r_(10)],onComplete:t=>{t.docs.forEach(t=>{let e=t.data();e.postId=t.id,this.posts.push(e)})},onFail:t=>{alert("failed to provide posts")}})}}return t.\u0275fac=function(e){return new(e||t)(gs(b_))},t.\u0275cmp=Ut({type:t,selectors:[["app-post-feed"]],decls:5,vars:1,consts:[["id","post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn","id","post-button",3,"click"],[3,"postData"]],template:function(t,e){1&t&&(bs(0,"div",0),ps(1,J_,1,1,"app-post",1),_s(),bs(2,"button",2),Ts("click",function(){return e.onCreatePostClick()}),bs(3,"mat-icon"),Hs(4,"add"),_s(),_s()),2&t&&(qi(1),ys("ngForOf",e.posts))},styles:["#post-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#post-feed[_ngcontent-%COMP%]{max-width:500px;margin-top:9em;margin-left:auto;margin-right:auto}"]}),t})();const ew=[{path:"",component:t_},{path:"emailVerification",component:yv},{path:"postfeed",component:tw},{path:"**",component:t_}];let nw=(()=>{class t{}return t.\u0275mod=Ht({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[lp.forRoot(ew)],lp]}),t})(),rw=(()=>{class t{constructor(){this.loadingStatus=new E}set loading(t){this.loadingStatus.next(t)}show(){this.loading=!0}hide(){this.loading=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})();const iw=function(t,e){return{active:t,idle:e}};let ow=(()=>{class t{constructor(){this.firestore=new e_,this.auth=new wp}ngOnInit(){}onContinueClick(t,e){let n=t.value,r=e.value;this.firestore.create({path:["Users",this.auth.getAuth().currentUser.uid],data:{publicName:n,description:r},onComplete:n=>{alert("Profile Created"),t.value="",e.value=""},onFail:t=>{}})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:4,consts:[["id","profile",3,"ngClass"],["id","profile-content"],["placeholder","Name"],["nameInput",""],["placeholder","Description"],["descriptionInput",""],["mat-flat-button","","color","warn",3,"click"]],template:function(t,e){if(1&t){const t=Ss();bs(0,"div",0),bs(1,"div",1),ws(2,"input",2,3),ws(4,"textarea",4,5),bs(6,"button",6),Ts("click",function(){xe(t);const n=ms(3),r=ms(5);return e.onContinueClick(n,r)}),Hs(7,"Continue"),_s(),_s(),_s()}var n,r,i,o,s;2&t&&ys("ngClass",(n=1,r=iw,i=e.show,o=!e.show,function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=hs(t,e,n);return hs(t,e+1,r)||i}(t,a,i,o)?ls(t,a+2,s?r.call(s,i,o):r(i,o)):ou(t,a+2)}(ke(),Fe(),n,r,i,o,s)))},directives:[Kc,mv],styles:["#profile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background-color:#1d1d1d;z-index:9;transition-duration:.5s;overflow:hidden;display:flex;justify-content:center;align-items:center}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}#profile-content[_ngcontent-%COMP%]{max-width:500px;padding:2em}#profile-content[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:1em;border-radius:1em;margin-bottom:.5em;resize:none;outline:none;border:1px solid grey}"]}),t})();function sw(t,e){if(1&t){const t=Ss();bs(0,"li",12),Ts("click",function(){return xe(t),xs().onLoginClick()}),Hs(1,"Login / Signup"),_s()}}function aw(t,e){if(1&t&&(bs(0,"div",13),Hs(1," Hello, "),bs(2,"b"),Hs(3),_s(),_s()),2&t){const t=xs();qi(3),zs(t.getUsername()?t.getUsername():"Demo")}}function uw(t,e){if(1&t){const t=Ss();bs(0,"div",12),Ts("click",function(){return xe(t),xs().onLogoutClick()}),Hs(1,"Logout"),_s()}}let cw=(()=>{class t{constructor(e,n,r){this.loginSheet=e,this.router=n,this.loader=r,this.hamburgerhidden=!1,this.auth=new wp,this.firestore=new e_,this.userHasProfile=!0,this.auth.listenToSignInStateChanges(e=>{this.auth.checkSignInState({whenSignedIn:t=>{},whenSignedOut:e=>{t.userDocument=null},whenSignedInAndEmailNotVerified:t=>{this.router.navigate(["emailVerification"])},whenSignedInAndEmailVerified:t=>{this.getUserProfile()},whenChanged:t=>{}})})}ngOnInit(){}static getUserDocument(){return t.userDocument}getUsername(){try{return this.loader.show(),console.log(t.userDocument),t.userDocument.publicName}catch(e){console.log(e)}}getUserProfile(){return new Promise((e,n)=>{this.firestore.listenToDocument({name:"Getting Documents",path:["Users",this.auth.getAuth().currentUser.uid],onUpdate:n=>{t.userDocument=n.data(),this.userHasProfile=n.exists,t.userDocument.userId=this.auth.getAuth().currentUser.uid,this.userHasProfile?(this.router.navigate(["postfeed"]),e(1)):e(0)}})})}add(t,e){return t+e}onLogoutClick(){this.auth.signOut(),this.router.navigate(["/"])}loggedIn(){return this.auth.isSignedIn()}onLoginClick(){this.loginSheet.open(Zb)}}return t.\u0275fac=function(e){return new(e||t)(gs(Lb),gs(Jd),gs(rw))},t.\u0275cmp=Ut({type:t,selectors:[["app-header"]],decls:16,vars:5,consts:[[1,"navbar"],[1,"logo"],["href","#",1,"logo"],[1,"push-left"],["id","menu-toggler","data-class","menu-active",1,"hamburger",3,"hidden"],[1,"hamburger-line","hamburger-line-top"],[1,"hamburger-line","hamburger-line-middle"],[1,"hamburger-line","hamburger-line-bottom"],["id","primary-menu",1,"menu","nav-menu"],["class","menu-item",3,"click",4,"ngIf"],["class","menu-item username-design",4,"ngIf"],[3,"show"],[1,"menu-item",3,"click"],[1,"menu-item","username-design"]],template:function(t,e){1&t&&(bs(0,"nav",0),bs(1,"div",1),bs(2,"a",2),Hs(3,"SOCIA"),bs(4,"span"),Hs(5,"L"),_s(),_s(),_s(),bs(6,"div",3),bs(7,"button",4),ws(8,"span",5),ws(9,"span",6),ws(10,"span",7),_s(),bs(11,"ul",8),ps(12,sw,2,0,"li",9),ps(13,aw,4,1,"div",10),ps(14,uw,2,0,"div",9),_s(),_s(),_s(),ws(15,"app-profile",11)),2&t&&(qi(7),ys("hidden",e.hamburgerhidden),qi(5),ys("ngIf",!e.loggedIn()),qi(1),ys("ngIf",e.loggedIn()&&e.userHasProfile),qi(1),ys("ngIf",e.loggedIn()),qi(1),ys("show",e.loggedIn()&&!e.userHasProfile))},directives:[Qc,ow],styles:[".username-design[_ngcontent-%COMP%]{margin-right:20px}.logo[_ngcontent-%COMP%]{max-width:200px}.navbar[_ngcontent-%COMP%]{top:0;z-index:10000000;align-items:center;background:#fff;box-shadow:0 5px 20px rgba(0,0,0,.2);display:flex;flex-direction:row;font-family:sans-serif;padding:10px 50px;background-color:hsla(0,0%,100%,.2);backdrop-filter:blur(20px) saturate(160%) contrast(45%) brightness(140%);-webkit-backdrop-filter:blur(20px) saturate(160%) contrast(45%) brightness(140%);position:fixed;width:100%}.push-left[_ngcontent-%COMP%]{margin-left:auto}.logo[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#000;font-size:1.2em}.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0071f3}.hamburger[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;display:none;outline:none;height:30px;position:relative;width:30px;z-index:1000}@media screen and (max-width:768px){.hamburger[_ngcontent-%COMP%]{display:inline-block}}.hamburger-line[_ngcontent-%COMP%]{background:#272727;height:3px;position:absolute;left:0;transition:all .2s ease-out;width:100%}.hamburger[_ngcontent-%COMP%]:hover   .hamburger-line[_ngcontent-%COMP%]{background:#777}.hamburger-line-top[_ngcontent-%COMP%]{top:3px}.menu-active[_ngcontent-%COMP%]   .hamburger-line-top[_ngcontent-%COMP%]{top:50%;transform:rotate(45deg) translatey(-50%)}.hamburger-line-middle[_ngcontent-%COMP%]{top:50%;transform:translatey(-50%)}.menu-active[_ngcontent-%COMP%]   .hamburger-line-middle[_ngcontent-%COMP%]{left:50%;opacity:0;width:0}.hamburger-line-bottom[_ngcontent-%COMP%]{bottom:3px}.menu-active[_ngcontent-%COMP%]   .hamburger-line-bottom[_ngcontent-%COMP%]{bottom:50%;transform:rotate(-45deg) translatey(50%)}.nav-menu[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;transition:all .25s ease-in}@media screen and (max-width:768px){.nav-menu[_ngcontent-%COMP%]{background:#fff;flex-direction:column;justify-content:center;opacity:0;position:absolute;top:0;right:0;bottom:0;left:0;transform:translatey(-100%);text-align:center}.menu-active[_ngcontent-%COMP%]   .nav-menu[_ngcontent-%COMP%]{transform:translatey(0);opacity:1}}.menu-item[_ngcontent-%COMP%]{cursor:pointer}.nav-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444;display:block;line-height:30px;margin:0 10px;text-decoration:none;text-transform:uppercase;cursor:pointer}.nav-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#777;text-decoration:underline}@media screen and (max-width:768px){.nav-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:20px;margin:8px}}.sub-nav[_ngcontent-%COMP%]{border:1px solid #ccc;display:none;position:absolute;background-color:#fff;padding:5px;list-style:none;width:230px}@media screen and (max-width:768px){.sub-nav[_ngcontent-%COMP%]{position:relative;width:100%;display:none;background-color:rgba(0,0,0,.2);box-sizing:border-box}}.nav__link[_ngcontent-%COMP%]:hover + .sub-nav[_ngcontent-%COMP%], .sub-nav[_ngcontent-%COMP%]:hover{display:block}"]}),t})(),lw=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ut({type:t,selectors:[["app-footer"]],decls:2,vars:0,template:function(t,e){1&t&&(bs(0,"p"),Hs(1,"footer works!"),_s())},styles:[""]}),t})(),hw=(()=>{class t{constructor(e,n){this.loginSheet=e,this.router=n,this.title="SocialMediaSite",this.auth=new wp,this.firestore=new e_,this.userHasProfile=!0,this.auth.listenToSignInStateChanges(e=>{this.auth.checkSignInState({whenSignedIn:t=>{},whenSignedOut:e=>{t.userDocument=null},whenSignedInAndEmailNotVerified:t=>{this.router.navigate(["emailVerification"])},whenSignedInAndEmailVerified:t=>{this.getUserProfile()},whenChanged:t=>{}})})}static getUserDocument(){return t.userDocument}getUsername(){try{return console.log(t.userDocument),t.userDocument.publicName}catch(e){console.log(e)}}getUserProfile(){return new Promise((e,n)=>{this.firestore.listenToDocument({name:"Getting Documents",path:["Users",this.auth.getAuth().currentUser.uid],onUpdate:n=>{t.userDocument=n.data(),this.userHasProfile=n.exists,t.userDocument.userId=this.auth.getAuth().currentUser.uid,this.userHasProfile?(this.router.navigate(["postfeed"]),e(1)):e(0)}})})}add(t,e){return t+e}onLogoutClick(){this.auth.signOut()}loggedIn(){return this.auth.isSignedIn()}onLoginClick(){this.loginSheet.open(Zb)}}return t.\u0275fac=function(e){return new(e||t)(gs(Lb),gs(Jd))},t.\u0275cmp=Ut({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(ws(0,"app-header"),ws(1,"router-outlet"),ws(2,"app-footer"))},directives:[cw,tp,lw],styles:[""]}),t})();const fw=function(t){return{"comment-container":!0,"creator-comment-container":t}},dw=function(t){return{comment:!0,"creator-comment":t}};function pw(t,e){if(1&t&&(bs(0,"div",6),bs(1,"div"),bs(2,"p",7),Hs(3),_s(),bs(4,"p",6),Hs(5),_s(),_s(),_s()),2&t){const t=e.$implicit,n=xs();ys("ngClass",iu(4,fw,n.isCommentCreator(t))),qi(3),zs(null==t?null:t.creatorName),qi(1),ys("ngClass",iu(6,dw,n.isCommentCreator(t))),qi(1),zs(null==t?null:t.comment)}}let mw=(()=>{class t{constructor(t){this.postId=t,this.firestore=new e_,this.comments=[]}ngOnInit(){this.getComments()}isCommentCreator(t){try{return t.creatorId==hw.getUserDocument().userId}catch(e){}}getComments(){this.firestore.listenToCollection({name:"Post Comments",path:["Posts",this.postId,"PostComments"],where:[new n_("timestamp","asc")],onUpdate:t=>{t.docChanges().forEach(t=>{"added"==t.type&&this.comments.unshift(t.doc.data())})}})}onSendClick(t){t.value.length>0&&this.firestore.create({path:["Posts",this.postId,"PostComments"],data:{comment:t.value,creatorId:hw.getUserDocument().userId,creatorName:hw.getUserDocument().publicName,timestamp:_p.getFirestoreTimestamp()},onComplete:e=>{t.value=""}})}}return t.\u0275fac=function(e){return new(e||t)(gs(p_))},t.\u0275cmp=Ut({type:t,selectors:[["app-reply"]],decls:10,vars:1,consts:[["id","reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],["id","reply-action-bar"],["mat-flat-button","","color","warn",3,"click"],["placeholder","Comment..."],["commentInput",""],[3,"ngClass"],[1,"comment-name"]],template:function(t,e){if(1&t){const t=Ss();bs(0,"p"),Hs(1,"Reply"),_s(),bs(2,"div",0),ps(3,pw,6,8,"div",1),_s(),bs(4,"div",2),bs(5,"button",3),Ts("click",function(){xe(t);const n=ms(9);return e.onSendClick(n)}),bs(6,"mat-icon"),Hs(7,"send"),_s(),_s(),ws(8,"input",4,5),_s()}2&t&&(qi(3),ys("ngForOf",e.comments))},directives:[Wc,mv,Q_,Kc],styles:["#reply-box[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto;min-width:400px;max-width:600px;padding:0 1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#reply-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;margin-top:1em;direction:rtl}input[_ngcontent-%COMP%]{padding:1em 2em 1em 1em;border:1px solid grey;outline:none;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;direction:ltr}.comment-container[_ngcontent-%COMP%]{display:flex}.comment-name[_ngcontent-%COMP%]{font-size:.9em}.comment[_ngcontent-%COMP%]{border-radius:1em;background-color:#dcdcdc;padding:1em}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}"]}),t})();function gw(t,e){if(1&t){const t=Ss();bs(0,"mat-icon",2),Ts("click",function(){return xe(t),xs().onLikeClick()}),Hs(1,"favorite"),_s()}}function yw(t,e){if(1&t){const t=Ss();bs(0,"mat-icon",2),Ts("click",function(){return xe(t),xs().onLikeClick()}),Hs(1,"favorite_border"),_s()}}let vw=(()=>{class t{constructor(t){this.dialog=t,this.firestore=new e_}ngOnInit(){this.getCreatorInfo()}onReplyClick(){this.dialog.open(mw,{data:this.postData.postId})}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.postData.creatorId],onComplete:t=>{let e=t.data();this.creatorName=e.publicName,this.creatorDescription=e.description}})}onLikeClick(){this.firestore.update({path:["Posts",this.postData.postId],data:{like:!this.postData.like},onComplete:t=>{}})}}return t.\u0275fac=function(e){return new(e||t)(gs(b_))},t.\u0275cmp=Ut({type:t,selectors:[["app-post"]],inputs:{postData:"postData"},decls:16,vars:7,consts:[["mat-card-image","",3,"src"],["class","action-item","color","warn",3,"click",4,"ngIf"],["color","warn",1,"action-item",3,"click"]],template:function(t,e){1&t&&(bs(0,"mat-card"),bs(1,"mat-card-header"),bs(2,"mat-card-title"),Hs(3),_s(),bs(4,"mat-card-subtitle"),Hs(5),_s(),_s(),ws(6,"img",0),bs(7,"mat-card-actions"),ps(8,gw,2,0,"mat-icon",1),ps(9,yw,2,0,"mat-icon",1),bs(10,"mat-icon",2),Ts("click",function(){return e.onReplyClick()}),Hs(11,"chat_bubble_outline"),_s(),_s(),bs(12,"mat-card-content"),bs(13,"b"),Hs(14),_s(),Hs(15),_s(),_s()),2&t&&(qi(3),zs(e.creatorName),qi(2),zs(e.creatorDescription),qi(1),Ps("src",null==e.postData?null:e.postData.imageUrl,$r),qi(2),ys("ngIf",!(null!=e.postData&&e.postData.like)),qi(1),ys("ngIf",null==e.postData?null:e.postData.like),qi(5),zs(e.creatorName),qi(1),Ks(" ",null==e.postData?null:e.postData.comment," "))},directives:[Gb,Wb,qb,Hb,Kb,zb,Qc,Q_,Bb],styles:["mat-card[_ngcontent-%COMP%]{margin-top:30px}.action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}"]}),t})(),bw=(()=>{class t{constructor(){_p.init(wc)}}return t.\u0275mod=Ht({type:t,bootstrap:[hw]}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[rw],imports:[[Rl,nw,Ky,gv,Pb,$b,__,X_]]}),t})();(function(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(Vt),r.pipeDefs=()=>n.map(Bt)})(tw,[Wc,vw,mv,Q_],[]),function(){if(rc)throw new Error("Cannot enable prod mode after platform setup.");nc=!1}(),xl().bootstrapModule(bw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);